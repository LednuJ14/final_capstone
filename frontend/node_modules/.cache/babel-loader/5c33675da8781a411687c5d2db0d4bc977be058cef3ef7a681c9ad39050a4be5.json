{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import ApiService from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=_ref=>{let{onClose}=_ref;const[activeTab,setActiveTab]=useState('account');const[settings,setSettings]=useState({// Account Settings\nemailNotifications:true,smsNotifications:false,marketingEmails:false,language:'English',timezone:'Asia/Manila',// Security Settings\ntwoFactorAuth:false,loginAlerts:true,sessionTimeout:'24 hours',// Privacy Settings\nprofileVisibility:'Public',showEmail:false,showPhone:false,// Display Settings\ntheme:'Light',fontSize:'Medium',compactMode:false});const handleSettingChange=(setting,value)=>{setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{[setting]:value}));};// Apply theme immediately\nuseEffect(()=>{const root=document.documentElement;const body=document.body;const applyTheme=theme=>{const prefersDark=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;const effective=theme==='Auto'?prefersDark?'Dark':'Light':theme;if(effective==='Dark')root.classList.add('dark');else root.classList.remove('dark');};const applyFont=size=>{const map={Small:'14px',Medium:'16px',Large:'18px'};root.style.fontSize=map[size]||'16px';};const applyCompact=enabled=>{if(enabled)body.setAttribute('data-compact','true');else body.removeAttribute('data-compact');};applyTheme(settings.theme);applyFont(settings.fontSize);applyCompact(settings.compactMode);// Listen for system theme changes when Auto is selected\nlet mql;if(settings.theme==='Auto'&&window.matchMedia){mql=window.matchMedia('(prefers-color-scheme: dark)');const handler=()=>applyTheme('Auto');try{mql.addEventListener('change',handler);}catch(_){try{mql.addListener(handler);}catch(_){}}return()=>{try{mql.removeEventListener('change',handler);}catch(_){try{mql.removeListener(handler);}catch(_){}}};}},[settings.theme,settings.fontSize,settings.compactMode]);// Load settings from localStorage on mount\nuseEffect(()=>{try{const raw=localStorage.getItem('tenant_settings');if(raw){const parsed=JSON.parse(raw);setSettings(prev=>_objectSpread(_objectSpread({},prev),parsed));}}catch(_){}},[]);const handleSaveSettings=()=>{try{localStorage.setItem('tenant_settings',JSON.stringify(settings));alert('Settings saved successfully!');}catch(e){console.error('Failed to save settings',e);alert('Failed to save settings');}};const[passwords,setPasswords]=useState({current:'',next:'',confirm:''});const[changing,setChanging]=useState(false);const[showPassword,setShowPassword]=useState(false);const[twofa,setTwofa]=useState({enabled:false,qr:'',secret:'',code:''});useEffect(()=>{// Fetch current 2FA enabled flag\n(async()=>{try{const data=await ApiService.getTenantProfile();const p=(data===null||data===void 0?void 0:data.profile)||{};if(typeof p.two_factor_enabled==='boolean'){setTwofa(s=>_objectSpread(_objectSpread({},s),{},{enabled:p.two_factor_enabled}));}}catch(_){}})();},[]);const handleChangePassword=async()=>{if(!passwords.current||!passwords.next||!passwords.confirm){alert('Please fill in all password fields.');return;}if(passwords.next!==passwords.confirm){alert('New password and confirmation do not match.');return;}setChanging(true);try{await ApiService.changeTenantPassword(passwords.current,passwords.next,passwords.confirm);alert('Password changed successfully.');setPasswords({current:'',next:'',confirm:''});}catch(e){console.error('Change password error:',e);alert((e===null||e===void 0?void 0:e.message)||'Failed to change password');}finally{setChanging(false);}};const handleDeleteAccount=()=>{if(window.confirm('Are you sure you want to delete your account? This action cannot be undone.')){// Handle account deletion logic here\nalert('Account deletion functionality would be implemented here');}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50 tenant-settings\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl w-full max-w-5xl max-h-[90vh] shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-black text-black\",children:\"Tenant Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Manage your preferences and security\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveSettings,className:\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800 transition-colors\",children:\"Save Changes\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(90vh-72px)]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-64 border-r border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('account'),className:\"w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='account'?'bg-black text-white':'text-gray-700 hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Account\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('security'),className:\"w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='security'?'bg-black text-white':'text-gray-700 hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Security\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('privacy'),className:\"w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='privacy'?'bg-black text-white':'text-gray-700 hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Privacy\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('display'),className:\"w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(activeTab==='display'?'bg-black text-white':'text-gray-700 hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Display\"})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-6 overflow-y-auto\",children:[activeTab==='account'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-black text-black\",children:\"Account Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Notifications\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Email Notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Receive property updates via email\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.emailNotifications,onChange:e=>handleSettingChange('emailNotifications',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"SMS Notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Receive urgent updates via SMS\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.smsNotifications,onChange:e=>handleSettingChange('smsNotifications',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Language\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.language,onChange:e=>handleSettingChange('language',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"English\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Filipino\",children:\"Filipino\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Spanish\",children:\"Spanish\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Timezone\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.timezone,onChange:e=>handleSettingChange('timezone',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Asia/Manila\",children:\"Asia/Manila (UTC+8)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Asia/Tokyo\",children:\"Asia/Tokyo (UTC+9)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/New_York\",children:\"America/New_York (UTC-5)\"})]})]})]})]})]}),activeTab==='security'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-black text-black\",children:\"Security Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Two-Factor Authentication\"}),twofa.enabled?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"2FA is enabled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"You'll be asked for a code when logging in.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await ApiService.twofaEmailDisable();setTwofa({enabled:false,qr:'',secret:'',code:''});alert('Two-factor authentication disabled');}catch(e){alert((e===null||e===void 0?void 0:e.message)||'Failed to disable 2FA');}},className:\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700\",children:\"Disable 2FA (Email)\"})})]}):/*#__PURE__*/_jsx(\"div\",{children:twofa.qr?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 mb-3\",children:\"Scan this QR with Google Authenticator or similar, then enter the 6-digit code.\"}),/*#__PURE__*/_jsx(\"img\",{src:twofa.qr,alt:\"2FA QR\",className:\"w-40 h-40 border rounded mb-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Verification Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:twofa.code,onChange:e=>setTwofa(s=>_objectSpread(_objectSpread({},s),{},{code:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",placeholder:\"123456\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await ApiService.twofaEnable(twofa.code);setTwofa({enabled:true,qr:'',secret:'',code:''});alert('Two-factor authentication enabled');}catch(e){alert((e===null||e===void 0?void 0:e.message)||'Failed to enable 2FA');}},className:\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800\",children:\"Verify & Enable\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Enable 2FA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Choose Email-based 2FA or App-based (TOTP).\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await ApiService.twofaEmailEnable();setTwofa({enabled:true,qr:'',secret:'',code:''});alert('Email-based 2FA enabled. You will receive codes by email on login.');}catch(e){alert((e===null||e===void 0?void 0:e.message)||'Failed to enable email 2FA');}},className:\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800\",children:\"Enable 2FA via Email\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const res=await ApiService.twofaSetup();setTwofa(s=>_objectSpread(_objectSpread({},s),{},{qr:(res===null||res===void 0?void 0:res.qr_data_url)||'',secret:(res===null||res===void 0?void 0:res.secret)||''}));}catch(e){alert((e===null||e===void 0?void 0:e.message)||'Failed to start TOTP setup');}},className:\"px-4 py-2 text-sm font-medium text-black bg-white border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Setup with Authenticator App (TOTP)\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:passwords.current,onChange:e=>setPasswords(p=>_objectSpread(_objectSpread({},p),{},{current:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:passwords.next,onChange:e=>setPasswords(p=>_objectSpread(_objectSpread({},p),{},{next:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",placeholder:\"At least 8 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:passwords.confirm,onChange:e=>setPasswords(p=>_objectSpread(_objectSpread({},p),{},{confirm:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",placeholder:\"Re-enter new password\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showPassword,onChange:e=>setShowPassword(e.target.checked),className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Show passwords\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChangePassword,disabled:changing,className:\"px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors \".concat(changing?'bg-gray-400 cursor-not-allowed':'bg-black hover:bg-gray-800'),children:changing?'Changing...':'Change Password'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Session Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Login Alerts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Get notified of new login attempts\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.loginAlerts,onChange:e=>handleSettingChange('loginAlerts',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Session Timeout\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.sessionTimeout,onChange:e=>handleSettingChange('sessionTimeout',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1 hour\",children:\"1 hour\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8 hours\",children:\"8 hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"24 hours\",children:\"24 hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7 days\",children:\"7 days\"})]})]})]})]})]}),activeTab==='privacy'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-black text-black\",children:\"Privacy Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Profile Visibility\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Profile Visibility\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.profileVisibility,onChange:e=>handleSettingChange('profileVisibility',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Public\",children:\"Public\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Private\",children:\"Private\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Property Managers Only\",children:\"Property Managers Only\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Show Email Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Allow property managers to see your email\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.showEmail,onChange:e=>handleSettingChange('showEmail',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Show Phone Number\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Allow property managers to see your phone\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.showPhone,onChange:e=>handleSettingChange('showPhone',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]})]})]})]})]}),activeTab==='display'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-black text-black\",children:\"Display Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-black mb-4\",children:\"Appearance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Theme\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.theme,onChange:e=>handleSettingChange('theme',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dark\",children:\"Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Auto\",children:\"Auto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Font Size\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.fontSize,onChange:e=>handleSettingChange('fontSize',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Small\",children:\"Small\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Large\",children:\"Large\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:\"Compact Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Reduce spacing for more content\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.compactMode,onChange:e=>handleSettingChange('compactMode',e.target.checked),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-red-50 border border-red-200 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-black text-red-900 mb-4\",children:\"Danger Zone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700 mb-2\",children:\"Once you delete your account, there is no going back. Please be certain.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAccount,className:\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\",children:\"Delete Account\"})]})})]})]})]})]})});};export default Settings;","map":{"version":3,"names":["React","useState","useEffect","ApiService","jsx","_jsx","jsxs","_jsxs","Settings","_ref","onClose","activeTab","setActiveTab","settings","setSettings","emailNotifications","smsNotifications","marketingEmails","language","timezone","twoFactorAuth","loginAlerts","sessionTimeout","profileVisibility","showEmail","showPhone","theme","fontSize","compactMode","handleSettingChange","setting","value","prev","_objectSpread","root","document","documentElement","body","applyTheme","prefersDark","window","matchMedia","matches","effective","classList","add","remove","applyFont","size","map","Small","Medium","Large","style","applyCompact","enabled","setAttribute","removeAttribute","mql","handler","addEventListener","_","addListener","removeEventListener","removeListener","raw","localStorage","getItem","parsed","JSON","parse","handleSaveSettings","setItem","stringify","alert","e","console","error","passwords","setPasswords","current","next","confirm","changing","setChanging","showPassword","setShowPassword","twofa","setTwofa","qr","secret","code","data","getTenantProfile","p","profile","two_factor_enabled","s","handleChangePassword","changeTenantPassword","message","handleDeleteAccount","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","concat","type","checked","onChange","target","twofaEmailDisable","src","alt","placeholder","twofaEnable","twofaEmailEnable","res","twofaSetup","qr_data_url","disabled"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/components/Tenants/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ApiService from '../../services/api';\r\n\r\nconst Settings = ({ onClose }) => {\r\n  const [activeTab, setActiveTab] = useState('account');\r\n  const [settings, setSettings] = useState({\r\n    // Account Settings\r\n    emailNotifications: true,\r\n    smsNotifications: false,\r\n    marketingEmails: false,\r\n    language: 'English',\r\n    timezone: 'Asia/Manila',\r\n    \r\n    // Security Settings\r\n    twoFactorAuth: false,\r\n    loginAlerts: true,\r\n    sessionTimeout: '24 hours',\r\n    \r\n    // Privacy Settings\r\n    profileVisibility: 'Public',\r\n    showEmail: false,\r\n    showPhone: false,\r\n    \r\n    // Display Settings\r\n    theme: 'Light',\r\n    fontSize: 'Medium',\r\n    compactMode: false\r\n  });\r\n\r\n  const handleSettingChange = (setting, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [setting]: value\r\n    }));\r\n  };\r\n\r\n  // Apply theme immediately\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    const body = document.body;\r\n    const applyTheme = (theme) => {\r\n      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      const effective = theme === 'Auto' ? (prefersDark ? 'Dark' : 'Light') : theme;\r\n      if (effective === 'Dark') root.classList.add('dark'); else root.classList.remove('dark');\r\n    };\r\n    const applyFont = (size) => {\r\n      const map = { Small: '14px', Medium: '16px', Large: '18px' };\r\n      root.style.fontSize = map[size] || '16px';\r\n    };\r\n    const applyCompact = (enabled) => {\r\n      if (enabled) body.setAttribute('data-compact', 'true'); else body.removeAttribute('data-compact');\r\n    };\r\n    applyTheme(settings.theme);\r\n    applyFont(settings.fontSize);\r\n    applyCompact(settings.compactMode);\r\n    // Listen for system theme changes when Auto is selected\r\n    let mql;\r\n    if (settings.theme === 'Auto' && window.matchMedia) {\r\n      mql = window.matchMedia('(prefers-color-scheme: dark)');\r\n      const handler = () => applyTheme('Auto');\r\n      try { mql.addEventListener('change', handler); } catch (_) { try { mql.addListener(handler); } catch (_) {} }\r\n      return () => {\r\n        try { mql.removeEventListener('change', handler); } catch (_) { try { mql.removeListener(handler); } catch (_) {} }\r\n      };\r\n    }\r\n  }, [settings.theme, settings.fontSize, settings.compactMode]);\r\n\r\n  // Load settings from localStorage on mount\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem('tenant_settings');\r\n      if (raw) {\r\n        const parsed = JSON.parse(raw);\r\n        setSettings(prev => ({ ...prev, ...parsed }));\r\n      }\r\n    } catch (_) {}\r\n  }, []);\r\n\r\n  const handleSaveSettings = () => {\r\n    try {\r\n      localStorage.setItem('tenant_settings', JSON.stringify(settings));\r\n      alert('Settings saved successfully!');\r\n    } catch (e) {\r\n      console.error('Failed to save settings', e);\r\n      alert('Failed to save settings');\r\n    }\r\n  };\r\n\r\n  const [passwords, setPasswords] = useState({ current: '', next: '', confirm: '' });\r\n  const [changing, setChanging] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [twofa, setTwofa] = useState({ enabled: false, qr: '', secret: '', code: '' });\r\n\r\n  useEffect(() => {\r\n    // Fetch current 2FA enabled flag\r\n    (async () => {\r\n      try {\r\n        const data = await ApiService.getTenantProfile();\r\n        const p = data?.profile || {};\r\n        if (typeof p.two_factor_enabled === 'boolean') {\r\n          setTwofa(s => ({ ...s, enabled: p.two_factor_enabled }));\r\n        }\r\n      } catch (_) {}\r\n    })();\r\n  }, []);\r\n  const handleChangePassword = async () => {\r\n    if (!passwords.current || !passwords.next || !passwords.confirm) {\r\n      alert('Please fill in all password fields.');\r\n      return;\r\n    }\r\n    if (passwords.next !== passwords.confirm) {\r\n      alert('New password and confirmation do not match.');\r\n      return;\r\n    }\r\n    setChanging(true);\r\n    try {\r\n      await ApiService.changeTenantPassword(passwords.current, passwords.next, passwords.confirm);\r\n      alert('Password changed successfully.');\r\n      setPasswords({ current: '', next: '', confirm: '' });\r\n    } catch (e) {\r\n      console.error('Change password error:', e);\r\n      alert(e?.message || 'Failed to change password');\r\n    } finally {\r\n      setChanging(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAccount = () => {\r\n    if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\r\n      // Handle account deletion logic here\r\n      alert('Account deletion functionality would be implemented here');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50 tenant-settings\">\r\n      <div className=\"bg-white rounded-xl w-full max-w-5xl max-h-[90vh] shadow-2xl overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\"\r\n            >\r\n              <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <div>\r\n              <h1 className=\"text-lg font-black text-black\">Tenant Settings</h1>\r\n              <p className=\"text-xs text-gray-500\">Manage your preferences and security</p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={handleSaveSettings}\r\n            className=\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800 transition-colors\"\r\n          >\r\n            Save Changes\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex h-[calc(90vh-72px)]\">\r\n          {/* Left Sidebar - Navigation */}\r\n          <div className=\"w-64 border-r border-gray-200 bg-gray-50\">\r\n            <nav className=\"p-4\">\r\n              <div className=\"space-y-1\">\r\n                <button\r\n                  onClick={() => setActiveTab('account')}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                    activeTab === 'account'\r\n                      ? 'bg-black text-white'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                    </svg>\r\n                    <span>Account</span>\r\n                  </div>\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={() => setActiveTab('security')}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                    activeTab === 'security'\r\n                      ? 'bg-black text-white'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                    </svg>\r\n                    <span>Security</span>\r\n                  </div>\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={() => setActiveTab('privacy')}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                    activeTab === 'privacy'\r\n                      ? 'bg-black text-white'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                    </svg>\r\n                    <span>Privacy</span>\r\n                  </div>\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={() => setActiveTab('display')}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                    activeTab === 'display'\r\n                      ? 'bg-black text-white'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\r\n                    </svg>\r\n                    <span>Display</span>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Right Content Area */}\r\n          <div className=\"flex-1 p-6 overflow-y-auto\">\r\n            {/* Account Settings */}\r\n            {activeTab === 'account' && (\r\n              <div className=\"space-y-6\">\r\n                <h2 className=\"text-2xl font-black text-black\">Account Settings</h2>\r\n                \r\n                {/* Notifications */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Notifications</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">Email Notifications</p>\r\n                        <p className=\"text-sm text-gray-500\">Receive property updates via email</p>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.emailNotifications}\r\n                          onChange={(e) => handleSettingChange('emailNotifications', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">SMS Notifications</p>\r\n                        <p className=\"text-sm text-gray-500\">Receive urgent updates via SMS</p>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.smsNotifications}\r\n                          onChange={(e) => handleSettingChange('smsNotifications', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Language & Timezone */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Preferences</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Language</label>\r\n                      <select\r\n                        value={settings.language}\r\n                        onChange={(e) => handleSettingChange('language', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"English\">English</option>\r\n                        <option value=\"Filipino\">Filipino</option>\r\n                        <option value=\"Spanish\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Timezone</label>\r\n                      <select\r\n                        value={settings.timezone}\r\n                        onChange={(e) => handleSettingChange('timezone', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"Asia/Manila\">Asia/Manila (UTC+8)</option>\r\n                        <option value=\"Asia/Tokyo\">Asia/Tokyo (UTC+9)</option>\r\n                        <option value=\"America/New_York\">America/New_York (UTC-5)</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Security Settings */}\r\n            {activeTab === 'security' && (\r\n              <div className=\"space-y-6\">\r\n                <h2 className=\"text-2xl font-black text-black\">Security Settings</h2>\r\n                \r\n                {/* Two-Factor Authentication */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Two-Factor Authentication</h3>\r\n                  {twofa.enabled ? (\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">2FA is enabled</p>\r\n                        <p className=\"text-sm text-gray-500\">You'll be asked for a code when logging in.</p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                          onClick={async () => {\r\n                            try {\r\n                              await ApiService.twofaEmailDisable();\r\n                              setTwofa({ enabled: false, qr: '', secret: '', code: '' });\r\n                              alert('Two-factor authentication disabled');\r\n                            } catch (e) {\r\n                              alert(e?.message || 'Failed to disable 2FA');\r\n                            }\r\n                          }}\r\n                          className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700\"\r\n                        >\r\n                          Disable 2FA (Email)\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      {twofa.qr ? (\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-700 mb-3\">Scan this QR with Google Authenticator or similar, then enter the 6-digit code.</p>\r\n                          <img src={twofa.qr} alt=\"2FA QR\" className=\"w-40 h-40 border rounded mb-3\" />\r\n                          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\r\n                            <div className=\"md:col-span-2\">\r\n                              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Verification Code</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={twofa.code}\r\n                                onChange={(e) => setTwofa(s => ({ ...s, code: e.target.value }))}\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                                placeholder=\"123456\"\r\n                              />\r\n                            </div>\r\n                            <button\r\n                              onClick={async () => {\r\n                                try {\r\n                                  await ApiService.twofaEnable(twofa.code);\r\n                                  setTwofa({ enabled: true, qr: '', secret: '', code: '' });\r\n                                  alert('Two-factor authentication enabled');\r\n                                } catch (e) {\r\n                                  alert(e?.message || 'Failed to enable 2FA');\r\n                                }\r\n                              }}\r\n                              className=\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800\"\r\n                            >\r\n                              Verify & Enable\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                              <p className=\"font-medium text-gray-900\">Enable 2FA</p>\r\n                              <p className=\"text-sm text-gray-500\">Choose Email-based 2FA or App-based (TOTP).</p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            <button\r\n                              onClick={async () => {\r\n                                try {\r\n                                  await ApiService.twofaEmailEnable();\r\n                                  setTwofa({ enabled: true, qr: '', secret: '', code: '' });\r\n                                  alert('Email-based 2FA enabled. You will receive codes by email on login.');\r\n                                } catch (e) {\r\n                                  alert(e?.message || 'Failed to enable email 2FA');\r\n                                }\r\n                              }}\r\n                              className=\"px-4 py-2 text-sm font-medium text-white bg-black rounded-lg hover:bg-gray-800\"\r\n                            >\r\n                              Enable 2FA via Email\r\n                            </button>\r\n                            <button\r\n                              onClick={async () => {\r\n                                try {\r\n                                  const res = await ApiService.twofaSetup();\r\n                                  setTwofa(s => ({ ...s, qr: res?.qr_data_url || '', secret: res?.secret || '' }));\r\n                                } catch (e) {\r\n                                  alert(e?.message || 'Failed to start TOTP setup');\r\n                                }\r\n                              }}\r\n                              className=\"px-4 py-2 text-sm font-medium text-black bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                            >\r\n                              Setup with Authenticator App (TOTP)\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Password Change */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Password</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Current Password</label>\r\n                      <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={passwords.current}\r\n                        onChange={(e) => setPasswords(p => ({ ...p, current: e.target.value }))}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">New Password</label>\r\n                      <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={passwords.next}\r\n                        onChange={(e) => setPasswords(p => ({ ...p, next: e.target.value }))}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                        placeholder=\"At least 8 characters\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm New Password</label>\r\n                      <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={passwords.confirm}\r\n                        onChange={(e) => setPasswords(p => ({ ...p, confirm: e.target.value }))}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                        placeholder=\"Re-enter new password\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-4 flex items-center justify-between\">\r\n                    <label className=\"flex items-center space-x-2 text-sm text-gray-700\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={showPassword}\r\n                        onChange={(e) => setShowPassword(e.target.checked)}\r\n                        className=\"h-4 w-4\"\r\n                      />\r\n                      <span>Show passwords</span>\r\n                    </label>\r\n                    <button\r\n                      onClick={handleChangePassword}\r\n                      disabled={changing}\r\n                      className={`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors ${changing ? 'bg-gray-400 cursor-not-allowed' : 'bg-black hover:bg-gray-800'}`}\r\n                    >\r\n                      {changing ? 'Changing...' : 'Change Password'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Session Management */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Session Management</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">Login Alerts</p>\r\n                        <p className=\"text-sm text-gray-500\">Get notified of new login attempts</p>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.loginAlerts}\r\n                          onChange={(e) => handleSettingChange('loginAlerts', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Session Timeout</label>\r\n                      <select\r\n                        value={settings.sessionTimeout}\r\n                        onChange={(e) => handleSettingChange('sessionTimeout', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"1 hour\">1 hour</option>\r\n                        <option value=\"8 hours\">8 hours</option>\r\n                        <option value=\"24 hours\">24 hours</option>\r\n                        <option value=\"7 days\">7 days</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Privacy Settings */}\r\n            {activeTab === 'privacy' && (\r\n              <div className=\"space-y-6\">\r\n                <h2 className=\"text-2xl font-black text-black\">Privacy Settings</h2>\r\n                \r\n                {/* Profile Visibility */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Profile Visibility</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Profile Visibility</label>\r\n                      <select\r\n                        value={settings.profileVisibility}\r\n                        onChange={(e) => handleSettingChange('profileVisibility', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"Public\">Public</option>\r\n                        <option value=\"Private\">Private</option>\r\n                        <option value=\"Property Managers Only\">Property Managers Only</option>\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">Show Email Address</p>\r\n                          <p className=\"text-sm text-gray-500\">Allow property managers to see your email</p>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.showEmail}\r\n                            onChange={(e) => handleSettingChange('showEmail', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                        </label>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">Show Phone Number</p>\r\n                          <p className=\"text-sm text-gray-500\">Allow property managers to see your phone</p>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={settings.showPhone}\r\n                            onChange={(e) => handleSettingChange('showPhone', e.target.checked)}\r\n                            className=\"sr-only peer\"\r\n                          />\r\n                          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Display Settings */}\r\n            {activeTab === 'display' && (\r\n              <div className=\"space-y-6\">\r\n                <h2 className=\"text-2xl font-black text-black\">Display Settings</h2>\r\n                \r\n                {/* Theme & Appearance */}\r\n                <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n                  <h3 className=\"text-lg font-black text-black mb-4\">Appearance</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Theme</label>\r\n                      <select\r\n                        value={settings.theme}\r\n                        onChange={(e) => handleSettingChange('theme', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"Light\">Light</option>\r\n                        <option value=\"Dark\">Dark</option>\r\n                        <option value=\"Auto\">Auto</option>\r\n                      </select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Font Size</label>\r\n                      <select\r\n                        value={settings.fontSize}\r\n                        onChange={(e) => handleSettingChange('fontSize', e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black\"\r\n                      >\r\n                        <option value=\"Small\">Small</option>\r\n                        <option value=\"Medium\">Medium</option>\r\n                        <option value=\"Large\">Large</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"mt-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">Compact Mode</p>\r\n                        <p className=\"text-sm text-gray-500\">Reduce spacing for more content</p>\r\n                      </div>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={settings.compactMode}\r\n                          onChange={(e) => handleSettingChange('compactMode', e.target.checked)}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-black rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black\"></div>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Danger Zone */}\r\n            <div className=\"mt-8 bg-red-50 border border-red-200 rounded-xl p-6\">\r\n              <h3 className=\"text-lg font-black text-red-900 mb-4\">Danger Zone</h3>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-red-700 mb-2\">\r\n                    Once you delete your account, there is no going back. Please be certain.\r\n                  </p>\r\n                  <button\r\n                    onClick={handleDeleteAccount}\r\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\"\r\n                  >\r\n                    Delete Account\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}