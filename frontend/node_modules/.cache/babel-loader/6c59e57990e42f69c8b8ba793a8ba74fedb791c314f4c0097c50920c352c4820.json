{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const statusToBadgeClass={pending_approval:'bg-yellow-100 text-yellow-800 border-yellow-200',active:'bg-green-100 text-green-800 border-green-200',inactive:'bg-gray-100 text-gray-700 border-gray-200',rejected:'bg-red-100 text-red-800 border-red-200'};const STORAGE_KEY='pm_buildings_v1';const ManageProperty=_ref=>{var _newProperty$images,_editingBuilding$imag;let{onOpenManageUnits=()=>{}}=_ref;const[buildings,setBuildings]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('All');const[sortBy,setSortBy]=useState('Recent');const sortOrder='desc';const[selectedIds,setSelectedIds]=useState(new Set());const[page,setPage]=useState(1);const[showAddModal,setShowAddModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[editingBuilding,setEditingBuilding]=useState(null);const[showDetailsModal,setShowDetailsModal]=useState(false);const[detailsBuilding,setDetailsBuilding]=useState(null);const[loading,setLoading]=useState(false);const[newProperty,setNewProperty]=useState({buildingName:'',subdomain:'',address:'',totalUnits:'',propertyType:'',yearBuilt:'',floorCount:'',parkingSpaces:'',contactPerson:'',contactPosition:'',contactEmail:'',contactPhone:'',businessRegNumber:'',tin:'',businessPermitNumber:'',businessPermitExpiry:'',fireSafetyCert:null,buildingPermit:null,occupancyPermit:null,electricalCert:null,amenities:[],customAmenity:'',additionalNotes:'',averageRent:'',furnishing:'',images:[],legalDocs:[]});const itemsPerPage=6;// Fetch companies for dropdown (only manager's companies)\n// Load buildings from localStorage\nuseEffect(()=>{const bootstrap=async()=>{// Try API first\ntry{// Ensure we read the same key that login writes\nconst currentUserIdRaw=localStorage.getItem('user_id')||localStorage.getItem('owner_id');const currentUserId=currentUserIdRaw?parseInt(currentUserIdRaw,10):null;const res=await api.listCompanies(currentUserId?{owner_id:currentUserId}:{});if(res&&Array.isArray(res.items)){const mapped=res.items.map(it=>({id:it.id,ownerId:it.owner_id,companyName:it.company_name||'No Company',buildingName:it.building_name||it.title||'Unnamed Property',subdomain:it.subdomain||'no-subdomain',address:it.address||'No Address',totalUnits:it.total_units||0,occupiedUnits:0,vacantUnits:it.total_units||0,status:it.status||'pending_approval',adminApproval:it.status==='approved'?'Approved':it.status==='rejected'?'Rejected':'Pending',registrationDate:it.created_at,approvalDate:null,lastUpdated:it.updated_at,monthlyRevenue:it.monthly_rent||0,averageRent:it.monthly_rent||0,contactPerson:it.contact_person||'No Contact',contactEmail:it.contact_email||'No Email',contactPhone:it.contact_phone||'No Phone',furnishing:it.furnishing||'Not Specified',propertyType:it.property_type||'Not Specified',image:'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',images:[],// Initialize empty images array\nlegalDocs:[],// Initialize empty legal docs array\namenities:[],// Initialize empty amenities array\nadditionalNotes:it.description||''// Map description to additionalNotes\n}));setBuildings(mapped);return;}}catch(_){// fall back to localStorage\n}const persistedRaw=localStorage.getItem(STORAGE_KEY);if(persistedRaw){try{const parsed=JSON.parse(persistedRaw);if(parsed&&Array.isArray(parsed)){const hasSampleData=parsed.some(building=>building.companyName==='Metro Plaza Development Corp.'||building.companyName==='Mountain Ridge Properties Inc.'||building.companyName==='Tech Hub Real Estate LLC');if(hasSampleData){localStorage.removeItem(STORAGE_KEY);setBuildings([]);return;}setBuildings(parsed);return;}}catch(error){}}setBuildings([]);};bootstrap();},[]);// Prefill contact info from manager profile (owner/user) if available\nuseEffect(()=>{(async()=>{try{var _res$profile;const res=await api.getManagerProfile();const info=(res===null||res===void 0?void 0:(_res$profile=res.profile)===null||_res$profile===void 0?void 0:_res$profile.personalInfo)||{};setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{contactPerson:prev.contactPerson||info.name||'',contactEmail:prev.contactEmail||info.email||'',contactPhone:prev.contactPhone||info.phone||''}));}catch(_){// ignore; leave fields empty if profile not available\n}})();},[]);// Save buildings to localStorage\nuseEffect(()=>{if(buildings.length>0){localStorage.setItem(STORAGE_KEY,JSON.stringify(buildings));}},[buildings]);// Reset pagination when filters/search change\nuseEffect(()=>{setPage(1);},[searchTerm,statusFilter,sortBy,sortOrder]);const filteredBuildings=useMemo(()=>{const term=(searchTerm||'').trim().toLowerCase();return buildings.filter(building=>{// Search across multiple fields\nconst haystacks=[building.companyName,building.buildingName,building.subdomain,building.address,building.contactPerson,building.contactEmail,building.contactPhone].filter(Boolean).map(v=>String(v).toLowerCase());const matchesSearch=term.length===0||haystacks.some(v=>v.includes(term));// Simplified status matching\nconst matchesStatus=statusFilter==='All'||building.status===statusFilter;return matchesSearch&&matchesStatus;});},[buildings,searchTerm,statusFilter]);const sortedBuildings=useMemo(()=>{const toDate=val=>{var _d$getTime;if(!val)return new Date(0);const d=typeof val==='string'?new Date(val):val;return isNaN(d===null||d===void 0?void 0:(_d$getTime=d.getTime)===null||_d$getTime===void 0?void 0:_d$getTime.call(d))?new Date(0):d;};const sorted=[...filteredBuildings].sort((a,b)=>{let comparison=0;switch(sortBy){case'Recent':{const dateA=toDate(a.lastUpdated||a.registrationDate);const dateB=toDate(b.lastUpdated||b.registrationDate);comparison=dateA-dateB;break;}case'Revenue':comparison=(a.monthlyRevenue||0)-(b.monthlyRevenue||0);break;case'Units':comparison=(a.totalUnits||0)-(b.totalUnits||0);break;case'Name':comparison=(a.companyName||'').localeCompare(b.companyName||'');break;default:comparison=0;}return sortOrder==='desc'?-comparison:comparison;});return sorted;},[filteredBuildings,sortBy,sortOrder]);const currentPageItems=useMemo(()=>{const startIndex=(page-1)*itemsPerPage;return sortedBuildings.slice(startIndex,startIndex+itemsPerPage);},[sortedBuildings,page]);const totalPages=Math.ceil(sortedBuildings.length/itemsPerPage);const formatDate=date=>{if(!date)return'N/A';// Convert string to Date object if needed\nconst dateObj=typeof date==='string'?new Date(date):date;if(isNaN(dateObj.getTime()))return'N/A';return dateObj.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});};const formatCurrency=amount=>{return new Intl.NumberFormat('en-PH',{style:'currency',currency:'PHP',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount);};const getStatusBadgeClass=status=>{switch(status){case'active':return'bg-green-100 text-green-800 border border-green-200';case'pending_approval':return'bg-yellow-100 text-yellow-800 border border-yellow-200';case'inactive':return'bg-gray-100 text-gray-800 border border-gray-200';default:return'bg-gray-100 text-gray-800 border border-gray-200';}};const getSubdomainUrl=subdomain=>{// Build a correct portal URL for both local dev and production\nconst host=window.location.hostname||'';// For localhost we want to open the dedicated sub-domain app (default 8080)\nif(host.includes('localhost')){const devPort=process.env.REACT_APP_SUBDOMAIN_PORT||'8080';return\"http://\".concat(subdomain,\".localhost:\").concat(devPort);}// Production: use configurable base domain and protocol\nconst baseDomain=process.env.REACT_APP_PORTAL_BASE_DOMAIN||'jacs.com';const protocol=process.env.REACT_APP_PORTAL_PROTOCOL||'https';return\"\".concat(protocol,\"://\").concat(subdomain,\".\").concat(baseDomain);};const getSubdomainDisplay=subdomain=>{if(!subdomain||subdomain==='no-subdomain'){return'No subdomain';}const host=window.location.hostname||'';if(host.includes('localhost')){const devPort=process.env.REACT_APP_SUBDOMAIN_PORT||'8080';return\"\".concat(subdomain,\".localhost:\").concat(devPort);}const baseDomain=process.env.REACT_APP_PORTAL_BASE_DOMAIN||'jacs.com';return\"\".concat(subdomain,\".\").concat(baseDomain);};const handleEditClick=building=>{// Create a shallow copy to edit and ensure arrays are initialized\nsetEditingBuilding(_objectSpread(_objectSpread({},building),{},{images:building.images||[],legalDocs:building.legalDocs||[],amenities:building.amenities||[],customAmenity:'',additionalNotes:building.additionalNotes||''}));setShowEditModal(true);};const handleSaveEdit=async()=>{if(!editingBuilding)return;try{setLoading(true);// Prepare the data for API call\nconst updateData={title:editingBuilding.buildingName,building_name:editingBuilding.buildingName,description:editingBuilding.additionalNotes||'',property_type:editingBuilding.propertyType,address:editingBuilding.address,city:editingBuilding.city||'Cebu City',province:editingBuilding.province||'Cebu',total_units:parseInt(editingBuilding.totalUnits)||1,contact_person:editingBuilding.contactPerson,contact_email:editingBuilding.contactEmail,contact_phone:editingBuilding.contactPhone,monthly_rent:parseFloat(editingBuilding.averageRent)||0,furnishing:editingBuilding.furnishing,status:editingBuilding.status,images:JSON.stringify(editingBuilding.images||[]),legal_documents:JSON.stringify(editingBuilding.legalDocs||[]),amenities:JSON.stringify(editingBuilding.amenities||[])};console.log('Updating property with data:',updateData);// Make API call to update property\nconst response=await fetch(\"/api/manager/properties/property/\".concat(editingBuilding.id),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('access_token')||localStorage.getItem('token'))},body:JSON.stringify(updateData)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Failed to update property');}const result=await response.json();console.log('Property updated successfully:',result);// Update local state with the updated property\nconst original=buildings.find(b=>b.id===editingBuilding.id);const updated=_objectSpread(_objectSpread({},editingBuilding),{},{lastUpdated:new Date(),// Set main image from first image in images array\nimage:editingBuilding.images&&editingBuilding.images.length>0?editingBuilding.images[0]:editingBuilding.image||'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',// Ensure arrays are properly initialized\nimages:editingBuilding.images||[],legalDocs:editingBuilding.legalDocs||[],amenities:editingBuilding.amenities||[]});// Handle status changes and approval dates\nif(original&&original.status!==editingBuilding.status){// If status changed from pending_approval to active, set approval date\nif(original.status==='pending_approval'&&editingBuilding.status==='active'){updated.approvalDate=new Date();}// If status changed to rejected, clear approval date\nif(editingBuilding.status==='rejected'){updated.approvalDate=null;}}setBuildings(prev=>prev.map(b=>b.id===updated.id?updated:b));setShowEditModal(false);setEditingBuilding(null);// Show success message\nalert('Property updated successfully!');}catch(error){console.error('Error updating property:',error);alert(\"Failed to update property: \".concat(error.message));}finally{setLoading(false);}};const handleViewDetails=building=>{setDetailsBuilding(building);setShowDetailsModal(true);};const handleInputChange=(field,value)=>{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleLegalUpload=event=>{const files=Array.from(event.target.files);const urls=files.map(file=>URL.createObjectURL(file));setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{legalDocs:[...prev.legalDocs,...urls]}));};const removeLegalDoc=index=>{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{legalDocs:prev.legalDocs.filter((_,i)=>i!==index)}));};const handlePropertyImageUpload=event=>{const files=Array.from(event.target.files);const urls=files.map(file=>URL.createObjectURL(file));setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{images:[...(prev.images||[]),...urls].slice(0,10)// Limit to 10 images\n}));};const removePropertyImage=index=>{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{images:prev.images.filter((_,i)=>i!==index)}));};// Edit modal handlers\nconst handleEditPropertyImageUpload=event=>{const files=Array.from(event.target.files);const urls=files.map(file=>URL.createObjectURL(file));setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{images:[...(prev.images||[]),...urls].slice(0,10)// Limit to 10 images\n}));};const removeEditPropertyImage=index=>{setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{images:prev.images.filter((_,i)=>i!==index)}));};const handleEditLegalUpload=event=>{const files=Array.from(event.target.files);const urls=files.map(file=>URL.createObjectURL(file));setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{legalDocs:[...(prev.legalDocs||[]),...urls]}));};const removeEditLegalDoc=index=>{setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{legalDocs:prev.legalDocs.filter((_,i)=>i!==index)}));};const handleSubmit=e=>{e.preventDefault();// Create new building entry with defaults\nconst now=new Date();const averageRent=parseInt(newProperty.averageRent||'0',10)||0;const totalUnitsNum=parseInt(newProperty.totalUnits||'0',10)||0;const newBuilding={id:Date.now(),companyName:'',// Will be set from user's company field\nbuildingName:newProperty.buildingName.trim(),subdomain:newProperty.subdomain.trim().toLowerCase(),address:newProperty.address.trim(),totalUnits:totalUnitsNum,occupiedUnits:0,vacantUnits:totalUnitsNum,status:'pending_approval',adminApproval:'Pending',registrationDate:now,approvalDate:null,lastUpdated:now,monthlyRevenue:0,averageRent,propertyType:newProperty.propertyType||'',contactPerson:newProperty.contactPerson.trim(),contactEmail:newProperty.contactEmail.trim(),contactPhone:newProperty.contactPhone.trim(),furnishing:newProperty.furnishing||'',image:newProperty.images&&newProperty.images.length>0?newProperty.images[0]:'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',legalDocs:newProperty.legalDocs||[]};setBuildings(prev=>[newBuilding,...prev]);// Fire-and-forget API persist; on success, replace temp ID with DB ID\n(async()=>{try{const currentUserIdRawCreate=localStorage.getItem('user_id');const payload={building_name:newBuilding.buildingName,subdomain:newBuilding.subdomain,address:newBuilding.address,total_units:newBuilding.totalUnits,monthly_rent:newProperty.averageRent||null,property_type:newProperty.propertyType||null,furnishing:newProperty.furnishing||null,contact_person:newBuilding.contactPerson,contact_email:newBuilding.contactEmail,contact_phone:newBuilding.contactPhone,amenities:newProperty.amenities||[],images:newProperty.images||[],additional_notes:newProperty.additionalNotes||'',legal_documents:newProperty.legalDocs||[],owner_id:currentUserIdRawCreate?parseInt(currentUserIdRawCreate,10):undefined};const res=await api.createCompany(payload);if(res&&res.item&&res.item.id){setBuildings(prev=>prev.map(b=>b.id===newBuilding.id?_objectSpread(_objectSpread({},newBuilding),{},{id:res.item.id}):b));}}catch(err){console.warn('Failed to persist managed property, keeping local only',err);}})();setShowAddModal(false);// Reset form\nsetNewProperty({buildingName:'',subdomain:'',address:'',totalUnits:'',propertyType:'',yearBuilt:'',floorCount:'',parkingSpaces:'',contactPerson:'',contactPosition:'',contactEmail:'',contactPhone:'',businessRegNumber:'',tin:'',businessPermitNumber:'',businessPermitExpiry:'',fireSafetyCert:null,buildingPermit:null,occupancyPermit:null,electricalCert:null,amenities:[],customAmenity:'',additionalNotes:'',images:[],averageRent:'',furnishing:'',legalDocs:[]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 via-gray-900 to-black text-white mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-2\",children:\"Property Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-lg\",children:\"Manage your property and subdomains\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-400 rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[buildings.filter(b=>b.status==='Active').length,\" Active\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-400 rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[buildings.filter(b=>b.status==='pending_approval').length,\" Pending\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-400 rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[buildings.filter(b=>b.status==='Approved').length,\" Approved\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(true),className:\"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-6 py-3 rounded-xl hover:bg-white/20 transition-all duration-200 font-medium\",children:\"Add New Property\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search buildings...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inactive\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rejected\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Recent\",children:\"Recent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Revenue\",children:\"Revenue\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Units\",children:\"Total Units\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Name\",children:\"Company Name\"})]})]})]})}),currentPageItems.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg border border-gray-100 p-12 text-center\",children:buildings.length===0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"No Property available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Get started by adding your first property company\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(true),className:\"bg-black text-white px-6 py-3 rounded-xl hover:bg-gray-800 transition-colors\",children:\"Add New Property\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"No property match your filters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Try adjusting your search criteria\"})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:currentPageItems.map(building=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-48 bg-gray-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:building.image,alt:building.buildingName,className:\"w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedIds.has(building.id),onChange:e=>{const newSelected=new Set(selectedIds);if(e.target.checked){newSelected.add(building.id);}else{newSelected.delete(building.id);}setSelectedIds(newSelected);},className:\"w-5 h-5 text-black border-gray-300 rounded focus:ring-black\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 right-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold border \".concat(statusToBadgeClass[building.status]),children:building.status})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-3 left-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded text-xs font-semibold bg-white bg-opacity-90 text-gray-700 border border-gray-200\",children:[building.totalUnits,\" units\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-lg mb-1\",children:building.buildingName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:building.companyName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs capitalize\",children:building.propertyType})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-black\",children:formatCurrency(building.monthlyRevenue)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"monthly revenue\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"Subdomain:\"}),building.status==='pending_approval'?/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-400 cursor-not-allowed\",children:[getSubdomainDisplay(building.subdomain),\" (Pending Approval)\"]}):/*#__PURE__*/_jsx(\"a\",{href:getSubdomainUrl(building.subdomain),target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm font-medium text-blue-600 hover:text-blue-800\",children:getSubdomainDisplay(building.subdomain)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Total Units\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:building.totalUnits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Occupied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-green-600\",children:building.occupiedUnits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Vacant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-orange-600\",children:building.vacantUnits})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Contact:\"}),\" \",building.contactPerson]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Email:\"}),\" \",building.contactEmail]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Registered: \",formatDate(building.registrationDate)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Updated: \",formatDate(building.lastUpdated)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditClick(building),className:\"flex-1 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(building),className:\"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onOpenManageUnits(building),disabled:building.adminApproval!=='Approved',className:\"flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors \".concat(building.adminApproval!=='Approved'?'bg-gray-100 text-gray-400 cursor-not-allowed':'bg-blue-100 text-blue-700 hover:bg-blue-200'),children:building.adminApproval!=='Approved'?'Awaiting Approval':'Manage Units'})]})]})]},building.id))}),totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(Math.max(1,page-1)),disabled:page===1,className:\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Page \",page,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(Math.min(totalPages,page+1)),disabled:page===totalPages,className:\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:\"Next\"})]})})]}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Add New Property\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mr-3\",children:\"1\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Basic Information\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter property name\",value:newProperty.buildingName,onChange:e=>handleInputChange('buildingName',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Subdomain *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"subdomain\",value:newProperty.subdomain,onChange:e=>handleInputChange('subdomain',e.target.value),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-3 bg-gray-100 border border-l-0 border-gray-300 rounded-r-xl text-gray-600 font-medium\",children:\".jacs.com\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"This will be your property's website URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Complete Address *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter the complete address including street, barangay, city, province\",rows:\"3\",value:newProperty.address,onChange:e=>handleInputChange('address',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-green-100 text-green-600 rounded-full text-sm font-semibold mr-3\",children:\"2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Property Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Total Units *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",min:\"1\",value:newProperty.totalUnits,onChange:e=>handleInputChange('totalUnits',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Brief description or notes\",value:newProperty.additionalNotes,onChange:e=>handleInputChange('additionalNotes',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Average Monthly Rent (\\u20B1)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",placeholder:\"e.g., 15000\",value:newProperty.averageRent,onChange:e=>handleInputChange('averageRent',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Furnishing\"}),/*#__PURE__*/_jsxs(\"select\",{value:newProperty.furnishing,onChange:e=>handleInputChange('furnishing',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select furnishing level\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UNFURNISHED\",children:\"Unfurnished\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SEMI_FURNISHED\",children:\"Semi-furnished\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FURNISHED\",children:\"Fully furnished\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Property Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:newProperty.propertyType,onChange:e=>handleInputChange('propertyType',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select property type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bed_space\",children:\"Bed Space\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dormitory\",children:\"Dormitory\"}),/*#__PURE__*/_jsx(\"option\",{value:\"boarding_house\",children:\"Boarding House\"}),/*#__PURE__*/_jsx(\"option\",{value:\"studio_apartment\",children:\"Studio Apartment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"room_for_rent\",children:\"Room for Rent\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full text-sm font-semibold mr-3\",children:\"3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Contact Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Contact Person *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full name\",value:newProperty.contactPerson,onChange:e=>handleInputChange('contactPerson',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email@example.com\",value:newProperty.contactEmail,onChange:e=>handleInputChange('contactEmail',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus-border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"+63 912 345 6789\",value:newProperty.contactPhone,onChange:e=>handleInputChange('contactPhone',e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus-border-transparent\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-orange-100 text-orange-600 rounded-full text-sm font-semibold mr-3\",children:\"4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Media & Documents\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),\"Property Images\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[newProperty.images&&newProperty.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Property \".concat(index+1),className:\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removePropertyImage(index),className:\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index)),(!newProperty.images||newProperty.images.length<10)&&/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"property-images-upload\",className:\"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"property-images-upload\",multiple:true,accept:\"image/*\",onChange:handlePropertyImageUpload,className:\"hidden\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-600 font-medium\",children:\"Add Images\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[((_newProperty$images=newProperty.images)===null||_newProperty$images===void 0?void 0:_newProperty$images.length)||0,\"/10 uploaded\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg\",children:\"\\uD83D\\uDCF8 Upload photos of the property exterior, common areas, lobby, amenities, and key features. Maximum 10 images allowed.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),\"Legal Documents\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[newProperty.legalDocs.map((docUrl,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-32 h-32 rounded-lg overflow-hidden border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"img\",{src:docUrl,alt:\"Document \".concat(index+1),className:\"w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeLegalDoc(index),className:\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 flex items-center justify-center hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index)),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"legal-docs-upload\",className:\"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"legal-docs-upload\",multiple:true,accept:\"image/*\",onChange:handleLegalUpload,className:\"hidden\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-600 text-center\",children:[\"Upload\",/*#__PURE__*/_jsx(\"br\",{}),\"Documents\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 bg-orange-50 p-3 rounded-lg\",children:\"\\uD83D\\uDCC4 Upload photos or scans of permits, title deeds, tax declarations, occupancy permits, electrical certificates, and other legal documents.\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-teal-100 text-teal-600 rounded-full text-sm font-semibold mr-3\",children:\"5\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Property Amenities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:\"Available Amenities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:['Swimming Pool','Gym/Fitness Center','Parking','Security Guard','Elevator','Garden/Green Space','Children Playground','WiFi/Internet','Air Conditioning','Heating','Balcony/Terrace','Laundry Room','Storage Unit','Pet Friendly','Wheelchair Accessible','24/7 Security','CCTV Surveillance','Generator'].map(amenity=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3 cursor-pointer p-3 hover:bg-gray-50 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newProperty.amenities.includes(amenity),onChange:e=>{if(e.target.checked){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,amenity]}));}else{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:prev.amenities.filter(a=>a!==amenity)}));}},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 font-medium\",children:amenity})]},amenity))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:\"Add Custom Amenity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter custom amenity name...\",value:newProperty.customAmenity||'',onChange:e=>setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{customAmenity:e.target.value})),onKeyPress:e=>{if(e.key==='Enter'&&newProperty.customAmenity.trim()){e.preventDefault();if(!newProperty.amenities.includes(newProperty.customAmenity.trim())){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,prev.customAmenity.trim()],customAmenity:''}));}}},className:\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{if(newProperty.customAmenity.trim()&&!newProperty.amenities.includes(newProperty.customAmenity.trim())){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,prev.customAmenity.trim()],customAmenity:''}));}},className:\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\",children:\"Add Amenity\"})]})]}),newProperty.amenities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:[\"Selected Amenities\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\",children:newProperty.amenities.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:newProperty.amenities.map((amenity,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-4 py-2 rounded-full text-sm bg-blue-100 text-blue-800 font-medium\",children:[amenity,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:prev.amenities.filter((_,i)=>i!==index)}));},className:\"ml-2 text-blue-600 hover:text-red-500 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAddModal(false),className:\"flex-1 px-8 py-4 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\",children:\"Create Property\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Legacy Property Amenities\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Available Amenities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:['Swimming Pool','Gym/Fitness Center','Parking','Security','Elevator','Garden','Playground','WiFi','Air Conditioning','Heating','Balcony','Terrace','Laundry Room','Storage','Pet Friendly','Wheelchair Accessible'].map(amenity=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newProperty.amenities.includes(amenity),onChange:e=>{if(e.target.checked){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,amenity]}));}else{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:prev.amenities.filter(a=>a!==amenity)}));}},className:\"rounded border-gray-300 text-black focus:ring-black focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:amenity})]},amenity))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Add Custom Amenity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter custom amenity...\",value:newProperty.customAmenity||'',onChange:e=>setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{customAmenity:e.target.value})),onKeyPress:e=>{if(e.key==='Enter'&&newProperty.customAmenity.trim()){e.preventDefault();if(!newProperty.amenities.includes(newProperty.customAmenity.trim())){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,prev.customAmenity.trim()],customAmenity:''}));}}},className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{if(newProperty.customAmenity.trim()&&!newProperty.amenities.includes(newProperty.customAmenity.trim())){setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...prev.amenities,prev.customAmenity],customAmenity:''}));}},className:\"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors\",children:\"Add\"})]})]}),newProperty.amenities.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Selected Amenities (\",newProperty.amenities.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:newProperty.amenities.map((amenity,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800\",children:[amenity,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setNewProperty(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:prev.amenities.filter((_,i)=>i!==index)}));},className:\"ml-2 text-gray-500 hover:text-red-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index))})]})]})]})]})]})}),showEditModal&&editingBuilding&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Edit Property\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowEditModal(false);setEditingBuilding(null);},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:e=>{e.preventDefault();handleSaveEdit();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mr-3\",children:\"1\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Basic Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Company Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full px-4 py-3 bg-green-50 border border-green-200 rounded-xl text-green-800 font-medium\",children:[\"\\u2713 \",editingBuilding.companyName||'No Company']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter property name\",value:editingBuilding.buildingName||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{buildingName:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Subdomain *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"subdomain\",value:editingBuilding.subdomain||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{subdomain:e.target.value})),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-3 bg-gray-100 border border-l-0 border-gray-300 rounded-r-xl text-gray-600 font-medium\",children:\".jacs.com\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"This will be your property's website URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Complete Address *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter the complete address including street, barangay, city, province\",rows:\"3\",value:editingBuilding.address||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{address:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-green-100 text-green-600 rounded-full text-sm font-semibold mr-3\",children:\"2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Property Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingBuilding.propertyType||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{propertyType:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select property type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"apartment\",children:\"Apartment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"condominium\",children:\"Condominium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"house\",children:\"House\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial\",children:\"Commercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Furnishing Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingBuilding.furnishing||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{furnishing:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select furnishing level\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UNFURNISHED\",children:\"Unfurnished\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SEMI_FURNISHED\",children:\"Semi-furnished\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FURNISHED\",children:\"Fully furnished\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Total Units *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Number of units\",min:\"1\",value:editingBuilding.totalUnits||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{totalUnits:parseInt(e.target.value||'0')})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Average Monthly Rent (\\u20B1)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",placeholder:\"e.g., 15,000\",value:editingBuilding.averageRent||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{averageRent:parseInt(e.target.value||'0')})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Property Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:editingBuilding.status||'pending_approval',onChange:e=>{const newStatus=e.target.value;setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{status:newStatus,// Auto-set admin approval based on status\nadminApproval:newStatus==='active'?'Approved':newStatus==='inactive'?'Approved':newStatus==='rejected'?'Rejected':'Pending'}));},className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending_approval\",children:\"Pending Review\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active (Live)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive (Paused)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rejected\",children:\"Rejected\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[editingBuilding.status==='pending_approval'&&'Property is under review',editingBuilding.status==='active'&&'Property is live and accepting tenants',editingBuilding.status==='inactive'&&'Property is temporarily paused',editingBuilding.status==='rejected'&&'Property was rejected and needs revision']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Additional Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Brief description of the property, special features, or any additional information\",rows:\"3\",value:editingBuilding.additionalNotes||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{additionalNotes:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full text-sm font-semibold mr-3\",children:\"3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Contact Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Contact Person *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full name\",value:editingBuilding.contactPerson||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{contactPerson:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email@example.com\",value:editingBuilding.contactEmail||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{contactEmail:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-3\",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"+63 912 345 6789\",value:editingBuilding.contactPhone||'',onChange:e=>setEditingBuilding(_objectSpread(_objectSpread({},editingBuilding),{},{contactPhone:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-orange-100 text-orange-600 rounded-full text-sm font-semibold mr-3\",children:\"4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Media & Documents\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),\"Property Images\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[editingBuilding.images&&editingBuilding.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Property \".concat(index+1),className:\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeEditPropertyImage(index),className:\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index)),(!editingBuilding.images||editingBuilding.images.length<10)&&/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"edit-property-images-upload\",className:\"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"edit-property-images-upload\",multiple:true,accept:\"image/*\",onChange:handleEditPropertyImageUpload,className:\"hidden\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-600 font-medium\",children:\"Add Images\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[((_editingBuilding$imag=editingBuilding.images)===null||_editingBuilding$imag===void 0?void 0:_editingBuilding$imag.length)||0,\"/10 uploaded\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg\",children:\"\\uD83D\\uDCF8 Upload photos of the property exterior, common areas, lobby, amenities, and key features. Maximum 10 images allowed.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),\"Legal Documents\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[editingBuilding.legalDocs&&editingBuilding.legalDocs.map((docUrl,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-32 h-32 rounded-lg overflow-hidden border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsx(\"img\",{src:docUrl,alt:\"Document \".concat(index+1),className:\"w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeEditLegalDoc(index),className:\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 flex items-center justify-center hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index)),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"edit-legal-docs-upload\",className:\"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"edit-legal-docs-upload\",multiple:true,accept:\"image/*\",onChange:handleEditLegalUpload,className:\"hidden\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-600 text-center\",children:[\"Upload\",/*#__PURE__*/_jsx(\"br\",{}),\"Documents\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 bg-orange-50 p-3 rounded-lg\",children:\"\\uD83D\\uDCC4 Upload photos or scans of permits, title deeds, tax declarations, occupancy permits, electrical certificates, and other legal documents.\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-8 h-8 bg-teal-100 text-teal-600 rounded-full text-sm font-semibold mr-3\",children:\"5\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Property Amenities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:\"Available Amenities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:['Swimming Pool','Gym/Fitness Center','Parking','Security Guard','Elevator','Garden/Green Space','Children Playground','WiFi/Internet','Air Conditioning','Heating','Balcony/Terrace','Laundry Room','Storage Unit','Pet Friendly','Wheelchair Accessible','24/7 Security','CCTV Surveillance','Generator'].map(amenity=>{var _editingBuilding$amen;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3 cursor-pointer p-3 hover:bg-gray-50 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_editingBuilding$amen=editingBuilding.amenities)===null||_editingBuilding$amen===void 0?void 0:_editingBuilding$amen.includes(amenity))||false,onChange:e=>{if(e.target.checked){setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...(prev.amenities||[]),amenity]}));}else{setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:(prev.amenities||[]).filter(a=>a!==amenity)}));}},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 font-medium\",children:amenity})]},amenity);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:\"Add Custom Amenity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter custom amenity name...\",value:editingBuilding.customAmenity||'',onChange:e=>setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{customAmenity:e.target.value})),onKeyPress:e=>{var _editingBuilding$cust;if(e.key==='Enter'&&(_editingBuilding$cust=editingBuilding.customAmenity)!==null&&_editingBuilding$cust!==void 0&&_editingBuilding$cust.trim()){var _editingBuilding$amen2;e.preventDefault();if(!((_editingBuilding$amen2=editingBuilding.amenities)!==null&&_editingBuilding$amen2!==void 0&&_editingBuilding$amen2.includes(editingBuilding.customAmenity.trim()))){setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...(prev.amenities||[]),prev.customAmenity.trim()],customAmenity:''}));}}},className:\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{var _editingBuilding$cust2,_editingBuilding$amen3;if((_editingBuilding$cust2=editingBuilding.customAmenity)!==null&&_editingBuilding$cust2!==void 0&&_editingBuilding$cust2.trim()&&!((_editingBuilding$amen3=editingBuilding.amenities)!==null&&_editingBuilding$amen3!==void 0&&_editingBuilding$amen3.includes(editingBuilding.customAmenity.trim()))){setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:[...(prev.amenities||[]),prev.customAmenity.trim()],customAmenity:''}));}},className:\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\",children:\"Add Amenity\"})]})]}),editingBuilding.amenities&&editingBuilding.amenities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:[\"Selected Amenities\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\",children:editingBuilding.amenities.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:editingBuilding.amenities.map((amenity,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-4 py-2 rounded-full text-sm bg-blue-100 text-blue-800 font-medium\",children:[amenity,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setEditingBuilding(prev=>_objectSpread(_objectSpread({},prev),{},{amenities:(prev.amenities||[]).filter((_,i)=>i!==index)}));},className:\"ml-2 text-blue-600 hover:text-red-500 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]},index))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowEditModal(false);setEditingBuilding(null);},className:\"flex-1 px-8 py-4 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\",children:\"Save Changes\"})]})})]})]})}),showDetailsModal&&detailsBuilding&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:detailsBuilding.buildingName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Property Details & Information\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDetailsModal(false);setDetailsBuilding(null);},className:\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailsBuilding.image,alt:detailsBuilding.buildingName,className:\"w-full h-80 object-cover rounded-2xl border border-gray-200 shadow-lg\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(getStatusBadgeClass(detailsBuilding.status)),children:detailsBuilding.status.replace('_',' ').toUpperCase()})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:detailsBuilding.propertyType||'Building'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:detailsBuilding.companyName})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),\"Location\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:detailsBuilding.address}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[detailsBuilding.city,\", \",detailsBuilding.province]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"})}),\"Portal Access\"]}),detailsBuilding.status==='pending_approval'?/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-500\",children:[getSubdomainDisplay(detailsBuilding.subdomain),\" (Pending Approval)\"]}):/*#__PURE__*/_jsxs(\"a\",{href:getSubdomainUrl(detailsBuilding.subdomain),target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:text-blue-800 font-medium text-sm\",children:[getSubdomainDisplay(detailsBuilding.subdomain),\" \\u2192\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:detailsBuilding.totalUnits}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Total Units\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:detailsBuilding.occupiedUnits||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Occupied\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-orange-600\",children:detailsBuilding.vacantUnits||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Vacant\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"})}),\"Financial Details\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Monthly Revenue\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(detailsBuilding.monthlyRevenue)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Average Rent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(detailsBuilding.averageRent)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Furnishing\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:detailsBuilding.furnishing||'Not specified'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),\"Contact Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Contact Person\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:detailsBuilding.contactPerson})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:detailsBuilding.contactEmail})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:detailsBuilding.contactPhone})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),\"Timeline & Status\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Registered\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:formatDate(detailsBuilding.registrationDate)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:formatDate(detailsBuilding.approvalDate)||'Not approved yet'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Last Updated\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:formatDate(detailsBuilding.lastUpdated)})]})]})]})]}),detailsBuilding.amenities&&detailsBuilding.amenities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-indigo-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"})}),\"Amenities\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:detailsBuilding.amenities.map((amenity,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800 font-medium\",children:amenity},index))})]})]})]})})]});};export default ManageProperty;","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","jsx","_jsx","jsxs","_jsxs","statusToBadgeClass","pending_approval","active","inactive","rejected","STORAGE_KEY","ManageProperty","_ref","_newProperty$images","_editingBuilding$imag","onOpenManageUnits","buildings","setBuildings","searchTerm","setSearchTerm","statusFilter","setStatusFilter","sortBy","setSortBy","sortOrder","selectedIds","setSelectedIds","Set","page","setPage","showAddModal","setShowAddModal","showEditModal","setShowEditModal","editingBuilding","setEditingBuilding","showDetailsModal","setShowDetailsModal","detailsBuilding","setDetailsBuilding","loading","setLoading","newProperty","setNewProperty","buildingName","subdomain","address","totalUnits","propertyType","yearBuilt","floorCount","parkingSpaces","contactPerson","contactPosition","contactEmail","contactPhone","businessRegNumber","tin","businessPermitNumber","businessPermitExpiry","fireSafetyCert","buildingPermit","occupancyPermit","electricalCert","amenities","customAmenity","additionalNotes","averageRent","furnishing","images","legalDocs","itemsPerPage","bootstrap","currentUserIdRaw","localStorage","getItem","currentUserId","parseInt","res","listCompanies","owner_id","Array","isArray","items","mapped","map","it","id","ownerId","companyName","company_name","building_name","title","total_units","occupiedUnits","vacantUnits","status","adminApproval","registrationDate","created_at","approvalDate","lastUpdated","updated_at","monthlyRevenue","monthly_rent","contact_person","contact_email","contact_phone","property_type","image","description","_","persistedRaw","parsed","JSON","parse","hasSampleData","some","building","removeItem","error","_res$profile","getManagerProfile","info","profile","personalInfo","prev","_objectSpread","name","email","phone","length","setItem","stringify","filteredBuildings","term","trim","toLowerCase","filter","haystacks","Boolean","v","String","matchesSearch","includes","matchesStatus","sortedBuildings","toDate","val","_d$getTime","Date","d","isNaN","getTime","call","sorted","sort","a","b","comparison","dateA","dateB","localeCompare","currentPageItems","startIndex","slice","totalPages","Math","ceil","formatDate","date","dateObj","toLocaleDateString","month","day","year","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","getStatusBadgeClass","getSubdomainUrl","host","window","location","hostname","devPort","process","env","REACT_APP_SUBDOMAIN_PORT","concat","baseDomain","REACT_APP_PORTAL_BASE_DOMAIN","protocol","REACT_APP_PORTAL_PROTOCOL","getSubdomainDisplay","handleEditClick","handleSaveEdit","updateData","city","province","parseFloat","legal_documents","console","log","response","fetch","method","headers","body","ok","errorData","json","Error","message","result","original","find","updated","alert","handleViewDetails","handleInputChange","field","value","handleLegalUpload","event","files","from","target","urls","file","URL","createObjectURL","removeLegalDoc","index","i","handlePropertyImageUpload","removePropertyImage","handleEditPropertyImageUpload","removeEditPropertyImage","handleEditLegalUpload","removeEditLegalDoc","handleSubmit","e","preventDefault","now","totalUnitsNum","newBuilding","currentUserIdRawCreate","payload","additional_notes","undefined","createCompany","item","err","warn","className","children","onClick","type","placeholder","onChange","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","src","alt","checked","has","newSelected","add","delete","href","rel","disabled","max","min","onSubmit","required","rows","htmlFor","multiple","accept","docUrl","amenity","onKeyPress","key","display","newStatus","_editingBuilding$amen","_editingBuilding$cust","_editingBuilding$amen2","_editingBuilding$cust2","_editingBuilding$amen3","replace","toUpperCase"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/components/PropertyManager/ManageProperty.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport api from '../../services/api';\n\nconst statusToBadgeClass = {\n  pending_approval: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  active: 'bg-green-100 text-green-800 border-green-200',\n  inactive: 'bg-gray-100 text-gray-700 border-gray-200',\n  rejected: 'bg-red-100 text-red-800 border-red-200'\n};\n\nconst STORAGE_KEY = 'pm_buildings_v1';\n\nconst ManageProperty = ({ onOpenManageUnits = () => {} }) => {\n\n  const [buildings, setBuildings] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('All');\n  const [sortBy, setSortBy] = useState('Recent');\n  const sortOrder = 'desc';\n  const [selectedIds, setSelectedIds] = useState(new Set());\n  const [page, setPage] = useState(1);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingBuilding, setEditingBuilding] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [detailsBuilding, setDetailsBuilding] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [newProperty, setNewProperty] = useState({\n    buildingName: '',\n    subdomain: '',\n    address: '',\n    totalUnits: '',\n    propertyType: '',\n    yearBuilt: '',\n    floorCount: '',\n    parkingSpaces: '',\n    contactPerson: '',\n    contactPosition: '',\n    contactEmail: '',\n    contactPhone: '',\n    businessRegNumber: '',\n    tin: '',\n    businessPermitNumber: '',\n    businessPermitExpiry: '',\n    fireSafetyCert: null,\n    buildingPermit: null,\n    occupancyPermit: null,\n    electricalCert: null,\n    amenities: [],\n    customAmenity: '',\n    additionalNotes: '',\n    averageRent: '',\n    furnishing: '',\n    images: [],\n    legalDocs: []\n  });\n  const itemsPerPage = 6;\n\n  // Fetch companies for dropdown (only manager's companies)\n  // Load buildings from localStorage\n  useEffect(() => {\n    const bootstrap = async () => {\n      // Try API first\n      try {\n        // Ensure we read the same key that login writes\n        const currentUserIdRaw = localStorage.getItem('user_id') || localStorage.getItem('owner_id');\n        const currentUserId = currentUserIdRaw ? parseInt(currentUserIdRaw, 10) : null;\n        const res = await api.listCompanies(currentUserId ? { owner_id: currentUserId } : {});\n        if (res && Array.isArray(res.items)) {\n          const mapped = res.items.map((it) => ({\n            id: it.id,\n            ownerId: it.owner_id,\n            companyName: it.company_name || 'No Company',\n            buildingName: it.building_name || it.title || 'Unnamed Property',\n            subdomain: it.subdomain || 'no-subdomain',\n            address: it.address || 'No Address',\n            totalUnits: it.total_units || 0,\n            occupiedUnits: 0,\n            vacantUnits: it.total_units || 0,\n            status: it.status || 'pending_approval',\n            adminApproval: it.status === 'approved' ? 'Approved' : it.status === 'rejected' ? 'Rejected' : 'Pending',\n            registrationDate: it.created_at,\n            approvalDate: null,\n            lastUpdated: it.updated_at,\n            monthlyRevenue: it.monthly_rent || 0,\n            averageRent: it.monthly_rent || 0,\n            contactPerson: it.contact_person || 'No Contact',\n            contactEmail: it.contact_email || 'No Email',\n            contactPhone: it.contact_phone || 'No Phone',\n            furnishing: it.furnishing || 'Not Specified',\n            propertyType: it.property_type || 'Not Specified',\n            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',\n            images: [], // Initialize empty images array\n            legalDocs: [], // Initialize empty legal docs array\n            amenities: [], // Initialize empty amenities array\n            additionalNotes: it.description || '' // Map description to additionalNotes\n          }));\n          setBuildings(mapped);\n          return;\n        }\n      } catch (_) {\n        // fall back to localStorage\n      }\n      const persistedRaw = localStorage.getItem(STORAGE_KEY);\n      if (persistedRaw) {\n        try {\n          const parsed = JSON.parse(persistedRaw);\n          if (parsed && Array.isArray(parsed)) {\n            const hasSampleData = parsed.some(building => \n              building.companyName === 'Metro Plaza Development Corp.' ||\n              building.companyName === 'Mountain Ridge Properties Inc.' ||\n              building.companyName === 'Tech Hub Real Estate LLC'\n            );\n            if (hasSampleData) {\n              localStorage.removeItem(STORAGE_KEY);\n              setBuildings([]);\n              return;\n            }\n            setBuildings(parsed);\n            return;\n          }\n        } catch (error) {}\n      }\n      setBuildings([]);\n    };\n    bootstrap();\n  }, []);\n\n  // Prefill contact info from manager profile (owner/user) if available\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await api.getManagerProfile();\n        const info = res?.profile?.personalInfo || {};\n        setNewProperty(prev => ({\n          ...prev,\n          contactPerson: prev.contactPerson || info.name || '',\n          contactEmail: prev.contactEmail || info.email || '',\n          contactPhone: prev.contactPhone || info.phone || ''\n        }));\n      } catch (_) {\n        // ignore; leave fields empty if profile not available\n      }\n    })();\n  }, []);\n\n  // Save buildings to localStorage\n  useEffect(() => {\n    if (buildings.length > 0) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(buildings));\n    }\n  }, [buildings]);\n\n  // Reset pagination when filters/search change\n  useEffect(() => {\n    setPage(1);\n  }, [searchTerm, statusFilter, sortBy, sortOrder]);\n\n  const filteredBuildings = useMemo(() => {\n    const term = (searchTerm || '').trim().toLowerCase();\n    return buildings.filter(building => {\n      // Search across multiple fields\n      const haystacks = [\n        building.companyName,\n        building.buildingName,\n        building.subdomain,\n        building.address,\n        building.contactPerson,\n        building.contactEmail,\n        building.contactPhone\n      ].filter(Boolean).map(v => String(v).toLowerCase());\n      const matchesSearch = term.length === 0 || haystacks.some(v => v.includes(term));\n\n      // Simplified status matching\n      const matchesStatus = statusFilter === 'All' || building.status === statusFilter;\n      \n      return matchesSearch && matchesStatus;\n    });\n  }, [buildings, searchTerm, statusFilter]);\n\n  const sortedBuildings = useMemo(() => {\n    const toDate = (val) => {\n      if (!val) return new Date(0);\n      const d = typeof val === 'string' ? new Date(val) : val;\n      return isNaN(d?.getTime?.()) ? new Date(0) : d;\n    };\n    const sorted = [...filteredBuildings].sort((a, b) => {\n      let comparison = 0;\n      switch (sortBy) {\n        case 'Recent': {\n          const dateA = toDate(a.lastUpdated || a.registrationDate);\n          const dateB = toDate(b.lastUpdated || b.registrationDate);\n          comparison = dateA - dateB;\n          break;\n        }\n        case 'Revenue':\n          comparison = (a.monthlyRevenue || 0) - (b.monthlyRevenue || 0);\n          break;\n        case 'Units':\n          comparison = (a.totalUnits || 0) - (b.totalUnits || 0);\n          break;\n        case 'Name':\n          comparison = (a.companyName || '').localeCompare(b.companyName || '');\n          break;\n        default:\n          comparison = 0;\n      }\n      return sortOrder === 'desc' ? -comparison : comparison;\n    });\n    return sorted;\n  }, [filteredBuildings, sortBy, sortOrder]);\n\n  const currentPageItems = useMemo(() => {\n    const startIndex = (page - 1) * itemsPerPage;\n    return sortedBuildings.slice(startIndex, startIndex + itemsPerPage);\n  }, [sortedBuildings, page]);\n\n  const totalPages = Math.ceil(sortedBuildings.length / itemsPerPage);\n\n  const formatDate = (date) => {\n    if (!date) return 'N/A';\n    // Convert string to Date object if needed\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n    if (isNaN(dateObj.getTime())) return 'N/A';\n    return dateObj.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-PH', {\n      style: 'currency',\n      currency: 'PHP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getStatusBadgeClass = (status) => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-100 text-green-800 border border-green-200';\n      case 'pending_approval':\n        return 'bg-yellow-100 text-yellow-800 border border-yellow-200';\n      case 'inactive':\n        return 'bg-gray-100 text-gray-800 border border-gray-200';\n      default:\n        return 'bg-gray-100 text-gray-800 border border-gray-200';\n    }\n  };\n\n  const getSubdomainUrl = (subdomain) => {\n    // Build a correct portal URL for both local dev and production\n    const host = window.location.hostname || '';\n    // For localhost we want to open the dedicated sub-domain app (default 8080)\n    if (host.includes('localhost')) {\n      const devPort = process.env.REACT_APP_SUBDOMAIN_PORT || '8080';\n      return `http://${subdomain}.localhost:${devPort}`;\n    }\n    // Production: use configurable base domain and protocol\n    const baseDomain = process.env.REACT_APP_PORTAL_BASE_DOMAIN || 'jacs.com';\n    const protocol = process.env.REACT_APP_PORTAL_PROTOCOL || 'https';\n    return `${protocol}://${subdomain}.${baseDomain}`;\n  };\n\n  const getSubdomainDisplay = (subdomain) => {\n    if (!subdomain || subdomain === 'no-subdomain') {\n      return 'No subdomain';\n    }\n    const host = window.location.hostname || '';\n    if (host.includes('localhost')) {\n      const devPort = process.env.REACT_APP_SUBDOMAIN_PORT || '8080';\n      return `${subdomain}.localhost:${devPort}`;\n    }\n    const baseDomain = process.env.REACT_APP_PORTAL_BASE_DOMAIN || 'jacs.com';\n    return `${subdomain}.${baseDomain}`;\n  };\n\n  const handleEditClick = (building) => {\n    // Create a shallow copy to edit and ensure arrays are initialized\n    setEditingBuilding({ \n      ...building,\n      images: building.images || [],\n      legalDocs: building.legalDocs || [],\n      amenities: building.amenities || [],\n      customAmenity: '',\n      additionalNotes: building.additionalNotes || ''\n    });\n    setShowEditModal(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingBuilding) return;\n    \n    try {\n      setLoading(true);\n      \n      // Prepare the data for API call\n      const updateData = {\n        title: editingBuilding.buildingName,\n        building_name: editingBuilding.buildingName,\n        description: editingBuilding.additionalNotes || '',\n        property_type: editingBuilding.propertyType,\n        address: editingBuilding.address,\n        city: editingBuilding.city || 'Cebu City',\n        province: editingBuilding.province || 'Cebu',\n        total_units: parseInt(editingBuilding.totalUnits) || 1,\n        contact_person: editingBuilding.contactPerson,\n        contact_email: editingBuilding.contactEmail,\n        contact_phone: editingBuilding.contactPhone,\n        monthly_rent: parseFloat(editingBuilding.averageRent) || 0,\n        furnishing: editingBuilding.furnishing,\n        status: editingBuilding.status,\n        images: JSON.stringify(editingBuilding.images || []),\n        legal_documents: JSON.stringify(editingBuilding.legalDocs || []),\n        amenities: JSON.stringify(editingBuilding.amenities || [])\n      };\n      \n      console.log('Updating property with data:', updateData);\n      \n      // Make API call to update property\n      const response = await fetch(`/api/manager/properties/property/${editingBuilding.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('access_token') || localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(updateData)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to update property');\n      }\n      \n      const result = await response.json();\n      console.log('Property updated successfully:', result);\n      \n      // Update local state with the updated property\n    const original = buildings.find(b => b.id === editingBuilding.id);\n      const updated = { \n        ...editingBuilding, \n        lastUpdated: new Date(),\n        // Set main image from first image in images array\n        image: editingBuilding.images && editingBuilding.images.length > 0 \n          ? editingBuilding.images[0] \n          : editingBuilding.image || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',\n        // Ensure arrays are properly initialized\n        images: editingBuilding.images || [],\n        legalDocs: editingBuilding.legalDocs || [],\n        amenities: editingBuilding.amenities || []\n      };\n      \n      // Handle status changes and approval dates\n      if (original && original.status !== editingBuilding.status) {\n        // If status changed from pending_approval to active, set approval date\n        if (original.status === 'pending_approval' && editingBuilding.status === 'active') {\n      updated.approvalDate = new Date();\n      }\n        // If status changed to rejected, clear approval date\n        if (editingBuilding.status === 'rejected') {\n          updated.approvalDate = null;\n    }\n      }\n      \n    setBuildings(prev => prev.map(b => (b.id === updated.id ? updated : b)));\n    setShowEditModal(false);\n    setEditingBuilding(null);\n      \n      // Show success message\n      alert('Property updated successfully!');\n      \n    } catch (error) {\n      console.error('Error updating property:', error);\n      alert(`Failed to update property: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewDetails = (building) => {\n    setDetailsBuilding(building);\n    setShowDetailsModal(true);\n  };\n\n  const handleInputChange = (field, value) => {\n    setNewProperty(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n\n  const handleLegalUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const urls = files.map(file => URL.createObjectURL(file));\n    setNewProperty(prev => ({\n      ...prev,\n      legalDocs: [...prev.legalDocs, ...urls]\n    }));\n  };\n\n  const removeLegalDoc = (index) => {\n    setNewProperty(prev => ({\n      ...prev,\n      legalDocs: prev.legalDocs.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handlePropertyImageUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const urls = files.map(file => URL.createObjectURL(file));\n    setNewProperty(prev => ({\n      ...prev,\n      images: [...(prev.images || []), ...urls].slice(0, 10) // Limit to 10 images\n    }));\n  };\n\n  const removePropertyImage = (index) => {\n    setNewProperty(prev => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Edit modal handlers\n  const handleEditPropertyImageUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const urls = files.map(file => URL.createObjectURL(file));\n    setEditingBuilding(prev => ({\n      ...prev,\n      images: [...(prev.images || []), ...urls].slice(0, 10) // Limit to 10 images\n    }));\n  };\n\n  const removeEditPropertyImage = (index) => {\n    setEditingBuilding(prev => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleEditLegalUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const urls = files.map(file => URL.createObjectURL(file));\n    setEditingBuilding(prev => ({\n      ...prev,\n      legalDocs: [...(prev.legalDocs || []), ...urls]\n    }));\n  };\n\n  const removeEditLegalDoc = (index) => {\n    setEditingBuilding(prev => ({\n      ...prev,\n      legalDocs: prev.legalDocs.filter((_, i) => i !== index)\n    }));\n  };\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Create new building entry with defaults\n    const now = new Date();\n    const averageRent = parseInt(newProperty.averageRent || '0', 10) || 0;\n    const totalUnitsNum = parseInt(newProperty.totalUnits || '0', 10) || 0;\n    \n    const newBuilding = {\n      id: Date.now(),\n      companyName: '', // Will be set from user's company field\n      buildingName: newProperty.buildingName.trim(),\n      subdomain: newProperty.subdomain.trim().toLowerCase(),\n      address: newProperty.address.trim(),\n      totalUnits: totalUnitsNum,\n      occupiedUnits: 0,\n      vacantUnits: totalUnitsNum,\n      status: 'pending_approval',\n      adminApproval: 'Pending',\n      registrationDate: now,\n      approvalDate: null,\n      lastUpdated: now,\n      monthlyRevenue: 0,\n      averageRent,\n      propertyType: newProperty.propertyType || '',\n      contactPerson: newProperty.contactPerson.trim(),\n      contactEmail: newProperty.contactEmail.trim(),\n      contactPhone: newProperty.contactPhone.trim(),\n      furnishing: newProperty.furnishing || '',\n      image: newProperty.images && newProperty.images.length > 0 ? newProperty.images[0] : 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNzUgMTUwSDMyNVYyNTBIMjc1VjE1MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTI1MCAyMDBIMzUwVjIyMEgyNTBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8dGV4dCB4PSIzMDAiIHk9IjMwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjNkI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Qcm9wZXJ0eSBJbWFnZTwvdGV4dD4KPC9zdmc+',\n      legalDocs: newProperty.legalDocs || []\n    };\n    setBuildings(prev => [newBuilding, ...prev]);\n    // Fire-and-forget API persist; on success, replace temp ID with DB ID\n    (async () => {\n      try {\n        const currentUserIdRawCreate = localStorage.getItem('user_id');\n        const payload = {\n          building_name: newBuilding.buildingName,\n          subdomain: newBuilding.subdomain,\n          address: newBuilding.address,\n          total_units: newBuilding.totalUnits,\n          monthly_rent: newProperty.averageRent || null,\n          property_type: newProperty.propertyType || null,\n          furnishing: newProperty.furnishing || null,\n          contact_person: newBuilding.contactPerson,\n          contact_email: newBuilding.contactEmail,\n          contact_phone: newBuilding.contactPhone,\n          amenities: newProperty.amenities || [],\n          images: newProperty.images || [],\n          additional_notes: newProperty.additionalNotes || '',\n          legal_documents: newProperty.legalDocs || [],\n          owner_id: currentUserIdRawCreate ? parseInt(currentUserIdRawCreate, 10) : undefined\n        };\n        const res = await api.createCompany(payload);\n        if (res && res.item && res.item.id) {\n          setBuildings(prev => prev.map(b => b.id === newBuilding.id ? { ...newBuilding, id: res.item.id } : b));\n        }\n      } catch (err) {\n        console.warn('Failed to persist managed property, keeping local only', err);\n      }\n    })();\n    setShowAddModal(false);\n    // Reset form\n    setNewProperty({\n      buildingName: '',\n      subdomain: '',\n      address: '',\n      totalUnits: '',\n      propertyType: '',\n      yearBuilt: '',\n      floorCount: '',\n      parkingSpaces: '',\n      contactPerson: '',\n      contactPosition: '',\n      contactEmail: '',\n      contactPhone: '',\n      businessRegNumber: '',\n      tin: '',\n      businessPermitNumber: '',\n      businessPermitExpiry: '',\n      fireSafetyCert: null,\n      buildingPermit: null,\n      occupancyPermit: null,\n      electricalCert: null,\n      amenities: [],\n      customAmenity: '',\n      additionalNotes: '',\n      images: [],\n      averageRent: '',\n      furnishing: '',\n      legalDocs: []\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Hero Header */}\n        <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-800 via-gray-900 to-black text-white mb-8\">\n          <div className=\"absolute inset-0 bg-black/20\"></div>\n          <div className=\"relative p-8\">\n            <div className=\"flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0\">\n              <div>\n                <h1 className=\"text-3xl font-bold mb-2\">Property Management</h1>\n                <p className=\"text-gray-300 text-lg\">Manage your property and subdomains</p>\n                <div className=\"flex items-center space-x-6 mt-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-3 h-3 bg-green-400 rounded-full\"></div>\n                    <span className=\"text-sm\">{buildings.filter(b => b.status === 'Active').length} Active</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-3 h-3 bg-yellow-400 rounded-full\"></div>\n                    <span className=\"text-sm\">{buildings.filter(b => b.status === 'pending_approval').length} Pending</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-3 h-3 bg-blue-400 rounded-full\"></div>\n                    <span className=\"text-sm\">{buildings.filter(b => b.status === 'Approved').length} Approved</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex space-x-3\">\n                <button \n                  onClick={() => setShowAddModal(true)}\n                  className=\"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-6 py-3 rounded-xl hover:bg-white/20 transition-all duration-200 font-medium\"\n                >\n                  Add New Property\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Search buildings...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Status</label>\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\"\n              >\n                <option value=\"All\">All Status</option>\n                <option value=\"Pending\">Pending</option>\n                <option value=\"Approved\">Approved</option>\n                <option value=\"Active\">Active</option>\n                <option value=\"Inactive\">Inactive</option>\n                <option value=\"Rejected\">Rejected</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Sort By</label>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200\"\n              >\n                <option value=\"Recent\">Recent</option>\n                <option value=\"Revenue\">Revenue</option>\n                <option value=\"Units\">Total Units</option>\n                <option value=\"Name\">Company Name</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Buildings Grid */}\n        {currentPageItems.length === 0 ? (\n          <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-12 text-center\">\n            {buildings.length === 0 ? (\n              <div>\n                <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Property available</h3>\n                <p className=\"text-gray-600 mb-4\">Get started by adding your first property company</p>\n                <button \n                  onClick={() => setShowAddModal(true)}\n                  className=\"bg-black text-white px-6 py-3 rounded-xl hover:bg-gray-800 transition-colors\"\n                >\n                  Add New Property\n                </button>\n              </div>\n            ) : (\n              <div>\n                <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No property match your filters</h3>\n                <p className=\"text-gray-600\">Try adjusting your search criteria</p>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {currentPageItems.map((building) => (\n              <div key={building.id} className=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300\">\n                {/* Building Image */}\n                <div className=\"relative h-48 bg-gray-200\">\n                  <img\n                    src={building.image}\n                    alt={building.buildingName}\n                    className=\"w-full h-full object-cover\"\n                  />\n                  <div className=\"absolute top-3 left-3\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedIds.has(building.id)}\n                      onChange={(e) => {\n                        const newSelected = new Set(selectedIds);\n                        if (e.target.checked) {\n                          newSelected.add(building.id);\n                        } else {\n                          newSelected.delete(building.id);\n                        }\n                        setSelectedIds(newSelected);\n                      }}\n                      className=\"w-5 h-5 text-black border-gray-300 rounded focus:ring-black\"\n                    />\n                  </div>\n                  <div className=\"absolute top-3 right-3\">\n                    <span className={`px-3 py-1 rounded-full text-xs font-semibold border ${statusToBadgeClass[building.status]}`}>\n                      {building.status}\n                    </span>\n                  </div>\n                  <div className=\"absolute bottom-3 left-3\">\n                    <span className=\"px-2 py-1 rounded text-xs font-semibold bg-white bg-opacity-90 text-gray-700 border border-gray-200\">\n                      {building.totalUnits} units\n                    </span>\n                  </div>\n                </div>\n\n                {/* Building Details */}\n                <div className=\"p-6\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div>\n                      <h3 className=\"font-bold text-gray-900 text-lg mb-1\">{building.buildingName}</h3>\n                      <p className=\"text-gray-600 text-sm\">{building.companyName}</p>\n                      <p className=\"text-gray-500 text-xs capitalize\">{building.propertyType}</p>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-black\">{formatCurrency(building.monthlyRevenue)}</p>\n                      <p className=\"text-gray-500 text-sm\">monthly revenue</p>\n                    </div>\n                  </div>\n\n                  {/* Subdomain */}\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-gray-500\">Subdomain:</span>\n                      {building.status === 'pending_approval' ? (\n                        <span className=\"text-sm font-medium text-gray-400 cursor-not-allowed\">\n                          {getSubdomainDisplay(building.subdomain)} (Pending Approval)\n                        </span>\n                      ) : (\n                      <a \n                        href={getSubdomainUrl(building.subdomain)}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-sm font-medium text-blue-600 hover:text-blue-800\"\n                      >\n                        {getSubdomainDisplay(building.subdomain)}\n                      </a>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Building Stats */}\n                  <div className=\"grid grid-cols-3 gap-4 mb-4\">\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-gray-500\">Total Units</p>\n                      <p className=\"font-semibold text-gray-900\">{building.totalUnits}</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-gray-500\">Occupied</p>\n                      <p className=\"font-semibold text-green-600\">{building.occupiedUnits}</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-gray-500\">Vacant</p>\n                      <p className=\"font-semibold text-orange-600\">{building.vacantUnits}</p>\n                    </div>\n                  </div>\n\n                  {/* Contact Info */}\n                  <div className=\"mb-4 text-sm text-gray-600\">\n                    <p><span className=\"font-medium\">Contact:</span> {building.contactPerson}</p>\n                    <p><span className=\"font-medium\">Email:</span> {building.contactEmail}</p>\n                  </div>\n\n                  {/* Registration and Last Updated */}\n                  <div className=\"flex items-center justify-between mb-4 text-sm text-gray-500\">\n                    <span>Registered: {formatDate(building.registrationDate)}</span>\n                    <span>Updated: {formatDate(building.lastUpdated)}</span>\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex space-x-2\">\n                    <button onClick={() => handleEditClick(building)} className=\"flex-1 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium\">\n                      Edit\n                    </button>\n                    <button onClick={() => handleViewDetails(building)} className=\"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\">\n                      View Details\n                    </button>\n                    <button onClick={() => onOpenManageUnits(building)} disabled={building.adminApproval !== 'Approved'} className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${building.adminApproval !== 'Approved' ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-blue-100 text-blue-700 hover:bg-blue-200'}`}>\n                      {building.adminApproval !== 'Approved' ? 'Awaiting Approval' : 'Manage Units'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                Prev\n              </button>\n              <span className=\"text-gray-600\">\n                Page {page} of {totalPages}\n              </span>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                Next\n              </button>\n            </div>\n            \n          </div>\n        )}\n      </div>\n\n      {/* Add Building Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">Add New Property</h2>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <form className=\"space-y-6\" onSubmit={handleSubmit}>\n              {/* Step 1: Basic Information */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mr-3\">1</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Basic Information</h3>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Name *</label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Enter property name\"\n                      value={newProperty.buildingName}\n                      onChange={(e) => handleInputChange('buildingName', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      required\n                    />\n                  </div>\n                </div>\n\n\n                <div className=\"space-y-6 mt-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Subdomain *</label>\n                  <div className=\"flex items-center\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"subdomain\"\n                      value={newProperty.subdomain}\n                      onChange={(e) => handleInputChange('subdomain', e.target.value)}\n                        className=\"flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      required\n                    />\n                      <span className=\"px-4 py-3 bg-gray-100 border border-l-0 border-gray-300 rounded-r-xl text-gray-600 font-medium\">.jacs.com</span>\n                  </div>\n                    <p className=\"text-xs text-gray-500 mt-1\">This will be your property's website URL</p>\n                </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Complete Address *</label>\n                  <textarea\n                      placeholder=\"Enter the complete address including street, barangay, city, province\"\n                    rows=\"3\"\n                    value={newProperty.address}\n                    onChange={(e) => handleInputChange('address', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\"\n                    required\n                  ></textarea>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 2: Property Details */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-green-100 text-green-600 rounded-full text-sm font-semibold mr-3\">2</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Property Details</h3>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"md:col-span-1\">\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Total Units *</label>\n                    <input\n                      type=\"number\"\n                      placeholder=\"0\"\n                      min=\"1\"\n                      value={newProperty.totalUnits}\n                      onChange={(e) => handleInputChange('totalUnits', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                      required\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Notes (optional)</label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Brief description or notes\"\n                      value={newProperty.additionalNotes}\n                      onChange={(e) => handleInputChange('additionalNotes', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Average Monthly Rent ()</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      placeholder=\"e.g., 15000\"\n                      value={newProperty.averageRent}\n                      onChange={(e) => handleInputChange('averageRent', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Furnishing</label>\n                    <select\n                      value={newProperty.furnishing}\n                      onChange={(e) => handleInputChange('furnishing', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                    >\n                      <option value=\"\">Select furnishing level</option>\n                      <option value=\"UNFURNISHED\">Unfurnished</option>\n                      <option value=\"SEMI_FURNISHED\">Semi-furnished</option>\n                      <option value=\"FURNISHED\">Fully furnished</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Property Type</label>\n                    <select\n                      value={newProperty.propertyType}\n                      onChange={(e) => handleInputChange('propertyType', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                    >\n                      <option value=\"\">Select property type</option>\n                      <option value=\"bed_space\">Bed Space</option>\n                      <option value=\"dormitory\">Dormitory</option>\n                      <option value=\"boarding_house\">Boarding House</option>\n                      <option value=\"studio_apartment\">Studio Apartment</option>\n                      <option value=\"room_for_rent\">Room for Rent</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 3: Contact Information */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full text-sm font-semibold mr-3\">3</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Contact Information</h3>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Contact Person *</label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Full name\"\n                      value={newProperty.contactPerson}\n                      onChange={(e) => handleInputChange('contactPerson', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email *</label>\n                    <input\n                      type=\"email\"\n                      placeholder=\"email@example.com\"\n                      value={newProperty.contactEmail}\n                      onChange={(e) => handleInputChange('contactEmail', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus-border-transparent\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Phone *</label>\n                    <input\n                      type=\"tel\"\n                      placeholder=\"+63 912 345 6789\"\n                      value={newProperty.contactPhone}\n                      onChange={(e) => handleInputChange('contactPhone', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-black focus-border-transparent\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 4: Media & Documents */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-orange-100 text-orange-600 rounded-full text-sm font-semibold mr-3\">4</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Media & Documents</h3>\n                </div>\n                \n                <div className=\"space-y-8\">\n                  {/* Property Images */}\n              <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                      Property Images\n                    </h4>\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                        {newProperty.images && newProperty.images.map((image, index) => (\n                          <div key={index} className=\"relative group\">\n                            <img src={image} alt={`Property ${index + 1}`} className=\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\" />\n                            <button\n                              type=\"button\"\n                              onClick={() => removePropertyImage(index)}\n                              className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors\"\n                            >\n                              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n                          </div>\n                        ))}\n                        {(!newProperty.images || newProperty.images.length < 10) && (\n                          <label htmlFor=\"property-images-upload\" className=\"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\">\n                            <input type=\"file\" id=\"property-images-upload\" multiple accept=\"image/*\" onChange={handlePropertyImageUpload} className=\"hidden\" />\n                            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                            </svg>\n                            <p className=\"mt-2 text-sm text-gray-600 font-medium\">Add Images</p>\n                            <p className=\"text-xs text-gray-500\">{(newProperty.images?.length || 0)}/10 uploaded</p>\n                          </label>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg\">\n                         Upload photos of the property exterior, common areas, lobby, amenities, and key features. Maximum 10 images allowed.\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Legal Documents */}\n                <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                      Legal Documents\n                    </h4>\n                    <div className=\"space-y-4\">\n                      <div className=\"flex flex-wrap items-center gap-4\">\n                    {newProperty.legalDocs.map((docUrl, index) => (\n                          <div key={index} className=\"relative w-32 h-32 rounded-lg overflow-hidden border border-gray-200 shadow-sm\">\n                        <img src={docUrl} alt={`Document ${index + 1}`} className=\"w-full h-full object-cover\" />\n                        <button\n                          type=\"button\"\n                          onClick={() => removeLegalDoc(index)}\n                          className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 flex items-center justify-center hover:bg-red-600 transition-colors\"\n                        >\n                          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                      </div>\n                    ))}\n                        <label htmlFor=\"legal-docs-upload\" className=\"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\">\n                      <input type=\"file\" id=\"legal-docs-upload\" multiple accept=\"image/*\" onChange={handleLegalUpload} className=\"hidden\" />\n                      <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                          <p className=\"mt-1 text-xs text-gray-600 text-center\">Upload<br/>Documents</p>\n                    </label>\n                  </div>\n                      <p className=\"text-sm text-gray-600 bg-orange-50 p-3 rounded-lg\">\n                         Upload photos or scans of permits, title deeds, tax declarations, occupancy permits, electrical certificates, and other legal documents.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 5: Property Amenities */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-teal-100 text-teal-600 rounded-full text-sm font-semibold mr-3\">5</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Property Amenities</h3>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4\">Available Amenities</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      {[\n                        'Swimming Pool', 'Gym/Fitness Center', 'Parking', 'Security Guard', 'Elevator', 'Garden/Green Space',\n                        'Children Playground', 'WiFi/Internet', 'Air Conditioning', 'Heating', 'Balcony/Terrace', 'Laundry Room',\n                        'Storage Unit', 'Pet Friendly', 'Wheelchair Accessible', '24/7 Security', 'CCTV Surveillance', 'Generator'\n                      ].map((amenity) => (\n                        <label key={amenity} className=\"flex items-center space-x-3 cursor-pointer p-3 hover:bg-gray-50 rounded-lg transition-colors\">\n                          <input\n                            type=\"checkbox\"\n                            checked={newProperty.amenities.includes(amenity)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: [...prev.amenities, amenity]\n                                }));\n                              } else {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: prev.amenities.filter(a => a !== amenity)\n                                }));\n                              }\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2\"\n                          />\n                          <span className=\"text-sm text-gray-700 font-medium\">{amenity}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Custom Amenity Input */}\n                  <div className=\"border-t pt-6\">\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4\">Add Custom Amenity</h4>\n                    <div className=\"flex space-x-3\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter custom amenity name...\"\n                        value={newProperty.customAmenity || ''}\n                        onChange={(e) => setNewProperty(prev => ({ ...prev, customAmenity: e.target.value }))}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter' && newProperty.customAmenity.trim()) {\n                            e.preventDefault();\n                            if (!newProperty.amenities.includes(newProperty.customAmenity.trim())) {\n                              setNewProperty(prev => ({\n                                ...prev,\n                                amenities: [...prev.amenities, prev.customAmenity.trim()],\n                                customAmenity: ''\n                              }));\n                            }\n                          }\n                        }}\n                        className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (newProperty.customAmenity.trim() && !newProperty.amenities.includes(newProperty.customAmenity.trim())) {\n                            setNewProperty(prev => ({\n                              ...prev,\n                              amenities: [...prev.amenities, prev.customAmenity.trim()],\n                              customAmenity: ''\n                            }));\n                          }\n                        }}\n                        className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\"\n                      >\n                        Add Amenity\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Selected Amenities Display */}\n                  {newProperty.amenities.length > 0 && (\n                    <div className=\"border-t pt-6\">\n                      <h4 className=\"text-lg font-medium text-gray-800 mb-4\">\n                        Selected Amenities \n                        <span className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\n                          {newProperty.amenities.length}\n                        </span>\n                      </h4>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {newProperty.amenities.map((amenity, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-4 py-2 rounded-full text-sm bg-blue-100 text-blue-800 font-medium\"\n                          >\n                            {amenity}\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: prev.amenities.filter((_, i) => i !== index)\n                                }));\n                              }}\n                              className=\"ml-2 text-blue-600 hover:text-red-500 transition-colors\"\n                            >\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Form Submit Buttons */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex space-x-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddModal(false)}\n                    className=\"flex-1 px-8 py-4 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                    className=\"flex-1 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\"\n                >\n                    Create Property\n                </button>\n              </div>\n              </div>\n\n              {/* Remove duplicate amenity section - it was left over */}\n              <div style={{ display: 'none' }}>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Legacy Property Amenities</h3>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Available Amenities</label>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                      {[\n                        'Swimming Pool', 'Gym/Fitness Center', 'Parking', 'Security', 'Elevator', 'Garden',\n                        'Playground', 'WiFi', 'Air Conditioning', 'Heating', 'Balcony', 'Terrace',\n                        'Laundry Room', 'Storage', 'Pet Friendly', 'Wheelchair Accessible'\n                      ].map((amenity) => (\n                        <label key={amenity} className=\"flex items-center space-x-2 cursor-pointer\">\n                          <input\n                            type=\"checkbox\"\n                            checked={newProperty.amenities.includes(amenity)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: [...prev.amenities, amenity]\n                                }));\n                              } else {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: prev.amenities.filter(a => a !== amenity)\n                                }));\n                              }\n                            }}\n                            className=\"rounded border-gray-300 text-black focus:ring-black focus:ring-2\"\n                          />\n                          <span className=\"text-sm text-gray-700\">{amenity}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Custom Amenity Input */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Add Custom Amenity</label>\n                    <div className=\"flex space-x-2\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter custom amenity...\"\n                        value={newProperty.customAmenity || ''}\n                        onChange={(e) => setNewProperty(prev => ({ ...prev, customAmenity: e.target.value }))}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter' && newProperty.customAmenity.trim()) {\n                            e.preventDefault();\n                            if (!newProperty.amenities.includes(newProperty.customAmenity.trim())) {\n                              setNewProperty(prev => ({\n                                ...prev,\n                                amenities: [...prev.amenities, prev.customAmenity.trim()],\n                                customAmenity: ''\n                              }));\n                            }\n                          }\n                        }}\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (newProperty.customAmenity.trim() && !newProperty.amenities.includes(newProperty.customAmenity.trim())) {\n                            setNewProperty(prev => ({\n                              ...prev,\n                              amenities: [...prev.amenities, prev.customAmenity],\n                              customAmenity: ''\n                            }));\n                          }\n                        }}\n                        className=\"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Selected Amenities Display */}\n                  {newProperty.amenities.length > 0 && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Selected Amenities ({newProperty.amenities.length})</label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {newProperty.amenities.map((amenity, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800\"\n                          >\n                            {amenity}\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                setNewProperty(prev => ({\n                                  ...prev,\n                                  amenities: prev.amenities.filter((_, i) => i !== index)\n                                }));\n                              }}\n                              className=\"ml-2 text-gray-500 hover:text-red-500\"\n                            >\n                              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Property Modal */}\n      {showEditModal && editingBuilding && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">Edit Property</h2>\n              <button onClick={() => { setShowEditModal(false); setEditingBuilding(null); }} className=\"text-gray-400 hover:text-gray-600\">\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <form className=\"space-y-6\" onSubmit={(e) => { e.preventDefault(); handleSaveEdit(); }}>\n              {/* Step 1: Basic Information */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold mr-3\">1</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Basic Information</h3>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  {/* Company & Property Name */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Company Name</label>\n                      <div className=\"w-full px-4 py-3 bg-green-50 border border-green-200 rounded-xl text-green-800 font-medium\">\n                         {editingBuilding.companyName || 'No Company'}\n                      </div>\n                </div>\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Name *</label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter property name\"\n                        value={editingBuilding.buildingName || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, buildingName: e.target.value })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                        required\n                      />\n                </div>\n              </div>\n\n                  {/* Subdomain & Address */}\n                  <div className=\"space-y-4\">\n              <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Subdomain *</label>\n                <div className=\"flex items-center\">\n                        <input\n                          type=\"text\"\n                          placeholder=\"subdomain\"\n                          value={editingBuilding.subdomain || ''}\n                          onChange={(e) => setEditingBuilding({ ...editingBuilding, subdomain: e.target.value })}\n                          className=\"flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                          required\n                        />\n                        <span className=\"px-4 py-3 bg-gray-100 border border-l-0 border-gray-300 rounded-r-xl text-gray-600 font-medium\">.jacs.com</span>\n                </div>\n                      <p className=\"text-xs text-gray-500 mt-1\">This will be your property's website URL</p>\n              </div>\n\n              <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Complete Address *</label>\n                      <textarea\n                        placeholder=\"Enter the complete address including street, barangay, city, province\"\n                        rows=\"3\"\n                        value={editingBuilding.address || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, address: e.target.value })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\"\n                        required\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 2: Property Details */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-green-100 text-green-600 rounded-full text-sm font-semibold mr-3\">2</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Property Details</h3>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  {/* Property Type & Furnishing */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Type *</label>\n                      <select\n                        value={editingBuilding.propertyType || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, propertyType: e.target.value })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                        required\n                      >\n                        <option value=\"\">Select property type</option>\n                        <option value=\"apartment\">Apartment</option>\n                        <option value=\"condominium\">Condominium</option>\n                        <option value=\"house\">House</option>\n                        <option value=\"commercial\">Commercial</option>\n                        <option value=\"other\">Other</option>\n                      </select>\n                </div>\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Furnishing Level</label>\n                      <select\n                        value={editingBuilding.furnishing || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, furnishing: e.target.value })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      >\n                        <option value=\"\">Select furnishing level</option>\n                        <option value=\"UNFURNISHED\">Unfurnished</option>\n                        <option value=\"SEMI_FURNISHED\">Semi-furnished</option>\n                        <option value=\"FURNISHED\">Fully furnished</option>\n                      </select>\n                </div>\n              </div>\n\n                  {/* Total Units & Rent */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Total Units *</label>\n                      <input\n                        type=\"number\"\n                        placeholder=\"Number of units\"\n                        min=\"1\"\n                        value={editingBuilding.totalUnits || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, totalUnits: parseInt(e.target.value || '0') })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                        required\n                      />\n                </div>\n                <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Average Monthly Rent ()</label>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        placeholder=\"e.g., 15,000\"\n                        value={editingBuilding.averageRent || ''}\n                        onChange={(e) => setEditingBuilding({ ...editingBuilding, averageRent: parseInt(e.target.value || '0') })}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Property Status */}\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Status</label>\n                    <select \n                      value={editingBuilding.status || 'pending_approval'} \n                      onChange={(e) => {\n                        const newStatus = e.target.value;\n                        setEditingBuilding({ \n                          ...editingBuilding, \n                          status: newStatus,\n                          // Auto-set admin approval based on status\n                          adminApproval: newStatus === 'active' ? 'Approved' : \n                                        newStatus === 'inactive' ? 'Approved' : \n                                        newStatus === 'rejected' ? 'Rejected' : 'Pending'\n                        });\n                      }} \n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                    >\n                      <option value=\"pending_approval\">Pending Review</option>\n                      <option value=\"active\">Active (Live)</option>\n                      <option value=\"inactive\">Inactive (Paused)</option>\n                      <option value=\"rejected\">Rejected</option>\n                  </select>\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      {editingBuilding.status === 'pending_approval' && 'Property is under review'}\n                      {editingBuilding.status === 'active' && 'Property is live and accepting tenants'}\n                      {editingBuilding.status === 'inactive' && 'Property is temporarily paused'}\n                      {editingBuilding.status === 'rejected' && 'Property was rejected and needs revision'}\n                    </p>\n                </div>\n\n                  {/* Additional Notes */}\n                <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Additional Notes</label>\n                    <textarea\n                      placeholder=\"Brief description of the property, special features, or any additional information\"\n                      rows=\"3\"\n                      value={editingBuilding.additionalNotes || ''}\n                      onChange={(e) => setEditingBuilding({ ...editingBuilding, additionalNotes: e.target.value })}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 3: Contact Information */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full text-sm font-semibold mr-3\">3</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Contact Information</h3>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Contact Person *</label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Full name\"\n                      value={editingBuilding.contactPerson || ''}\n                      onChange={(e) => setEditingBuilding({ ...editingBuilding, contactPerson: e.target.value })}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      required\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Email Address *</label>\n                    <input\n                      type=\"email\"\n                      placeholder=\"email@example.com\"\n                      value={editingBuilding.contactEmail || ''}\n                      onChange={(e) => setEditingBuilding({ ...editingBuilding, contactEmail: e.target.value })}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      required\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Phone Number *</label>\n                    <input\n                      type=\"tel\"\n                      placeholder=\"+63 912 345 6789\"\n                      value={editingBuilding.contactPhone || ''}\n                      onChange={(e) => setEditingBuilding({ ...editingBuilding, contactPhone: e.target.value })}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 4: Media & Documents */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-orange-100 text-orange-600 rounded-full text-sm font-semibold mr-3\">4</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Media & Documents</h3>\n                </div>\n                \n                <div className=\"space-y-8\">\n                  {/* Property Images */}\n              <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                      Property Images\n                    </h4>\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                        {editingBuilding.images && editingBuilding.images.map((image, index) => (\n                          <div key={index} className=\"relative group\">\n                            <img src={image} alt={`Property ${index + 1}`} className=\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\" />\n                            <button\n                              type=\"button\"\n                              onClick={() => removeEditPropertyImage(index)}\n                              className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors\"\n                            >\n                              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n                          </div>\n                        ))}\n                        {(!editingBuilding.images || editingBuilding.images.length < 10) && (\n                          <label htmlFor=\"edit-property-images-upload\" className=\"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\">\n                            <input type=\"file\" id=\"edit-property-images-upload\" multiple accept=\"image/*\" onChange={handleEditPropertyImageUpload} className=\"hidden\" />\n                            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                            </svg>\n                            <p className=\"mt-2 text-sm text-gray-600 font-medium\">Add Images</p>\n                            <p className=\"text-xs text-gray-500\">{(editingBuilding.images?.length || 0)}/10 uploaded</p>\n                          </label>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg\">\n                         Upload photos of the property exterior, common areas, lobby, amenities, and key features. Maximum 10 images allowed.\n                      </p>\n                    </div>\n              </div>\n\n                  {/* Legal Documents */}\n                  <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                      Legal Documents\n                    </h4>\n                    <div className=\"space-y-4\">\n                      <div className=\"flex flex-wrap items-center gap-4\">\n                        {editingBuilding.legalDocs && editingBuilding.legalDocs.map((docUrl, index) => (\n                          <div key={index} className=\"relative w-32 h-32 rounded-lg overflow-hidden border border-gray-200 shadow-sm\">\n                            <img src={docUrl} alt={`Document ${index + 1}`} className=\"w-full h-full object-cover\" />\n                            <button\n                              type=\"button\"\n                              onClick={() => removeEditLegalDoc(index)}\n                              className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 flex items-center justify-center hover:bg-red-600 transition-colors\"\n                            >\n                              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n              </div>\n                        ))}\n                        <label htmlFor=\"edit-legal-docs-upload\" className=\"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors bg-gray-50\">\n                          <input type=\"file\" id=\"edit-legal-docs-upload\" multiple accept=\"image/*\" onChange={handleEditLegalUpload} className=\"hidden\" />\n                          <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                          </svg>\n                          <p className=\"mt-1 text-xs text-gray-600 text-center\">Upload<br/>Documents</p>\n                        </label>\n            </div>\n                      <p className=\"text-sm text-gray-600 bg-orange-50 p-3 rounded-lg\">\n                         Upload photos or scans of permits, title deeds, tax declarations, occupancy permits, electrical certificates, and other legal documents.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Step 5: Property Amenities */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex items-center mb-6\">\n                  <div className=\"flex items-center justify-center w-8 h-8 bg-teal-100 text-teal-600 rounded-full text-sm font-semibold mr-3\">5</div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Property Amenities</h3>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  <div>\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4\">Available Amenities</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      {[\n                        'Swimming Pool', 'Gym/Fitness Center', 'Parking', 'Security Guard', 'Elevator', 'Garden/Green Space',\n                        'Children Playground', 'WiFi/Internet', 'Air Conditioning', 'Heating', 'Balcony/Terrace', 'Laundry Room',\n                        'Storage Unit', 'Pet Friendly', 'Wheelchair Accessible', '24/7 Security', 'CCTV Surveillance', 'Generator'\n                      ].map((amenity) => (\n                        <label key={amenity} className=\"flex items-center space-x-3 cursor-pointer p-3 hover:bg-gray-50 rounded-lg transition-colors\">\n                          <input\n                            type=\"checkbox\"\n                            checked={editingBuilding.amenities?.includes(amenity) || false}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setEditingBuilding(prev => ({\n                                  ...prev,\n                                  amenities: [...(prev.amenities || []), amenity]\n                                }));\n                              } else {\n                                setEditingBuilding(prev => ({\n                                  ...prev,\n                                  amenities: (prev.amenities || []).filter(a => a !== amenity)\n                                }));\n                              }\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2\"\n                          />\n                          <span className=\"text-sm text-gray-700 font-medium\">{amenity}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Custom Amenity Input */}\n                  <div className=\"border-t pt-6\">\n                    <h4 className=\"text-lg font-medium text-gray-800 mb-4\">Add Custom Amenity</h4>\n                    <div className=\"flex space-x-3\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter custom amenity name...\"\n                        value={editingBuilding.customAmenity || ''}\n                        onChange={(e) => setEditingBuilding(prev => ({ ...prev, customAmenity: e.target.value }))}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter' && editingBuilding.customAmenity?.trim()) {\n                            e.preventDefault();\n                            if (!editingBuilding.amenities?.includes(editingBuilding.customAmenity.trim())) {\n                              setEditingBuilding(prev => ({\n                                ...prev,\n                                amenities: [...(prev.amenities || []), prev.customAmenity.trim()],\n                                customAmenity: ''\n                              }));\n                            }\n                          }\n                        }}\n                        className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (editingBuilding.customAmenity?.trim() && !editingBuilding.amenities?.includes(editingBuilding.customAmenity.trim())) {\n                            setEditingBuilding(prev => ({\n                              ...prev,\n                              amenities: [...(prev.amenities || []), prev.customAmenity.trim()],\n                              customAmenity: ''\n                            }));\n                          }\n                        }}\n                        className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\"\n                      >\n                        Add Amenity\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Selected Amenities Display */}\n                  {editingBuilding.amenities && editingBuilding.amenities.length > 0 && (\n                    <div className=\"border-t pt-6\">\n                      <h4 className=\"text-lg font-medium text-gray-800 mb-4\">\n                        Selected Amenities \n                        <span className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\n                          {editingBuilding.amenities.length}\n                        </span>\n                      </h4>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {editingBuilding.amenities.map((amenity, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-4 py-2 rounded-full text-sm bg-blue-100 text-blue-800 font-medium\"\n                          >\n                            {amenity}\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                setEditingBuilding(prev => ({\n                                  ...prev,\n                                  amenities: (prev.amenities || []).filter((_, i) => i !== index)\n                                }));\n                              }}\n                              className=\"ml-2 text-blue-600 hover:text-red-500 transition-colors\"\n                            >\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                              </svg>\n                            </button>\n                          </span>\n                        ))}\n          </div>\n        </div>\n      )}\n                </div>\n              </div>\n\n              {/* Form Submit Buttons */}\n              <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <div className=\"flex space-x-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => { setShowEditModal(false); setEditingBuilding(null); }}\n                    className=\"flex-1 px-8 py-4 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium\"\n                  >\n                    Save Changes\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Enhanced View Details Modal */}\n      {showDetailsModal && detailsBuilding && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto shadow-2xl\">\n            {/* Header */}\n            <div className=\"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-3xl font-bold text-gray-900\">{detailsBuilding.buildingName}</h2>\n                  <p className=\"text-gray-600 mt-1\">Property Details & Information</p>\n                </div>\n                <button \n                  onClick={() => { setShowDetailsModal(false); setDetailsBuilding(null); }} \n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n              </div>\n            </div>\n\n            <div className=\"p-8\">\n              {/* Hero Section */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n                {/* Image Gallery */}\n                <div className=\"space-y-4\">\n                  <div className=\"relative\">\n                    <img \n                      src={detailsBuilding.image} \n                      alt={detailsBuilding.buildingName} \n                      className=\"w-full h-80 object-cover rounded-2xl border border-gray-200 shadow-lg\" \n                    />\n                    <div className=\"absolute top-4 right-4\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusBadgeClass(detailsBuilding.status)}`}>\n                        {detailsBuilding.status.replace('_', ' ').toUpperCase()}\n                      </span>\n              </div>\n                  </div>\n                  \n                  {/* Property Type & Company */}\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                      <span className=\"text-sm font-medium text-gray-700\">{detailsBuilding.propertyType || 'Building'}</span>\n                  </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                      </svg>\n                      <span className=\"text-sm text-gray-600\">{detailsBuilding.companyName}</span>\n                  </div>\n                </div>\n                </div>\n\n                {/* Key Information */}\n                <div className=\"space-y-6\">\n                  {/* Location */}\n                  <div className=\"bg-gray-50 rounded-xl p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                      </svg>\n                      Location\n                    </h3>\n                    <p className=\"text-gray-700\">{detailsBuilding.address}</p>\n                    <p className=\"text-sm text-gray-500 mt-1\">{detailsBuilding.city}, {detailsBuilding.province}</p>\n              </div>\n\n                  {/* Subdomain */}\n                  <div className=\"bg-blue-50 rounded-xl p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2 flex items-center\">\n                      <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                      </svg>\n                      Portal Access\n                    </h3>\n                    {detailsBuilding.status === 'pending_approval' ? (\n                      <span className=\"text-sm font-medium text-gray-500\">\n                        {getSubdomainDisplay(detailsBuilding.subdomain)} (Pending Approval)\n                      </span>\n                    ) : (\n                      <a \n                        href={getSubdomainUrl(detailsBuilding.subdomain)} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\" \n                        className=\"text-blue-600 hover:text-blue-800 font-medium text-sm\"\n                      >\n                        {getSubdomainDisplay(detailsBuilding.subdomain)} \n                      </a>\n                    )}\n            </div>\n\n                  {/* Stats Grid */}\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div className=\"bg-white border border-gray-200 rounded-xl p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-gray-900\">{detailsBuilding.totalUnits}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">Total Units</div>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-xl p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-green-600\">{detailsBuilding.occupiedUnits || 0}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">Occupied</div>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-xl p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-orange-600\">{detailsBuilding.vacantUnits || 0}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">Vacant</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Detailed Information Grid */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Financial Information */}\n                <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                    <svg className=\"w-5 h-5 mr-2 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                    </svg>\n                    Financial Details\n                  </h3>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-gray-600\">Monthly Revenue</span>\n                      <span className=\"font-semibold text-gray-900\">{formatCurrency(detailsBuilding.monthlyRevenue)}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-gray-600\">Average Rent</span>\n                      <span className=\"font-semibold text-gray-900\">{formatCurrency(detailsBuilding.averageRent)}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-gray-600\">Furnishing</span>\n                      <span className=\"font-semibold text-gray-900\">{detailsBuilding.furnishing || 'Not specified'}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Contact Information */}\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                    <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                    Contact Information\n                  </h3>\n                  <div className=\"space-y-3\">\n              <div>\n                      <span className=\"text-sm text-gray-600\">Contact Person</span>\n                      <p className=\"font-semibold text-gray-900\">{detailsBuilding.contactPerson}</p>\n              </div>\n              <div>\n                      <span className=\"text-sm text-gray-600\">Email</span>\n                      <p className=\"font-semibold text-gray-900\">{detailsBuilding.contactEmail}</p>\n              </div>\n                    <div>\n                      <span className=\"text-sm text-gray-600\">Phone</span>\n                      <p className=\"font-semibold text-gray-900\">{detailsBuilding.contactPhone}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Timeline & Status */}\n                <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                    <svg className=\"w-5 h-5 mr-2 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    Timeline & Status\n                  </h3>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <span className=\"text-sm text-gray-600\">Registered</span>\n                      <p className=\"font-semibold text-gray-900\">{formatDate(detailsBuilding.registrationDate)}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-600\">Approved</span>\n                      <p className=\"font-semibold text-gray-900\">{formatDate(detailsBuilding.approvalDate) || 'Not approved yet'}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-600\">Last Updated</span>\n                      <p className=\"font-semibold text-gray-900\">{formatDate(detailsBuilding.lastUpdated)}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Amenities Section */}\n              {detailsBuilding.amenities && detailsBuilding.amenities.length > 0 && (\n                <div className=\"mt-8\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                    <svg className=\"w-5 h-5 mr-2 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\n                    </svg>\n                    Amenities\n                  </h3>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {detailsBuilding.amenities.map((amenity, index) => (\n                      <span\n                        key={index}\n                        className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800 font-medium\"\n                      >\n                        {amenity}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ManageProperty;\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,KAAM,CAAAC,kBAAkB,CAAG,CACzBC,gBAAgB,CAAE,iDAAiD,CACnEC,MAAM,CAAE,8CAA8C,CACtDC,QAAQ,CAAE,2CAA2C,CACrDC,QAAQ,CAAE,wCACZ,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG,iBAAiB,CAErC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAsC,KAAAC,mBAAA,CAAAC,qBAAA,IAArC,CAAEC,iBAAiB,CAAGA,CAAA,GAAM,CAAC,CAAE,CAAC,CAAAH,IAAA,CAEtD,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACqB,YAAY,CAAEC,eAAe,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACuB,MAAM,CAAEC,SAAS,CAAC,CAAGxB,QAAQ,CAAC,QAAQ,CAAC,CAC9C,KAAM,CAAAyB,SAAS,CAAG,MAAM,CACxB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG3B,QAAQ,CAAC,GAAI,CAAA4B,GAAG,CAAC,CAAC,CAAC,CACzD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAG9B,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAAC+B,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiC,aAAa,CAAEC,gBAAgB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACmC,eAAe,CAAEC,kBAAkB,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACqC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACuC,eAAe,CAAEC,kBAAkB,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACyC,OAAO,CAAEC,UAAU,CAAC,CAAG1C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC2C,WAAW,CAAEC,cAAc,CAAC,CAAG5C,QAAQ,CAAC,CAC7C6C,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,EAAE,CACdC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,EAAE,CACbC,UAAU,CAAE,EAAE,CACdC,aAAa,CAAE,EAAE,CACjBC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,iBAAiB,CAAE,EAAE,CACrBC,GAAG,CAAE,EAAE,CACPC,oBAAoB,CAAE,EAAE,CACxBC,oBAAoB,CAAE,EAAE,CACxBC,cAAc,CAAE,IAAI,CACpBC,cAAc,CAAE,IAAI,CACpBC,eAAe,CAAE,IAAI,CACrBC,cAAc,CAAE,IAAI,CACpBC,SAAS,CAAE,EAAE,CACbC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,WAAW,CAAE,EAAE,CACfC,UAAU,CAAE,EAAE,CACdC,MAAM,CAAE,EAAE,CACVC,SAAS,CAAE,EACb,CAAC,CAAC,CACF,KAAM,CAAAC,YAAY,CAAG,CAAC,CAEtB;AACA;AACA1E,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2E,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B;AACA,GAAI,CACF;AACA,KAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,EAAID,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC5F,KAAM,CAAAC,aAAa,CAAGH,gBAAgB,CAAGI,QAAQ,CAACJ,gBAAgB,CAAE,EAAE,CAAC,CAAG,IAAI,CAC9E,KAAM,CAAAK,GAAG,CAAG,KAAM,CAAA9E,GAAG,CAAC+E,aAAa,CAACH,aAAa,CAAG,CAAEI,QAAQ,CAAEJ,aAAc,CAAC,CAAG,CAAC,CAAC,CAAC,CACrF,GAAIE,GAAG,EAAIG,KAAK,CAACC,OAAO,CAACJ,GAAG,CAACK,KAAK,CAAC,CAAE,CACnC,KAAM,CAAAC,MAAM,CAAGN,GAAG,CAACK,KAAK,CAACE,GAAG,CAAEC,EAAE,GAAM,CACpCC,EAAE,CAAED,EAAE,CAACC,EAAE,CACTC,OAAO,CAAEF,EAAE,CAACN,QAAQ,CACpBS,WAAW,CAAEH,EAAE,CAACI,YAAY,EAAI,YAAY,CAC5C9C,YAAY,CAAE0C,EAAE,CAACK,aAAa,EAAIL,EAAE,CAACM,KAAK,EAAI,kBAAkB,CAChE/C,SAAS,CAAEyC,EAAE,CAACzC,SAAS,EAAI,cAAc,CACzCC,OAAO,CAAEwC,EAAE,CAACxC,OAAO,EAAI,YAAY,CACnCC,UAAU,CAAEuC,EAAE,CAACO,WAAW,EAAI,CAAC,CAC/BC,aAAa,CAAE,CAAC,CAChBC,WAAW,CAAET,EAAE,CAACO,WAAW,EAAI,CAAC,CAChCG,MAAM,CAAEV,EAAE,CAACU,MAAM,EAAI,kBAAkB,CACvCC,aAAa,CAAEX,EAAE,CAACU,MAAM,GAAK,UAAU,CAAG,UAAU,CAAGV,EAAE,CAACU,MAAM,GAAK,UAAU,CAAG,UAAU,CAAG,SAAS,CACxGE,gBAAgB,CAAEZ,EAAE,CAACa,UAAU,CAC/BC,YAAY,CAAE,IAAI,CAClBC,WAAW,CAAEf,EAAE,CAACgB,UAAU,CAC1BC,cAAc,CAAEjB,EAAE,CAACkB,YAAY,EAAI,CAAC,CACpCrC,WAAW,CAAEmB,EAAE,CAACkB,YAAY,EAAI,CAAC,CACjCpD,aAAa,CAAEkC,EAAE,CAACmB,cAAc,EAAI,YAAY,CAChDnD,YAAY,CAAEgC,EAAE,CAACoB,aAAa,EAAI,UAAU,CAC5CnD,YAAY,CAAE+B,EAAE,CAACqB,aAAa,EAAI,UAAU,CAC5CvC,UAAU,CAAEkB,EAAE,CAAClB,UAAU,EAAI,eAAe,CAC5CpB,YAAY,CAAEsC,EAAE,CAACsB,aAAa,EAAI,eAAe,CACjDC,KAAK,CAAE,giBAAgiB,CACviBxC,MAAM,CAAE,EAAE,CAAE;AACZC,SAAS,CAAE,EAAE,CAAE;AACfN,SAAS,CAAE,EAAE,CAAE;AACfE,eAAe,CAAEoB,EAAE,CAACwB,WAAW,EAAI,EAAG;AACxC,CAAC,CAAC,CAAC,CACH7F,YAAY,CAACmE,MAAM,CAAC,CACpB,OACF,CACF,CAAE,MAAO2B,CAAC,CAAE,CACV;AAAA,CAEF,KAAM,CAAAC,YAAY,CAAGtC,YAAY,CAACC,OAAO,CAACjE,WAAW,CAAC,CACtD,GAAIsG,YAAY,CAAE,CAChB,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAAC,CACvC,GAAIC,MAAM,EAAIhC,KAAK,CAACC,OAAO,CAAC+B,MAAM,CAAC,CAAE,CACnC,KAAM,CAAAG,aAAa,CAAGH,MAAM,CAACI,IAAI,CAACC,QAAQ,EACxCA,QAAQ,CAAC7B,WAAW,GAAK,+BAA+B,EACxD6B,QAAQ,CAAC7B,WAAW,GAAK,gCAAgC,EACzD6B,QAAQ,CAAC7B,WAAW,GAAK,0BAC3B,CAAC,CACD,GAAI2B,aAAa,CAAE,CACjB1C,YAAY,CAAC6C,UAAU,CAAC7G,WAAW,CAAC,CACpCO,YAAY,CAAC,EAAE,CAAC,CAChB,OACF,CACAA,YAAY,CAACgG,MAAM,CAAC,CACpB,OACF,CACF,CAAE,MAAOO,KAAK,CAAE,CAAC,CACnB,CACAvG,YAAY,CAAC,EAAE,CAAC,CAClB,CAAC,CACDuD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN;AACA3E,SAAS,CAAC,IAAM,CACd,CAAC,SAAY,CACX,GAAI,KAAA4H,YAAA,CACF,KAAM,CAAA3C,GAAG,CAAG,KAAM,CAAA9E,GAAG,CAAC0H,iBAAiB,CAAC,CAAC,CACzC,KAAM,CAAAC,IAAI,CAAG,CAAA7C,GAAG,SAAHA,GAAG,kBAAA2C,YAAA,CAAH3C,GAAG,CAAE8C,OAAO,UAAAH,YAAA,iBAAZA,YAAA,CAAcI,YAAY,GAAI,CAAC,CAAC,CAC7ClF,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP1E,aAAa,CAAE0E,IAAI,CAAC1E,aAAa,EAAIuE,IAAI,CAACK,IAAI,EAAI,EAAE,CACpD1E,YAAY,CAAEwE,IAAI,CAACxE,YAAY,EAAIqE,IAAI,CAACM,KAAK,EAAI,EAAE,CACnD1E,YAAY,CAAEuE,IAAI,CAACvE,YAAY,EAAIoE,IAAI,CAACO,KAAK,EAAI,EAAE,EACnD,CAAC,CACL,CAAE,MAAOnB,CAAC,CAAE,CACV;AAAA,CAEJ,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AACAlH,SAAS,CAAC,IAAM,CACd,GAAImB,SAAS,CAACmH,MAAM,CAAG,CAAC,CAAE,CACxBzD,YAAY,CAAC0D,OAAO,CAAC1H,WAAW,CAAEwG,IAAI,CAACmB,SAAS,CAACrH,SAAS,CAAC,CAAC,CAC9D,CACF,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf;AACAnB,SAAS,CAAC,IAAM,CACdgC,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAAE,CAACX,UAAU,CAAEE,YAAY,CAAEE,MAAM,CAAEE,SAAS,CAAC,CAAC,CAEjD,KAAM,CAAA8G,iBAAiB,CAAGxI,OAAO,CAAC,IAAM,CACtC,KAAM,CAAAyI,IAAI,CAAG,CAACrH,UAAU,EAAI,EAAE,EAAEsH,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACpD,MAAO,CAAAzH,SAAS,CAAC0H,MAAM,CAACpB,QAAQ,EAAI,CAClC;AACA,KAAM,CAAAqB,SAAS,CAAG,CAChBrB,QAAQ,CAAC7B,WAAW,CACpB6B,QAAQ,CAAC1E,YAAY,CACrB0E,QAAQ,CAACzE,SAAS,CAClByE,QAAQ,CAACxE,OAAO,CAChBwE,QAAQ,CAAClE,aAAa,CACtBkE,QAAQ,CAAChE,YAAY,CACrBgE,QAAQ,CAAC/D,YAAY,CACtB,CAACmF,MAAM,CAACE,OAAO,CAAC,CAACvD,GAAG,CAACwD,CAAC,EAAIC,MAAM,CAACD,CAAC,CAAC,CAACJ,WAAW,CAAC,CAAC,CAAC,CACnD,KAAM,CAAAM,aAAa,CAAGR,IAAI,CAACJ,MAAM,GAAK,CAAC,EAAIQ,SAAS,CAACtB,IAAI,CAACwB,CAAC,EAAIA,CAAC,CAACG,QAAQ,CAACT,IAAI,CAAC,CAAC,CAEhF;AACA,KAAM,CAAAU,aAAa,CAAG7H,YAAY,GAAK,KAAK,EAAIkG,QAAQ,CAACtB,MAAM,GAAK5E,YAAY,CAEhF,MAAO,CAAA2H,aAAa,EAAIE,aAAa,CACvC,CAAC,CAAC,CACJ,CAAC,CAAE,CAACjI,SAAS,CAAEE,UAAU,CAAEE,YAAY,CAAC,CAAC,CAEzC,KAAM,CAAA8H,eAAe,CAAGpJ,OAAO,CAAC,IAAM,CACpC,KAAM,CAAAqJ,MAAM,CAAIC,GAAG,EAAK,KAAAC,UAAA,CACtB,GAAI,CAACD,GAAG,CAAE,MAAO,IAAI,CAAAE,IAAI,CAAC,CAAC,CAAC,CAC5B,KAAM,CAAAC,CAAC,CAAG,MAAO,CAAAH,GAAG,GAAK,QAAQ,CAAG,GAAI,CAAAE,IAAI,CAACF,GAAG,CAAC,CAAGA,GAAG,CACvD,MAAO,CAAAI,KAAK,CAACD,CAAC,SAADA,CAAC,kBAAAF,UAAA,CAADE,CAAC,CAAEE,OAAO,UAAAJ,UAAA,iBAAVA,UAAA,CAAAK,IAAA,CAAAH,CAAa,CAAC,CAAC,CAAG,GAAI,CAAAD,IAAI,CAAC,CAAC,CAAC,CAAGC,CAAC,CAChD,CAAC,CACD,KAAM,CAAAI,MAAM,CAAG,CAAC,GAAGrB,iBAAiB,CAAC,CAACsB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACnD,GAAI,CAAAC,UAAU,CAAG,CAAC,CAClB,OAAQzI,MAAM,EACZ,IAAK,QAAQ,CAAE,CACb,KAAM,CAAA0I,KAAK,CAAGb,MAAM,CAACU,CAAC,CAACxD,WAAW,EAAIwD,CAAC,CAAC3D,gBAAgB,CAAC,CACzD,KAAM,CAAA+D,KAAK,CAAGd,MAAM,CAACW,CAAC,CAACzD,WAAW,EAAIyD,CAAC,CAAC5D,gBAAgB,CAAC,CACzD6D,UAAU,CAAGC,KAAK,CAAGC,KAAK,CAC1B,MACF,CACA,IAAK,SAAS,CACZF,UAAU,CAAG,CAACF,CAAC,CAACtD,cAAc,EAAI,CAAC,GAAKuD,CAAC,CAACvD,cAAc,EAAI,CAAC,CAAC,CAC9D,MACF,IAAK,OAAO,CACVwD,UAAU,CAAG,CAACF,CAAC,CAAC9G,UAAU,EAAI,CAAC,GAAK+G,CAAC,CAAC/G,UAAU,EAAI,CAAC,CAAC,CACtD,MACF,IAAK,MAAM,CACTgH,UAAU,CAAG,CAACF,CAAC,CAACpE,WAAW,EAAI,EAAE,EAAEyE,aAAa,CAACJ,CAAC,CAACrE,WAAW,EAAI,EAAE,CAAC,CACrE,MACF,QACEsE,UAAU,CAAG,CAAC,CAClB,CACA,MAAO,CAAAvI,SAAS,GAAK,MAAM,CAAG,CAACuI,UAAU,CAAGA,UAAU,CACxD,CAAC,CAAC,CACF,MAAO,CAAAJ,MAAM,CACf,CAAC,CAAE,CAACrB,iBAAiB,CAAEhH,MAAM,CAAEE,SAAS,CAAC,CAAC,CAE1C,KAAM,CAAA2I,gBAAgB,CAAGrK,OAAO,CAAC,IAAM,CACrC,KAAM,CAAAsK,UAAU,CAAG,CAACxI,IAAI,CAAG,CAAC,EAAI2C,YAAY,CAC5C,MAAO,CAAA2E,eAAe,CAACmB,KAAK,CAACD,UAAU,CAAEA,UAAU,CAAG7F,YAAY,CAAC,CACrE,CAAC,CAAE,CAAC2E,eAAe,CAAEtH,IAAI,CAAC,CAAC,CAE3B,KAAM,CAAA0I,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACtB,eAAe,CAACf,MAAM,CAAG5D,YAAY,CAAC,CAEnE,KAAM,CAAAkG,UAAU,CAAIC,IAAI,EAAK,CAC3B,GAAI,CAACA,IAAI,CAAE,MAAO,KAAK,CACvB;AACA,KAAM,CAAAC,OAAO,CAAG,MAAO,CAAAD,IAAI,GAAK,QAAQ,CAAG,GAAI,CAAApB,IAAI,CAACoB,IAAI,CAAC,CAAGA,IAAI,CAChE,GAAIlB,KAAK,CAACmB,OAAO,CAAClB,OAAO,CAAC,CAAC,CAAC,CAAE,MAAO,KAAK,CAC1C,MAAO,CAAAkB,OAAO,CAACC,kBAAkB,CAAC,OAAO,CAAE,CACzCC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SACR,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,cAAc,CAAIC,MAAM,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpCC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KAAK,CACfC,qBAAqB,CAAE,CAAC,CACxBC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CAACC,MAAM,CAACP,MAAM,CAAC,CACnB,CAAC,CAED,KAAM,CAAAQ,mBAAmB,CAAIzF,MAAM,EAAK,CACtC,OAAQA,MAAM,EACZ,IAAK,QAAQ,CACX,MAAO,qDAAqD,CAC9D,IAAK,kBAAkB,CACrB,MAAO,wDAAwD,CACjE,IAAK,UAAU,CACb,MAAO,kDAAkD,CAC3D,QACE,MAAO,kDAAkD,CAC7D,CACF,CAAC,CAED,KAAM,CAAA0F,eAAe,CAAI7I,SAAS,EAAK,CACrC;AACA,KAAM,CAAA8I,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,EAAI,EAAE,CAC3C;AACA,GAAIH,IAAI,CAAC3C,QAAQ,CAAC,WAAW,CAAC,CAAE,CAC9B,KAAM,CAAA+C,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,EAAI,MAAM,CAC9D,gBAAAC,MAAA,CAAiBtJ,SAAS,gBAAAsJ,MAAA,CAAcJ,OAAO,EACjD,CACA;AACA,KAAM,CAAAK,UAAU,CAAGJ,OAAO,CAACC,GAAG,CAACI,4BAA4B,EAAI,UAAU,CACzE,KAAM,CAAAC,QAAQ,CAAGN,OAAO,CAACC,GAAG,CAACM,yBAAyB,EAAI,OAAO,CACjE,SAAAJ,MAAA,CAAUG,QAAQ,QAAAH,MAAA,CAAMtJ,SAAS,MAAAsJ,MAAA,CAAIC,UAAU,EACjD,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAI3J,SAAS,EAAK,CACzC,GAAI,CAACA,SAAS,EAAIA,SAAS,GAAK,cAAc,CAAE,CAC9C,MAAO,cAAc,CACvB,CACA,KAAM,CAAA8I,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,EAAI,EAAE,CAC3C,GAAIH,IAAI,CAAC3C,QAAQ,CAAC,WAAW,CAAC,CAAE,CAC9B,KAAM,CAAA+C,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,EAAI,MAAM,CAC9D,SAAAC,MAAA,CAAUtJ,SAAS,gBAAAsJ,MAAA,CAAcJ,OAAO,EAC1C,CACA,KAAM,CAAAK,UAAU,CAAGJ,OAAO,CAACC,GAAG,CAACI,4BAA4B,EAAI,UAAU,CACzE,SAAAF,MAAA,CAAUtJ,SAAS,MAAAsJ,MAAA,CAAIC,UAAU,EACnC,CAAC,CAED,KAAM,CAAAK,eAAe,CAAInF,QAAQ,EAAK,CACpC;AACAnF,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IACbT,QAAQ,MACXjD,MAAM,CAAEiD,QAAQ,CAACjD,MAAM,EAAI,EAAE,CAC7BC,SAAS,CAAEgD,QAAQ,CAAChD,SAAS,EAAI,EAAE,CACnCN,SAAS,CAAEsD,QAAQ,CAACtD,SAAS,EAAI,EAAE,CACnCC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAEoD,QAAQ,CAACpD,eAAe,EAAI,EAAE,EAChD,CAAC,CACFjC,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,CAED,KAAM,CAAAyK,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACxK,eAAe,CAAE,OAEtB,GAAI,CACFO,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAAkK,UAAU,CAAG,CACjB/G,KAAK,CAAE1D,eAAe,CAACU,YAAY,CACnC+C,aAAa,CAAEzD,eAAe,CAACU,YAAY,CAC3CkE,WAAW,CAAE5E,eAAe,CAACgC,eAAe,EAAI,EAAE,CAClD0C,aAAa,CAAE1E,eAAe,CAACc,YAAY,CAC3CF,OAAO,CAAEZ,eAAe,CAACY,OAAO,CAChC8J,IAAI,CAAE1K,eAAe,CAAC0K,IAAI,EAAI,WAAW,CACzCC,QAAQ,CAAE3K,eAAe,CAAC2K,QAAQ,EAAI,MAAM,CAC5ChH,WAAW,CAAEhB,QAAQ,CAAC3C,eAAe,CAACa,UAAU,CAAC,EAAI,CAAC,CACtD0D,cAAc,CAAEvE,eAAe,CAACkB,aAAa,CAC7CsD,aAAa,CAAExE,eAAe,CAACoB,YAAY,CAC3CqD,aAAa,CAAEzE,eAAe,CAACqB,YAAY,CAC3CiD,YAAY,CAAEsG,UAAU,CAAC5K,eAAe,CAACiC,WAAW,CAAC,EAAI,CAAC,CAC1DC,UAAU,CAAElC,eAAe,CAACkC,UAAU,CACtC4B,MAAM,CAAE9D,eAAe,CAAC8D,MAAM,CAC9B3B,MAAM,CAAE6C,IAAI,CAACmB,SAAS,CAACnG,eAAe,CAACmC,MAAM,EAAI,EAAE,CAAC,CACpD0I,eAAe,CAAE7F,IAAI,CAACmB,SAAS,CAACnG,eAAe,CAACoC,SAAS,EAAI,EAAE,CAAC,CAChEN,SAAS,CAAEkD,IAAI,CAACmB,SAAS,CAACnG,eAAe,CAAC8B,SAAS,EAAI,EAAE,CAC3D,CAAC,CAEDgJ,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEN,UAAU,CAAC,CAEvD;AACA,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAC,KAAK,qCAAAhB,MAAA,CAAqCjK,eAAe,CAACqD,EAAE,EAAI,CACrF6H,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAlB,MAAA,CAAYzH,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAID,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAClG,CAAC,CACD2I,IAAI,CAAEpG,IAAI,CAACmB,SAAS,CAACsE,UAAU,CACjC,CAAC,CAAC,CAEF,GAAI,CAACO,QAAQ,CAACK,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAC,KAAK,CAACF,SAAS,CAACG,OAAO,EAAI,2BAA2B,CAAC,CACnE,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAV,QAAQ,CAACO,IAAI,CAAC,CAAC,CACpCT,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAEW,MAAM,CAAC,CAErD;AACF,KAAM,CAAAC,QAAQ,CAAG7M,SAAS,CAAC8M,IAAI,CAAChE,CAAC,EAAIA,CAAC,CAACvE,EAAE,GAAKrD,eAAe,CAACqD,EAAE,CAAC,CAC/D,KAAM,CAAAwI,OAAO,CAAAhG,aAAA,CAAAA,aAAA,IACR7F,eAAe,MAClBmE,WAAW,CAAE,GAAI,CAAAiD,IAAI,CAAC,CAAC,CACvB;AACAzC,KAAK,CAAE3E,eAAe,CAACmC,MAAM,EAAInC,eAAe,CAACmC,MAAM,CAAC8D,MAAM,CAAG,CAAC,CAC9DjG,eAAe,CAACmC,MAAM,CAAC,CAAC,CAAC,CACzBnC,eAAe,CAAC2E,KAAK,EAAI,giBAAgiB,CAC7jB;AACAxC,MAAM,CAAEnC,eAAe,CAACmC,MAAM,EAAI,EAAE,CACpCC,SAAS,CAAEpC,eAAe,CAACoC,SAAS,EAAI,EAAE,CAC1CN,SAAS,CAAE9B,eAAe,CAAC8B,SAAS,EAAI,EAAE,EAC3C,CAED;AACA,GAAI6J,QAAQ,EAAIA,QAAQ,CAAC7H,MAAM,GAAK9D,eAAe,CAAC8D,MAAM,CAAE,CAC1D;AACA,GAAI6H,QAAQ,CAAC7H,MAAM,GAAK,kBAAkB,EAAI9D,eAAe,CAAC8D,MAAM,GAAK,QAAQ,CAAE,CACrF+H,OAAO,CAAC3H,YAAY,CAAG,GAAI,CAAAkD,IAAI,CAAC,CAAC,CACjC,CACE;AACA,GAAIpH,eAAe,CAAC8D,MAAM,GAAK,UAAU,CAAE,CACzC+H,OAAO,CAAC3H,YAAY,CAAG,IAAI,CACjC,CACE,CAEFnF,YAAY,CAAC6G,IAAI,EAAIA,IAAI,CAACzC,GAAG,CAACyE,CAAC,EAAKA,CAAC,CAACvE,EAAE,GAAKwI,OAAO,CAACxI,EAAE,CAAGwI,OAAO,CAAGjE,CAAE,CAAC,CAAC,CACxE7H,gBAAgB,CAAC,KAAK,CAAC,CACvBE,kBAAkB,CAAC,IAAI,CAAC,CAEtB;AACA6L,KAAK,CAAC,gCAAgC,CAAC,CAEzC,CAAE,MAAOxG,KAAK,CAAE,CACdwF,OAAO,CAACxF,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDwG,KAAK,+BAAA7B,MAAA,CAA+B3E,KAAK,CAACmG,OAAO,CAAE,CAAC,CACtD,CAAC,OAAS,CACRlL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAwL,iBAAiB,CAAI3G,QAAQ,EAAK,CACtC/E,kBAAkB,CAAC+E,QAAQ,CAAC,CAC5BjF,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAA6L,iBAAiB,CAAGA,CAACC,KAAK,CAAEC,KAAK,GAAK,CAC1CzL,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP,CAACqG,KAAK,EAAGC,KAAK,EACd,CAAC,CACL,CAAC,CAGD,KAAM,CAAAC,iBAAiB,CAAIC,KAAK,EAAK,CACnC,KAAM,CAAAC,KAAK,CAAGtJ,KAAK,CAACuJ,IAAI,CAACF,KAAK,CAACG,MAAM,CAACF,KAAK,CAAC,CAC5C,KAAM,CAAAG,IAAI,CAAGH,KAAK,CAAClJ,GAAG,CAACsJ,IAAI,EAAIC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACzDhM,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACPxD,SAAS,CAAE,CAAC,GAAGwD,IAAI,CAACxD,SAAS,CAAE,GAAGoK,IAAI,CAAC,EACvC,CAAC,CACL,CAAC,CAED,KAAM,CAAAI,cAAc,CAAIC,KAAK,EAAK,CAChCpM,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACPxD,SAAS,CAAEwD,IAAI,CAACxD,SAAS,CAACoE,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACvD,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,yBAAyB,CAAIX,KAAK,EAAK,CAC3C,KAAM,CAAAC,KAAK,CAAGtJ,KAAK,CAACuJ,IAAI,CAACF,KAAK,CAACG,MAAM,CAACF,KAAK,CAAC,CAC5C,KAAM,CAAAG,IAAI,CAAGH,KAAK,CAAClJ,GAAG,CAACsJ,IAAI,EAAIC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACzDhM,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACPzD,MAAM,CAAE,CAAC,IAAIyD,IAAI,CAACzD,MAAM,EAAI,EAAE,CAAC,CAAE,GAAGqK,IAAI,CAAC,CAACrE,KAAK,CAAC,CAAC,CAAE,EAAE,CAAE;AAAA,EACvD,CAAC,CACL,CAAC,CAED,KAAM,CAAA6E,mBAAmB,CAAIH,KAAK,EAAK,CACrCpM,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACPzD,MAAM,CAAEyD,IAAI,CAACzD,MAAM,CAACqE,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACjD,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAI,6BAA6B,CAAIb,KAAK,EAAK,CAC/C,KAAM,CAAAC,KAAK,CAAGtJ,KAAK,CAACuJ,IAAI,CAACF,KAAK,CAACG,MAAM,CAACF,KAAK,CAAC,CAC5C,KAAM,CAAAG,IAAI,CAAGH,KAAK,CAAClJ,GAAG,CAACsJ,IAAI,EAAIC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACzDxM,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACPzD,MAAM,CAAE,CAAC,IAAIyD,IAAI,CAACzD,MAAM,EAAI,EAAE,CAAC,CAAE,GAAGqK,IAAI,CAAC,CAACrE,KAAK,CAAC,CAAC,CAAE,EAAE,CAAE;AAAA,EACvD,CAAC,CACL,CAAC,CAED,KAAM,CAAA+E,uBAAuB,CAAIL,KAAK,EAAK,CACzC5M,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACPzD,MAAM,CAAEyD,IAAI,CAACzD,MAAM,CAACqE,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACjD,CAAC,CACL,CAAC,CAED,KAAM,CAAAM,qBAAqB,CAAIf,KAAK,EAAK,CACvC,KAAM,CAAAC,KAAK,CAAGtJ,KAAK,CAACuJ,IAAI,CAACF,KAAK,CAACG,MAAM,CAACF,KAAK,CAAC,CAC5C,KAAM,CAAAG,IAAI,CAAGH,KAAK,CAAClJ,GAAG,CAACsJ,IAAI,EAAIC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACzDxM,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACPxD,SAAS,CAAE,CAAC,IAAIwD,IAAI,CAACxD,SAAS,EAAI,EAAE,CAAC,CAAE,GAAGoK,IAAI,CAAC,EAC/C,CAAC,CACL,CAAC,CAED,KAAM,CAAAY,kBAAkB,CAAIP,KAAK,EAAK,CACpC5M,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACPxD,SAAS,CAAEwD,IAAI,CAACxD,SAAS,CAACoE,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACvD,CAAC,CACL,CAAC,CAGD,KAAM,CAAAQ,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB;AACA,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAApG,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAnF,WAAW,CAAGU,QAAQ,CAACnC,WAAW,CAACyB,WAAW,EAAI,GAAG,CAAE,EAAE,CAAC,EAAI,CAAC,CACrE,KAAM,CAAAwL,aAAa,CAAG9K,QAAQ,CAACnC,WAAW,CAACK,UAAU,EAAI,GAAG,CAAE,EAAE,CAAC,EAAI,CAAC,CAEtE,KAAM,CAAA6M,WAAW,CAAG,CAClBrK,EAAE,CAAE+D,IAAI,CAACoG,GAAG,CAAC,CAAC,CACdjK,WAAW,CAAE,EAAE,CAAE;AACjB7C,YAAY,CAAEF,WAAW,CAACE,YAAY,CAAC4F,IAAI,CAAC,CAAC,CAC7C3F,SAAS,CAAEH,WAAW,CAACG,SAAS,CAAC2F,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACrD3F,OAAO,CAAEJ,WAAW,CAACI,OAAO,CAAC0F,IAAI,CAAC,CAAC,CACnCzF,UAAU,CAAE4M,aAAa,CACzB7J,aAAa,CAAE,CAAC,CAChBC,WAAW,CAAE4J,aAAa,CAC1B3J,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,CAAE,SAAS,CACxBC,gBAAgB,CAAEwJ,GAAG,CACrBtJ,YAAY,CAAE,IAAI,CAClBC,WAAW,CAAEqJ,GAAG,CAChBnJ,cAAc,CAAE,CAAC,CACjBpC,WAAW,CACXnB,YAAY,CAAEN,WAAW,CAACM,YAAY,EAAI,EAAE,CAC5CI,aAAa,CAAEV,WAAW,CAACU,aAAa,CAACoF,IAAI,CAAC,CAAC,CAC/ClF,YAAY,CAAEZ,WAAW,CAACY,YAAY,CAACkF,IAAI,CAAC,CAAC,CAC7CjF,YAAY,CAAEb,WAAW,CAACa,YAAY,CAACiF,IAAI,CAAC,CAAC,CAC7CpE,UAAU,CAAE1B,WAAW,CAAC0B,UAAU,EAAI,EAAE,CACxCyC,KAAK,CAAEnE,WAAW,CAAC2B,MAAM,EAAI3B,WAAW,CAAC2B,MAAM,CAAC8D,MAAM,CAAG,CAAC,CAAGzF,WAAW,CAAC2B,MAAM,CAAC,CAAC,CAAC,CAAG,giBAAgiB,CACrnBC,SAAS,CAAE5B,WAAW,CAAC4B,SAAS,EAAI,EACtC,CAAC,CACDrD,YAAY,CAAC6G,IAAI,EAAI,CAAC8H,WAAW,CAAE,GAAG9H,IAAI,CAAC,CAAC,CAC5C;AACA,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAA+H,sBAAsB,CAAGnL,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAC9D,KAAM,CAAAmL,OAAO,CAAG,CACdnK,aAAa,CAAEiK,WAAW,CAAChN,YAAY,CACvCC,SAAS,CAAE+M,WAAW,CAAC/M,SAAS,CAChCC,OAAO,CAAE8M,WAAW,CAAC9M,OAAO,CAC5B+C,WAAW,CAAE+J,WAAW,CAAC7M,UAAU,CACnCyD,YAAY,CAAE9D,WAAW,CAACyB,WAAW,EAAI,IAAI,CAC7CyC,aAAa,CAAElE,WAAW,CAACM,YAAY,EAAI,IAAI,CAC/CoB,UAAU,CAAE1B,WAAW,CAAC0B,UAAU,EAAI,IAAI,CAC1CqC,cAAc,CAAEmJ,WAAW,CAACxM,aAAa,CACzCsD,aAAa,CAAEkJ,WAAW,CAACtM,YAAY,CACvCqD,aAAa,CAAEiJ,WAAW,CAACrM,YAAY,CACvCS,SAAS,CAAEtB,WAAW,CAACsB,SAAS,EAAI,EAAE,CACtCK,MAAM,CAAE3B,WAAW,CAAC2B,MAAM,EAAI,EAAE,CAChC0L,gBAAgB,CAAErN,WAAW,CAACwB,eAAe,EAAI,EAAE,CACnD6I,eAAe,CAAErK,WAAW,CAAC4B,SAAS,EAAI,EAAE,CAC5CU,QAAQ,CAAE6K,sBAAsB,CAAGhL,QAAQ,CAACgL,sBAAsB,CAAE,EAAE,CAAC,CAAGG,SAC5E,CAAC,CACD,KAAM,CAAAlL,GAAG,CAAG,KAAM,CAAA9E,GAAG,CAACiQ,aAAa,CAACH,OAAO,CAAC,CAC5C,GAAIhL,GAAG,EAAIA,GAAG,CAACoL,IAAI,EAAIpL,GAAG,CAACoL,IAAI,CAAC3K,EAAE,CAAE,CAClCtE,YAAY,CAAC6G,IAAI,EAAIA,IAAI,CAACzC,GAAG,CAACyE,CAAC,EAAIA,CAAC,CAACvE,EAAE,GAAKqK,WAAW,CAACrK,EAAE,CAAAwC,aAAA,CAAAA,aAAA,IAAQ6H,WAAW,MAAErK,EAAE,CAAET,GAAG,CAACoL,IAAI,CAAC3K,EAAE,GAAKuE,CAAC,CAAC,CAAC,CACxG,CACF,CAAE,MAAOqG,GAAG,CAAE,CACZnD,OAAO,CAACoD,IAAI,CAAC,wDAAwD,CAAED,GAAG,CAAC,CAC7E,CACF,CAAC,EAAE,CAAC,CACJpO,eAAe,CAAC,KAAK,CAAC,CACtB;AACAY,cAAc,CAAC,CACbC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,EAAE,CACdC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,EAAE,CACbC,UAAU,CAAE,EAAE,CACdC,aAAa,CAAE,EAAE,CACjBC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,iBAAiB,CAAE,EAAE,CACrBC,GAAG,CAAE,EAAE,CACPC,oBAAoB,CAAE,EAAE,CACxBC,oBAAoB,CAAE,EAAE,CACxBC,cAAc,CAAE,IAAI,CACpBC,cAAc,CAAE,IAAI,CACpBC,eAAe,CAAE,IAAI,CACrBC,cAAc,CAAE,IAAI,CACpBC,SAAS,CAAE,EAAE,CACbC,aAAa,CAAE,EAAE,CACjBC,eAAe,CAAE,EAAE,CACnBG,MAAM,CAAE,EAAE,CACVF,WAAW,CAAE,EAAE,CACfC,UAAU,CAAE,EAAE,CACdE,SAAS,CAAE,EACb,CAAC,CAAC,CACJ,CAAC,CAED,mBACElE,KAAA,QAAKiQ,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClQ,KAAA,QAAKiQ,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAE1DlQ,KAAA,QAAKiQ,SAAS,CAAC,4GAA4G,CAAAC,QAAA,eACzHpQ,IAAA,QAAKmQ,SAAS,CAAC,8BAA8B,CAAM,CAAC,cACpDnQ,IAAA,QAAKmQ,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BlQ,KAAA,QAAKiQ,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC3GlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,OAAImQ,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAChEpQ,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,qCAAmC,CAAG,CAAC,cAC5ElQ,KAAA,QAAKiQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/ClQ,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,QAAKmQ,SAAS,CAAC,mCAAmC,CAAM,CAAC,cACzDjQ,KAAA,SAAMiQ,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAEtP,SAAS,CAAC0H,MAAM,CAACoB,CAAC,EAAIA,CAAC,CAAC9D,MAAM,GAAK,QAAQ,CAAC,CAACmC,MAAM,CAAC,SAAO,EAAM,CAAC,EAC1F,CAAC,cACN/H,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,QAAKmQ,SAAS,CAAC,oCAAoC,CAAM,CAAC,cAC1DjQ,KAAA,SAAMiQ,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAEtP,SAAS,CAAC0H,MAAM,CAACoB,CAAC,EAAIA,CAAC,CAAC9D,MAAM,GAAK,kBAAkB,CAAC,CAACmC,MAAM,CAAC,UAAQ,EAAM,CAAC,EACrG,CAAC,cACN/H,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,QAAKmQ,SAAS,CAAC,kCAAkC,CAAM,CAAC,cACxDjQ,KAAA,SAAMiQ,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAEtP,SAAS,CAAC0H,MAAM,CAACoB,CAAC,EAAIA,CAAC,CAAC9D,MAAM,GAAK,UAAU,CAAC,CAACmC,MAAM,CAAC,WAAS,EAAM,CAAC,EAC9F,CAAC,EACH,CAAC,EACH,CAAC,cACNjI,IAAA,QAAKmQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BpQ,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAMxO,eAAe,CAAC,IAAI,CAAE,CACrCsO,SAAS,CAAC,+IAA+I,CAAAC,QAAA,CAC1J,kBAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAGNpQ,IAAA,QAAKmQ,SAAS,CAAC,gEAAgE,CAAAC,QAAA,cAC7ElQ,KAAA,QAAKiQ,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnElQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAChFpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qBAAqB,CACjCrC,KAAK,CAAElN,UAAW,CAClBwP,QAAQ,CAAGlB,CAAC,EAAKrO,aAAa,CAACqO,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CAC/CiC,SAAS,CAAC,0JAA0J,CACrK,CAAC,EACC,CAAC,cACNjQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAChFlQ,KAAA,WACEgO,KAAK,CAAEhN,YAAa,CACpBsP,QAAQ,CAAGlB,CAAC,EAAKnO,eAAe,CAACmO,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACjDiC,SAAS,CAAC,0JAA0J,CAAAC,QAAA,eAEpKpQ,IAAA,WAAQkO,KAAK,CAAC,KAAK,CAAAkC,QAAA,CAAC,YAAU,CAAQ,CAAC,cACvCpQ,IAAA,WAAQkO,KAAK,CAAC,SAAS,CAAAkC,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCpQ,IAAA,WAAQkO,KAAK,CAAC,UAAU,CAAAkC,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CpQ,IAAA,WAAQkO,KAAK,CAAC,QAAQ,CAAAkC,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCpQ,IAAA,WAAQkO,KAAK,CAAC,UAAU,CAAAkC,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CpQ,IAAA,WAAQkO,KAAK,CAAC,UAAU,CAAAkC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpC,CAAC,EACN,CAAC,cACNlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cACjFlQ,KAAA,WACEgO,KAAK,CAAE9M,MAAO,CACdoP,QAAQ,CAAGlB,CAAC,EAAKjO,SAAS,CAACiO,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CAC3CiC,SAAS,CAAC,0JAA0J,CAAAC,QAAA,eAEpKpQ,IAAA,WAAQkO,KAAK,CAAC,QAAQ,CAAAkC,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCpQ,IAAA,WAAQkO,KAAK,CAAC,SAAS,CAAAkC,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCpQ,IAAA,WAAQkO,KAAK,CAAC,OAAO,CAAAkC,QAAA,CAAC,aAAW,CAAQ,CAAC,cAC1CpQ,IAAA,WAAQkO,KAAK,CAAC,MAAM,CAAAkC,QAAA,CAAC,cAAY,CAAQ,CAAC,EACpC,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAGLnG,gBAAgB,CAAChC,MAAM,GAAK,CAAC,cAC5BjI,IAAA,QAAKmQ,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CACpFtP,SAAS,CAACmH,MAAM,GAAK,CAAC,cACrB/H,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,QAAKmQ,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FpQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,2IAA2I,CAAE,CAAC,CAChN,CAAC,CACH,CAAC,cACNrJ,IAAA,OAAImQ,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,uBAAqB,CAAI,CAAC,cACnFpQ,IAAA,MAAGmQ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,mDAAiD,CAAG,CAAC,cACvFpQ,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAMxO,eAAe,CAAC,IAAI,CAAE,CACrCsO,SAAS,CAAC,8EAA8E,CAAAC,QAAA,CACzF,kBAED,CAAQ,CAAC,EACN,CAAC,cAENlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,QAAKmQ,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FpQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,6CAA6C,CAAE,CAAC,CAClH,CAAC,CACH,CAAC,cACNrJ,IAAA,OAAImQ,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,gCAA8B,CAAI,CAAC,cAC5FpQ,IAAA,MAAGmQ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAAC,EAChE,CACN,CACE,CAAC,cAENpQ,IAAA,QAAKmQ,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEnG,gBAAgB,CAAC9E,GAAG,CAAEiC,QAAQ,eAC7BlH,KAAA,QAAuBiQ,SAAS,CAAC,mHAAmH,CAAAC,QAAA,eAElJlQ,KAAA,QAAKiQ,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCpQ,IAAA,QACE+Q,GAAG,CAAE3J,QAAQ,CAACT,KAAM,CACpBqK,GAAG,CAAE5J,QAAQ,CAAC1E,YAAa,CAC3ByN,SAAS,CAAC,4BAA4B,CACvC,CAAC,cACFnQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCpQ,IAAA,UACEsQ,IAAI,CAAC,UAAU,CACfW,OAAO,CAAE1P,WAAW,CAAC2P,GAAG,CAAC9J,QAAQ,CAAC/B,EAAE,CAAE,CACtCmL,QAAQ,CAAGlB,CAAC,EAAK,CACf,KAAM,CAAA6B,WAAW,CAAG,GAAI,CAAA1P,GAAG,CAACF,WAAW,CAAC,CACxC,GAAI+N,CAAC,CAACf,MAAM,CAAC0C,OAAO,CAAE,CACpBE,WAAW,CAACC,GAAG,CAAChK,QAAQ,CAAC/B,EAAE,CAAC,CAC9B,CAAC,IAAM,CACL8L,WAAW,CAACE,MAAM,CAACjK,QAAQ,CAAC/B,EAAE,CAAC,CACjC,CACA7D,cAAc,CAAC2P,WAAW,CAAC,CAC7B,CAAE,CACFhB,SAAS,CAAC,6DAA6D,CACxE,CAAC,CACC,CAAC,cACNnQ,IAAA,QAAKmQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCpQ,IAAA,SAAMmQ,SAAS,wDAAAlE,MAAA,CAAyD9L,kBAAkB,CAACiH,QAAQ,CAACtB,MAAM,CAAC,CAAG,CAAAsK,QAAA,CAC3GhJ,QAAQ,CAACtB,MAAM,CACZ,CAAC,CACJ,CAAC,cACN9F,IAAA,QAAKmQ,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvClQ,KAAA,SAAMiQ,SAAS,CAAC,qGAAqG,CAAAC,QAAA,EAClHhJ,QAAQ,CAACvE,UAAU,CAAC,QACvB,EAAM,CAAC,CACJ,CAAC,EACH,CAAC,cAGN3C,KAAA,QAAKiQ,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,OAAImQ,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAEhJ,QAAQ,CAAC1E,YAAY,CAAK,CAAC,cACjF1C,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhJ,QAAQ,CAAC7B,WAAW,CAAI,CAAC,cAC/DvF,IAAA,MAAGmQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEhJ,QAAQ,CAACtE,YAAY,CAAI,CAAC,EACxE,CAAC,cACN5C,KAAA,QAAKiQ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpQ,IAAA,MAAGmQ,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAEtF,cAAc,CAAC1D,QAAQ,CAACf,cAAc,CAAC,CAAI,CAAC,cACzFrG,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,EACrD,CAAC,EACH,CAAC,cAGNpQ,IAAA,QAAKmQ,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBlQ,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,CACxDhJ,QAAQ,CAACtB,MAAM,GAAK,kBAAkB,cACrC5F,KAAA,SAAMiQ,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EACnE9D,mBAAmB,CAAClF,QAAQ,CAACzE,SAAS,CAAC,CAAC,qBAC3C,EAAM,CAAC,cAET3C,IAAA,MACEsR,IAAI,CAAE9F,eAAe,CAACpE,QAAQ,CAACzE,SAAS,CAAE,CAC1C4L,MAAM,CAAC,QAAQ,CACfgD,GAAG,CAAC,qBAAqB,CACzBpB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAEhE9D,mBAAmB,CAAClF,QAAQ,CAACzE,SAAS,CAAC,CACvC,CACF,EACE,CAAC,CACH,CAAC,cAGNzC,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClQ,KAAA,QAAKiQ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpQ,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,aAAW,CAAG,CAAC,cACpDpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEhJ,QAAQ,CAACvE,UAAU,CAAI,CAAC,EACjE,CAAC,cACN3C,KAAA,QAAKiQ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpQ,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAG,CAAC,cACjDpQ,IAAA,MAAGmQ,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAEhJ,QAAQ,CAACxB,aAAa,CAAI,CAAC,EACrE,CAAC,cACN1F,KAAA,QAAKiQ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpQ,IAAA,MAAGmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cAC/CpQ,IAAA,MAAGmQ,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAEhJ,QAAQ,CAACvB,WAAW,CAAI,CAAC,EACpE,CAAC,EACH,CAAC,cAGN3F,KAAA,QAAKiQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzClQ,KAAA,MAAAkQ,QAAA,eAAGpQ,IAAA,SAAMmQ,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,IAAC,CAAChJ,QAAQ,CAAClE,aAAa,EAAI,CAAC,cAC7EhD,KAAA,MAAAkQ,QAAA,eAAGpQ,IAAA,SAAMmQ,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,IAAC,CAAChJ,QAAQ,CAAChE,YAAY,EAAI,CAAC,EACvE,CAAC,cAGNlD,KAAA,QAAKiQ,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC3ElQ,KAAA,SAAAkQ,QAAA,EAAM,cAAY,CAAC7F,UAAU,CAACnD,QAAQ,CAACpB,gBAAgB,CAAC,EAAO,CAAC,cAChE9F,KAAA,SAAAkQ,QAAA,EAAM,WAAS,CAAC7F,UAAU,CAACnD,QAAQ,CAACjB,WAAW,CAAC,EAAO,CAAC,EACrD,CAAC,cAGNjG,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpQ,IAAA,WAAQqQ,OAAO,CAAEA,CAAA,GAAM9D,eAAe,CAACnF,QAAQ,CAAE,CAAC+I,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CAAC,MAEtK,CAAQ,CAAC,cACTpQ,IAAA,WAAQqQ,OAAO,CAAEA,CAAA,GAAMtC,iBAAiB,CAAC3G,QAAQ,CAAE,CAAC+I,SAAS,CAAC,+GAA+G,CAAAC,QAAA,CAAC,cAE9K,CAAQ,CAAC,cACTpQ,IAAA,WAAQqQ,OAAO,CAAEA,CAAA,GAAMxP,iBAAiB,CAACuG,QAAQ,CAAE,CAACoK,QAAQ,CAAEpK,QAAQ,CAACrB,aAAa,GAAK,UAAW,CAACoK,SAAS,sEAAAlE,MAAA,CAAuE7E,QAAQ,CAACrB,aAAa,GAAK,UAAU,CAAG,8CAA8C,CAAG,6CAA6C,CAAG,CAAAqK,QAAA,CAC3ThJ,QAAQ,CAACrB,aAAa,GAAK,UAAU,CAAG,mBAAmB,CAAG,cAAc,CACvE,CAAC,EACN,CAAC,EACH,CAAC,GA/GEqB,QAAQ,CAAC/B,EAgHd,CACN,CAAC,CACC,CACN,CAGA+E,UAAU,CAAG,CAAC,eACbpK,IAAA,QAAKmQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDlQ,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAM1O,OAAO,CAAC0I,IAAI,CAACoH,GAAG,CAAC,CAAC,CAAE/P,IAAI,CAAG,CAAC,CAAC,CAAE,CAC9C8P,QAAQ,CAAE9P,IAAI,GAAK,CAAE,CACrByO,SAAS,CAAC,gIAAgI,CAAAC,QAAA,CAC3I,MAED,CAAQ,CAAC,cACTlQ,KAAA,SAAMiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,OACzB,CAAC1O,IAAI,CAAC,MAAI,CAAC0I,UAAU,EACtB,CAAC,cACPpK,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAM1O,OAAO,CAAC0I,IAAI,CAACqH,GAAG,CAACtH,UAAU,CAAE1I,IAAI,CAAG,CAAC,CAAC,CAAE,CACvD8P,QAAQ,CAAE9P,IAAI,GAAK0I,UAAW,CAC9B+F,SAAS,CAAC,gIAAgI,CAAAC,QAAA,CAC3I,MAED,CAAQ,CAAC,EACN,CAAC,CAEH,CACN,EACE,CAAC,CAGLxO,YAAY,eACX5B,IAAA,QAAKmQ,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FlQ,KAAA,QAAKiQ,SAAS,CAAC,wEAAwE,CAAAC,QAAA,eACrFlQ,KAAA,QAAKiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDpQ,IAAA,OAAImQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACtEpQ,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAMxO,eAAe,CAAC,KAAK,CAAE,CACtCsO,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7CpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACN,CAAC,cAENnJ,KAAA,SAAMiQ,SAAS,CAAC,WAAW,CAACwB,QAAQ,CAAEtC,YAAa,CAAAe,QAAA,eAEjDlQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACnIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,EACvE,CAAC,cACNpQ,IAAA,QAAKmQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzFpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qBAAqB,CACjCrC,KAAK,CAAE1L,WAAW,CAACE,YAAa,CAChC8N,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,cAAc,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACnEiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACC,CAAC,CACH,CAAC,cAGN1R,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAChGlQ,KAAA,QAAKiQ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBrC,KAAK,CAAE1L,WAAW,CAACG,SAAU,CAC7B6N,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,WAAW,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CAC9DiC,SAAS,CAAC,qJAAqJ,CACjKyB,QAAQ,MACT,CAAC,cACA5R,IAAA,SAAMmQ,SAAS,CAAC,gGAAgG,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EAChI,CAAC,cACJpQ,IAAA,MAAGmQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,0CAAwC,CAAG,CAAC,EACrF,CAAC,cAEJlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC9FpQ,IAAA,aACIuQ,WAAW,CAAC,uEAAuE,CACrFsB,IAAI,CAAC,GAAG,CACR3D,KAAK,CAAE1L,WAAW,CAACI,OAAQ,CAC3B4N,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,SAAS,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CAC5DiC,SAAS,CAAC,+JAA+J,CAC3KyB,QAAQ,MACC,CAAC,EACP,CAAC,EACH,CAAC,EACH,CAAC,cAGN1R,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,8GAA8G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACrIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,EACtE,CAAC,cACNlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDlQ,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACvFpQ,IAAA,UACEsQ,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,GAAG,CACfmB,GAAG,CAAC,GAAG,CACPxD,KAAK,CAAE1L,WAAW,CAACK,UAAW,CAC9B2N,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,YAAY,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACjEiC,SAAS,CAAC,8HAA8H,CACxIyB,QAAQ,MACT,CAAC,EACC,CAAC,cACN1R,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1FpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,4BAA4B,CACxCrC,KAAK,CAAE1L,WAAW,CAACwB,eAAgB,CACnCwM,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,iBAAiB,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACtEiC,SAAS,CAAC,8HAA8H,CACzI,CAAC,EACC,CAAC,EACH,CAAC,cAENjQ,KAAA,QAAKiQ,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,+BAAwB,CAAO,CAAC,cAClGpQ,IAAA,UACEsQ,IAAI,CAAC,QAAQ,CACboB,GAAG,CAAC,GAAG,CACPnB,WAAW,CAAC,aAAa,CACzBrC,KAAK,CAAE1L,WAAW,CAACyB,WAAY,CAC/BuM,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,aAAa,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CAClEiC,SAAS,CAAC,8HAA8H,CACzI,CAAC,EACC,CAAC,cACNjQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,YAAU,CAAO,CAAC,cACpFlQ,KAAA,WACEgO,KAAK,CAAE1L,WAAW,CAAC0B,UAAW,CAC9BsM,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,YAAY,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACjEiC,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAE7JpQ,IAAA,WAAQkO,KAAK,CAAC,EAAE,CAAAkC,QAAA,CAAC,yBAAuB,CAAQ,CAAC,cACjDpQ,IAAA,WAAQkO,KAAK,CAAC,aAAa,CAAAkC,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDpQ,IAAA,WAAQkO,KAAK,CAAC,gBAAgB,CAAAkC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACtDpQ,IAAA,WAAQkO,KAAK,CAAC,WAAW,CAAAkC,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAC5C,CAAC,EACN,CAAC,cACNlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACvFlQ,KAAA,WACEgO,KAAK,CAAE1L,WAAW,CAACM,YAAa,CAChC0N,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,cAAc,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACnEiC,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAE7JpQ,IAAA,WAAQkO,KAAK,CAAC,EAAE,CAAAkC,QAAA,CAAC,sBAAoB,CAAQ,CAAC,cAC9CpQ,IAAA,WAAQkO,KAAK,CAAC,WAAW,CAAAkC,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CpQ,IAAA,WAAQkO,KAAK,CAAC,WAAW,CAAAkC,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CpQ,IAAA,WAAQkO,KAAK,CAAC,gBAAgB,CAAAkC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACtDpQ,IAAA,WAAQkO,KAAK,CAAC,kBAAkB,CAAAkC,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cAC1DpQ,IAAA,WAAQkO,KAAK,CAAC,eAAe,CAAAkC,QAAA,CAAC,eAAa,CAAQ,CAAC,EAC9C,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,gHAAgH,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACvIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,EACzE,CAAC,cACNlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1FpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBrC,KAAK,CAAE1L,WAAW,CAACU,aAAc,CACjCsN,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,eAAe,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACpEiC,SAAS,CAAC,8HAA8H,CACxIyB,QAAQ,MACT,CAAC,EACC,CAAC,cACN1R,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cACjFpQ,IAAA,UACEsQ,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,mBAAmB,CAC/BrC,KAAK,CAAE1L,WAAW,CAACY,YAAa,CAChCoN,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,cAAc,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACnEiC,SAAS,CAAC,8HAA8H,CACxIyB,QAAQ,MACT,CAAC,EACC,CAAC,cACN1R,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cACjFpQ,IAAA,UACEsQ,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,kBAAkB,CAC9BrC,KAAK,CAAE1L,WAAW,CAACa,YAAa,CAChCmN,QAAQ,CAAGlB,CAAC,EAAKtB,iBAAiB,CAAC,cAAc,CAAEsB,CAAC,CAACf,MAAM,CAACL,KAAK,CAAE,CACnEiC,SAAS,CAAC,8HAA8H,CACxIyB,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAGN1R,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,gHAAgH,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACvIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,EACvE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAE5BlQ,KAAA,QAAAkQ,QAAA,eACMlQ,KAAA,OAAIiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACtEpQ,IAAA,QAAKmQ,SAAS,CAAC,cAAc,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjFpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,2JAA2J,CAAE,CAAC,CAChO,CAAC,kBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACnD5N,WAAW,CAAC2B,MAAM,EAAI3B,WAAW,CAAC2B,MAAM,CAACgB,GAAG,CAAC,CAACwB,KAAK,CAAEkI,KAAK,gBACzD3O,KAAA,QAAiBiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACzCpQ,IAAA,QAAK+Q,GAAG,CAAEpK,KAAM,CAACqK,GAAG,aAAA/E,MAAA,CAAc4C,KAAK,CAAG,CAAC,CAAG,CAACsB,SAAS,CAAC,sEAAsE,CAAE,CAAC,cAClInQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAMrB,mBAAmB,CAACH,KAAK,CAAE,CAC1CsB,SAAS,CAAC,iJAAiJ,CAAAC,QAAA,cAE3JpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAVDwF,KAWL,CACN,CAAC,CACD,CAAC,CAACrM,WAAW,CAAC2B,MAAM,EAAI3B,WAAW,CAAC2B,MAAM,CAAC8D,MAAM,CAAG,EAAE,gBACrD/H,KAAA,UAAO4R,OAAO,CAAC,wBAAwB,CAAC3B,SAAS,CAAC,4LAA4L,CAAAC,QAAA,eAC5OpQ,IAAA,UAAOsQ,IAAI,CAAC,MAAM,CAACjL,EAAE,CAAC,wBAAwB,CAAC0M,QAAQ,MAACC,MAAM,CAAC,SAAS,CAACxB,QAAQ,CAAEzB,yBAA0B,CAACoB,SAAS,CAAC,QAAQ,CAAE,CAAC,cACnInQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,cACNrJ,IAAA,MAAGmQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cACpElQ,KAAA,MAAGiQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAG,EAAAzP,mBAAA,CAAA6B,WAAW,CAAC2B,MAAM,UAAAxD,mBAAA,iBAAlBA,mBAAA,CAAoBsH,MAAM,GAAI,CAAC,CAAE,cAAY,EAAG,CAAC,EACnF,CACR,EACE,CAAC,cACNjI,IAAA,MAAGmQ,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAC,mIAE/D,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAGRlQ,KAAA,QAAAkQ,QAAA,eACIlQ,KAAA,OAAIiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACtEpQ,IAAA,QAAKmQ,SAAS,CAAC,cAAc,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjFpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sHAAsH,CAAE,CAAC,CAC3L,CAAC,kBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EACnD5N,WAAW,CAAC4B,SAAS,CAACe,GAAG,CAAC,CAAC8M,MAAM,CAAEpD,KAAK,gBACnC3O,KAAA,QAAiBiQ,SAAS,CAAC,gFAAgF,CAAAC,QAAA,eAC7GpQ,IAAA,QAAK+Q,GAAG,CAAEkB,MAAO,CAACjB,GAAG,aAAA/E,MAAA,CAAc4C,KAAK,CAAG,CAAC,CAAG,CAACsB,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACzFnQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAMzB,cAAc,CAACC,KAAK,CAAE,CACrCsB,SAAS,CAAC,mIAAmI,CAAAC,QAAA,cAE7IpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAVGwF,KAWT,CACN,CAAC,cACE3O,KAAA,UAAO4R,OAAO,CAAC,mBAAmB,CAAC3B,SAAS,CAAC,0LAA0L,CAAAC,QAAA,eACzOpQ,IAAA,UAAOsQ,IAAI,CAAC,MAAM,CAACjL,EAAE,CAAC,mBAAmB,CAAC0M,QAAQ,MAACC,MAAM,CAAC,SAAS,CAACxB,QAAQ,CAAErC,iBAAkB,CAACgC,SAAS,CAAC,QAAQ,CAAE,CAAC,cACtHnQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,cACFnJ,KAAA,MAAGiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,QAAM,cAAApQ,IAAA,QAAI,CAAC,YAAS,EAAG,CAAC,EAC7E,CAAC,EACL,CAAC,cACFA,IAAA,MAAGmQ,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,uJAEjE,CAAG,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACnIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,EACxE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,OAAImQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC/EpQ,IAAA,QAAKmQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD,CACC,eAAe,CAAE,oBAAoB,CAAE,SAAS,CAAE,gBAAgB,CAAE,UAAU,CAAE,oBAAoB,CACpG,qBAAqB,CAAE,eAAe,CAAE,kBAAkB,CAAE,SAAS,CAAE,iBAAiB,CAAE,cAAc,CACxG,cAAc,CAAE,cAAc,CAAE,uBAAuB,CAAE,eAAe,CAAE,mBAAmB,CAAE,WAAW,CAC3G,CAACjL,GAAG,CAAE+M,OAAO,eACZhS,KAAA,UAAqBiQ,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC3HpQ,IAAA,UACEsQ,IAAI,CAAC,UAAU,CACfW,OAAO,CAAEzO,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACoJ,OAAO,CAAE,CACjD1B,QAAQ,CAAGlB,CAAC,EAAK,CACf,GAAIA,CAAC,CAACf,MAAM,CAAC0C,OAAO,CAAE,CACpBxO,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAEoO,OAAO,CAAC,EACvC,CAAC,CACL,CAAC,IAAM,CACLzP,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE8D,IAAI,CAAC9D,SAAS,CAAC0E,MAAM,CAACmB,CAAC,EAAIA,CAAC,GAAKuI,OAAO,CAAC,EACpD,CAAC,CACL,CACF,CAAE,CACF/B,SAAS,CAAC,wEAAwE,CACnF,CAAC,cACFnQ,IAAA,SAAMmQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE8B,OAAO,CAAO,CAAC,GAnB1DA,OAoBL,CACR,CAAC,CACC,CAAC,EACH,CAAC,cAGNhS,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpQ,IAAA,OAAImQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC9ElQ,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,8BAA8B,CAC1CrC,KAAK,CAAE1L,WAAW,CAACuB,aAAa,EAAI,EAAG,CACvCyM,QAAQ,CAAGlB,CAAC,EAAK7M,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7D,aAAa,CAAEuL,CAAC,CAACf,MAAM,CAACL,KAAK,EAAG,CAAE,CACtFiE,UAAU,CAAG7C,CAAC,EAAK,CACjB,GAAIA,CAAC,CAAC8C,GAAG,GAAK,OAAO,EAAI5P,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAE,CACzDgH,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAAC/M,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACtG,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CAAE,CACrE7F,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAE8D,IAAI,CAAC7D,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CACzDvE,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CACF,CAAE,CACFoM,SAAS,CAAC,mJAAmJ,CAC9J,CAAC,cACFnQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CACb,GAAI7N,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,EAAI,CAAC9F,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACtG,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CAAE,CACzG7F,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAE8D,IAAI,CAAC7D,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CACzDvE,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CAAE,CACFoM,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CACxG,aAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGL5N,WAAW,CAACsB,SAAS,CAACmE,MAAM,CAAG,CAAC,eAC/B/H,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlQ,KAAA,OAAIiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,oBAErD,cAAApQ,IAAA,SAAMmQ,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CACxF5N,WAAW,CAACsB,SAAS,CAACmE,MAAM,CACzB,CAAC,EACL,CAAC,cACLjI,IAAA,QAAKmQ,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClC5N,WAAW,CAACsB,SAAS,CAACqB,GAAG,CAAC,CAAC+M,OAAO,CAAErD,KAAK,gBACxC3O,KAAA,SAEEiQ,SAAS,CAAC,+FAA+F,CAAAC,QAAA,EAExG8B,OAAO,cACRlS,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CACb5N,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE8D,IAAI,CAAC9D,SAAS,CAAC0E,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACvD,CAAC,CACL,CAAE,CACFsB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cAEnEpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAjBJwF,KAkBD,CACP,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,cAGN7O,IAAA,QAAKmQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvElQ,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC/BpQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAMxO,eAAe,CAAC,KAAK,CAAE,CACpCsO,SAAS,CAAC,iHAAiH,CAAAC,QAAA,CAC9H,QAED,CAAQ,CAAC,cACTpQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACXH,SAAS,CAAC,oGAAoG,CAAAC,QAAA,CACjH,iBAED,CAAQ,CAAC,EACN,CAAC,CACD,CAAC,cAGNlQ,KAAA,QAAKgL,KAAK,CAAE,CAAEmH,OAAO,CAAE,MAAO,CAAE,CAAAjC,QAAA,eAC9BpQ,IAAA,OAAImQ,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,cACvFlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,qBAAmB,CAAO,CAAC,cAC3FpQ,IAAA,QAAKmQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD,CACC,eAAe,CAAE,oBAAoB,CAAE,SAAS,CAAE,UAAU,CAAE,UAAU,CAAE,QAAQ,CAClF,YAAY,CAAE,MAAM,CAAE,kBAAkB,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACzE,cAAc,CAAE,SAAS,CAAE,cAAc,CAAE,uBAAuB,CACnE,CAACjL,GAAG,CAAE+M,OAAO,eACZhS,KAAA,UAAqBiQ,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzEpQ,IAAA,UACEsQ,IAAI,CAAC,UAAU,CACfW,OAAO,CAAEzO,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACoJ,OAAO,CAAE,CACjD1B,QAAQ,CAAGlB,CAAC,EAAK,CACf,GAAIA,CAAC,CAACf,MAAM,CAAC0C,OAAO,CAAE,CACpBxO,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAEoO,OAAO,CAAC,EACvC,CAAC,CACL,CAAC,IAAM,CACLzP,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE8D,IAAI,CAAC9D,SAAS,CAAC0E,MAAM,CAACmB,CAAC,EAAIA,CAAC,GAAKuI,OAAO,CAAC,EACpD,CAAC,CACL,CACF,CAAE,CACF/B,SAAS,CAAC,kEAAkE,CAC7E,CAAC,cACFnQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE8B,OAAO,CAAO,CAAC,GAnB9CA,OAoBL,CACR,CAAC,CACC,CAAC,EACH,CAAC,cAGNhS,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC1FlQ,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,yBAAyB,CACrCrC,KAAK,CAAE1L,WAAW,CAACuB,aAAa,EAAI,EAAG,CACvCyM,QAAQ,CAAGlB,CAAC,EAAK7M,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7D,aAAa,CAAEuL,CAAC,CAACf,MAAM,CAACL,KAAK,EAAG,CAAE,CACtFiE,UAAU,CAAG7C,CAAC,EAAK,CACjB,GAAIA,CAAC,CAAC8C,GAAG,GAAK,OAAO,EAAI5P,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAE,CACzDgH,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAAC/M,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACtG,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CAAE,CACrE7F,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAE8D,IAAI,CAAC7D,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CACzDvE,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CACF,CAAE,CACFoM,SAAS,CAAC,8HAA8H,CACzI,CAAC,cACFnQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CACb,GAAI7N,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,EAAI,CAAC9F,WAAW,CAACsB,SAAS,CAACgF,QAAQ,CAACtG,WAAW,CAACuB,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CAAE,CACzG7F,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE,CAAC,GAAG8D,IAAI,CAAC9D,SAAS,CAAE8D,IAAI,CAAC7D,aAAa,CAAC,CAClDA,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CAAE,CACFoM,SAAS,CAAC,8EAA8E,CAAAC,QAAA,CACzF,KAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGL5N,WAAW,CAACsB,SAAS,CAACmE,MAAM,CAAG,CAAC,eAC/B/H,KAAA,QAAAkQ,QAAA,eACElQ,KAAA,UAAOiQ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAC,sBAAoB,CAAC5N,WAAW,CAACsB,SAAS,CAACmE,MAAM,CAAC,GAAC,EAAO,CAAC,cAC3HjI,IAAA,QAAKmQ,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClC5N,WAAW,CAACsB,SAAS,CAACqB,GAAG,CAAC,CAAC+M,OAAO,CAAErD,KAAK,gBACxC3O,KAAA,SAEEiQ,SAAS,CAAC,mFAAmF,CAAAC,QAAA,EAE5F8B,OAAO,cACRlS,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CACb5N,cAAc,CAACmF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACdD,IAAI,MACP9D,SAAS,CAAE8D,IAAI,CAAC9D,SAAS,CAAC0E,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EACvD,CAAC,CACL,CAAE,CACFsB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cAEjDpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAjBJwF,KAkBD,CACP,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,EAGF,CAAC,EACJ,CAAC,CACH,CACN,CAGA/M,aAAa,EAAIE,eAAe,eAC/BhC,IAAA,QAAKmQ,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FlQ,KAAA,QAAKiQ,SAAS,CAAC,wEAAwE,CAAAC,QAAA,eACrFlQ,KAAA,QAAKiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDpQ,IAAA,OAAImQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACnEpQ,IAAA,WAAQqQ,OAAO,CAAEA,CAAA,GAAM,CAAEtO,gBAAgB,CAAC,KAAK,CAAC,CAAEE,kBAAkB,CAAC,IAAI,CAAC,CAAE,CAAE,CAACkO,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAC1HpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACN,CAAC,cAENnJ,KAAA,SAAMiQ,SAAS,CAAC,WAAW,CAACwB,QAAQ,CAAGrC,CAAC,EAAK,CAAEA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE/C,cAAc,CAAC,CAAC,CAAE,CAAE,CAAA4D,QAAA,eAErFlQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACnIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,EACvE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACxDlQ,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACtFlQ,KAAA,QAAKiQ,SAAS,CAAC,4FAA4F,CAAAC,QAAA,EAAC,SACxG,CAACpO,eAAe,CAACuD,WAAW,EAAI,YAAY,EAC3C,CAAC,EACP,CAAC,cACNrF,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzFpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qBAAqB,CACjCrC,KAAK,CAAElM,eAAe,CAACU,YAAY,EAAI,EAAG,CAC1C8N,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEU,YAAY,CAAE4M,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC1FiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACH,CAAC,EACH,CAAC,cAGF1R,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC9BlQ,KAAA,QAAAkQ,QAAA,eACQpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cACpGlQ,KAAA,QAAKiQ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC1BpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBrC,KAAK,CAAElM,eAAe,CAACW,SAAS,EAAI,EAAG,CACvC6N,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEW,SAAS,CAAE2M,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CACvFiC,SAAS,CAAC,qJAAqJ,CAC/JyB,QAAQ,MACT,CAAC,cACF5R,IAAA,SAAMmQ,SAAS,CAAC,gGAAgG,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EACpI,CAAC,cACApQ,IAAA,MAAGmQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,0CAAwC,CAAG,CAAC,EACzF,CAAC,cAENlQ,KAAA,QAAAkQ,QAAA,eACQpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC5FpQ,IAAA,aACEuQ,WAAW,CAAC,uEAAuE,CACnFsB,IAAI,CAAC,GAAG,CACR3D,KAAK,CAAElM,eAAe,CAACY,OAAO,EAAI,EAAG,CACrC4N,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEY,OAAO,CAAE0M,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CACrFiC,SAAS,CAAC,+JAA+J,CACzKyB,QAAQ,MACC,CAAC,EACT,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGN1R,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,8GAA8G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACrIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,EACtE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACxDlQ,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzFlQ,KAAA,WACEgO,KAAK,CAAElM,eAAe,CAACc,YAAY,EAAI,EAAG,CAC1C0N,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEc,YAAY,CAAEwM,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC1FiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MAAAxB,QAAA,eAERpQ,IAAA,WAAQkO,KAAK,CAAC,EAAE,CAAAkC,QAAA,CAAC,sBAAoB,CAAQ,CAAC,cAC9CpQ,IAAA,WAAQkO,KAAK,CAAC,WAAW,CAAAkC,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CpQ,IAAA,WAAQkO,KAAK,CAAC,aAAa,CAAAkC,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDpQ,IAAA,WAAQkO,KAAK,CAAC,OAAO,CAAAkC,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCpQ,IAAA,WAAQkO,KAAK,CAAC,YAAY,CAAAkC,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CpQ,IAAA,WAAQkO,KAAK,CAAC,OAAO,CAAAkC,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACV,CAAC,cACNlQ,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1FlQ,KAAA,WACEgO,KAAK,CAAElM,eAAe,CAACkC,UAAU,EAAI,EAAG,CACxCsM,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEkC,UAAU,CAAEoL,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CACxFiC,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAE7JpQ,IAAA,WAAQkO,KAAK,CAAC,EAAE,CAAAkC,QAAA,CAAC,yBAAuB,CAAQ,CAAC,cACjDpQ,IAAA,WAAQkO,KAAK,CAAC,aAAa,CAAAkC,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDpQ,IAAA,WAAQkO,KAAK,CAAC,gBAAgB,CAAAkC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACtDpQ,IAAA,WAAQkO,KAAK,CAAC,WAAW,CAAAkC,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAC5C,CAAC,EACV,CAAC,EACH,CAAC,cAGFlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACxDlQ,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACvFpQ,IAAA,UACEsQ,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,iBAAiB,CAC7BmB,GAAG,CAAC,GAAG,CACPxD,KAAK,CAAElM,eAAe,CAACa,UAAU,EAAI,EAAG,CACxC2N,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEa,UAAU,CAAE8B,QAAQ,CAAC2K,CAAC,CAACf,MAAM,CAACL,KAAK,EAAI,GAAG,CAAC,EAAE,CAAE,CACzGiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACH,CAAC,cACN1R,KAAA,QAAAkQ,QAAA,eACMpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,+BAAwB,CAAO,CAAC,cAClGpQ,IAAA,UACEsQ,IAAI,CAAC,QAAQ,CACboB,GAAG,CAAC,GAAG,CACPnB,WAAW,CAAC,cAAc,CAC1BrC,KAAK,CAAElM,eAAe,CAACiC,WAAW,EAAI,EAAG,CACzCuM,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEiC,WAAW,CAAEU,QAAQ,CAAC2K,CAAC,CAACf,MAAM,CAACL,KAAK,EAAI,GAAG,CAAC,EAAE,CAAE,CAC1GiC,SAAS,CAAC,mJAAmJ,CAC9J,CAAC,EACC,CAAC,EACH,CAAC,cAGNjQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzFlQ,KAAA,WACEgO,KAAK,CAAElM,eAAe,CAAC8D,MAAM,EAAI,kBAAmB,CACpD0K,QAAQ,CAAGlB,CAAC,EAAK,CACf,KAAM,CAAAgD,SAAS,CAAGhD,CAAC,CAACf,MAAM,CAACL,KAAK,CAChCjM,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IACb7F,eAAe,MAClB8D,MAAM,CAAEwM,SAAS,CACjB;AACAvM,aAAa,CAAEuM,SAAS,GAAK,QAAQ,CAAG,UAAU,CACpCA,SAAS,GAAK,UAAU,CAAG,UAAU,CACrCA,SAAS,GAAK,UAAU,CAAG,UAAU,CAAG,SAAS,EAChE,CAAC,CACJ,CAAE,CACFnC,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAE7JpQ,IAAA,WAAQkO,KAAK,CAAC,kBAAkB,CAAAkC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxDpQ,IAAA,WAAQkO,KAAK,CAAC,QAAQ,CAAAkC,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC7CpQ,IAAA,WAAQkO,KAAK,CAAC,UAAU,CAAAkC,QAAA,CAAC,mBAAiB,CAAQ,CAAC,cACnDpQ,IAAA,WAAQkO,KAAK,CAAC,UAAU,CAAAkC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACtC,CAAC,cACPlQ,KAAA,MAAGiQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACtCpO,eAAe,CAAC8D,MAAM,GAAK,kBAAkB,EAAI,0BAA0B,CAC3E9D,eAAe,CAAC8D,MAAM,GAAK,QAAQ,EAAI,wCAAwC,CAC/E9D,eAAe,CAAC8D,MAAM,GAAK,UAAU,EAAI,gCAAgC,CACzE9D,eAAe,CAAC8D,MAAM,GAAK,UAAU,EAAI,0CAA0C,EACnF,CAAC,EACH,CAAC,cAGN5F,KAAA,QAAAkQ,QAAA,eACIpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1FpQ,IAAA,aACEuQ,WAAW,CAAC,oFAAoF,CAChGsB,IAAI,CAAC,GAAG,CACR3D,KAAK,CAAElM,eAAe,CAACgC,eAAe,EAAI,EAAG,CAC7CwM,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEgC,eAAe,CAAEsL,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC7FiC,SAAS,CAAC,+JAA+J,CAChK,CAAC,EACT,CAAC,EACH,CAAC,EACH,CAAC,cAGNjQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,gHAAgH,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACvIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,EACzE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACtDlQ,KAAA,QAAAkQ,QAAA,eACIpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1FpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,WAAW,CACvBrC,KAAK,CAAElM,eAAe,CAACkB,aAAa,EAAI,EAAG,CAC3CsN,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEkB,aAAa,CAAEoM,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC3FiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACD,CAAC,cACN1R,KAAA,QAAAkQ,QAAA,eACIpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzFpQ,IAAA,UACEsQ,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,mBAAmB,CAC/BrC,KAAK,CAAElM,eAAe,CAACoB,YAAY,EAAI,EAAG,CAC1CoN,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEoB,YAAY,CAAEkM,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC1FiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACD,CAAC,cACN1R,KAAA,QAAAkQ,QAAA,eACIpQ,IAAA,UAAOmQ,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACxFpQ,IAAA,UACEsQ,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,kBAAkB,CAC9BrC,KAAK,CAAElM,eAAe,CAACqB,YAAY,EAAI,EAAG,CAC1CmN,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAA4F,aAAA,CAAAA,aAAA,IAAM7F,eAAe,MAAEqB,YAAY,CAAEiM,CAAC,CAACf,MAAM,CAACL,KAAK,EAAE,CAAE,CAC1FiC,SAAS,CAAC,mJAAmJ,CAC7JyB,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAGN1R,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,gHAAgH,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACvIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,EACvE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAE5BlQ,KAAA,QAAAkQ,QAAA,eACMlQ,KAAA,OAAIiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACtEpQ,IAAA,QAAKmQ,SAAS,CAAC,cAAc,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjFpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,2JAA2J,CAAE,CAAC,CAChO,CAAC,kBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACnDpO,eAAe,CAACmC,MAAM,EAAInC,eAAe,CAACmC,MAAM,CAACgB,GAAG,CAAC,CAACwB,KAAK,CAAEkI,KAAK,gBACjE3O,KAAA,QAAiBiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACzCpQ,IAAA,QAAK+Q,GAAG,CAAEpK,KAAM,CAACqK,GAAG,aAAA/E,MAAA,CAAc4C,KAAK,CAAG,CAAC,CAAG,CAACsB,SAAS,CAAC,sEAAsE,CAAE,CAAC,cAClInQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAMnB,uBAAuB,CAACL,KAAK,CAAE,CAC9CsB,SAAS,CAAC,iJAAiJ,CAAAC,QAAA,cAE3JpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAVDwF,KAWL,CACN,CAAC,CACD,CAAC,CAAC7M,eAAe,CAACmC,MAAM,EAAInC,eAAe,CAACmC,MAAM,CAAC8D,MAAM,CAAG,EAAE,gBAC7D/H,KAAA,UAAO4R,OAAO,CAAC,6BAA6B,CAAC3B,SAAS,CAAC,4LAA4L,CAAAC,QAAA,eACjPpQ,IAAA,UAAOsQ,IAAI,CAAC,MAAM,CAACjL,EAAE,CAAC,6BAA6B,CAAC0M,QAAQ,MAACC,MAAM,CAAC,SAAS,CAACxB,QAAQ,CAAEvB,6BAA8B,CAACkB,SAAS,CAAC,QAAQ,CAAE,CAAC,cAC5InQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,cACNrJ,IAAA,MAAGmQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cACpElQ,KAAA,MAAGiQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAG,EAAAxP,qBAAA,CAAAoB,eAAe,CAACmC,MAAM,UAAAvD,qBAAA,iBAAtBA,qBAAA,CAAwBqH,MAAM,GAAI,CAAC,CAAE,cAAY,EAAG,CAAC,EACvF,CACR,EACE,CAAC,cACNjI,IAAA,MAAGmQ,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAC,mIAE/D,CAAG,CAAC,EACD,CAAC,EACP,CAAC,cAGFlQ,KAAA,QAAAkQ,QAAA,eACElQ,KAAA,OAAIiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACtEpQ,IAAA,QAAKmQ,SAAS,CAAC,cAAc,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjFpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sHAAsH,CAAE,CAAC,CAC3L,CAAC,kBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAC/CpO,eAAe,CAACoC,SAAS,EAAIpC,eAAe,CAACoC,SAAS,CAACe,GAAG,CAAC,CAAC8M,MAAM,CAAEpD,KAAK,gBACxE3O,KAAA,QAAiBiQ,SAAS,CAAC,gFAAgF,CAAAC,QAAA,eACzGpQ,IAAA,QAAK+Q,GAAG,CAAEkB,MAAO,CAACjB,GAAG,aAAA/E,MAAA,CAAc4C,KAAK,CAAG,CAAC,CAAG,CAACsB,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACzFnQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAMjB,kBAAkB,CAACP,KAAK,CAAE,CACzCsB,SAAS,CAAC,mIAAmI,CAAAC,QAAA,cAE7IpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAVDwF,KAWjB,CACM,CAAC,cACF3O,KAAA,UAAO4R,OAAO,CAAC,wBAAwB,CAAC3B,SAAS,CAAC,0LAA0L,CAAAC,QAAA,eAC1OpQ,IAAA,UAAOsQ,IAAI,CAAC,MAAM,CAACjL,EAAE,CAAC,wBAAwB,CAAC0M,QAAQ,MAACC,MAAM,CAAC,SAAS,CAACxB,QAAQ,CAAErB,qBAAsB,CAACgB,SAAS,CAAC,QAAQ,CAAE,CAAC,cAC/HnQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,cACNnJ,KAAA,MAAGiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,QAAM,cAAApQ,IAAA,QAAI,CAAC,YAAS,EAAG,CAAC,EACzE,CAAC,EACf,CAAC,cACIA,IAAA,MAAGmQ,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,uJAEjE,CAAG,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKiQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvElQ,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpQ,IAAA,QAAKmQ,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CAAC,GAAC,CAAK,CAAC,cACnIpQ,IAAA,OAAImQ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,EACxE,CAAC,cAENlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,OAAImQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC/EpQ,IAAA,QAAKmQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD,CACC,eAAe,CAAE,oBAAoB,CAAE,SAAS,CAAE,gBAAgB,CAAE,UAAU,CAAE,oBAAoB,CACpG,qBAAqB,CAAE,eAAe,CAAE,kBAAkB,CAAE,SAAS,CAAE,iBAAiB,CAAE,cAAc,CACxG,cAAc,CAAE,cAAc,CAAE,uBAAuB,CAAE,eAAe,CAAE,mBAAmB,CAAE,WAAW,CAC3G,CAACjL,GAAG,CAAE+M,OAAO,OAAAK,qBAAA,oBACZrS,KAAA,UAAqBiQ,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC3HpQ,IAAA,UACEsQ,IAAI,CAAC,UAAU,CACfW,OAAO,CAAE,EAAAsB,qBAAA,CAAAvQ,eAAe,CAAC8B,SAAS,UAAAyO,qBAAA,iBAAzBA,qBAAA,CAA2BzJ,QAAQ,CAACoJ,OAAO,CAAC,GAAI,KAAM,CAC/D1B,QAAQ,CAAGlB,CAAC,EAAK,CACf,GAAIA,CAAC,CAACf,MAAM,CAAC0C,OAAO,CAAE,CACpBhP,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP9D,SAAS,CAAE,CAAC,IAAI8D,IAAI,CAAC9D,SAAS,EAAI,EAAE,CAAC,CAAEoO,OAAO,CAAC,EAC/C,CAAC,CACL,CAAC,IAAM,CACLjQ,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP9D,SAAS,CAAE,CAAC8D,IAAI,CAAC9D,SAAS,EAAI,EAAE,EAAE0E,MAAM,CAACmB,CAAC,EAAIA,CAAC,GAAKuI,OAAO,CAAC,EAC5D,CAAC,CACL,CACF,CAAE,CACF/B,SAAS,CAAC,wEAAwE,CACnF,CAAC,cACFnQ,IAAA,SAAMmQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE8B,OAAO,CAAO,CAAC,GAnB1DA,OAoBL,CAAC,EACT,CAAC,CACC,CAAC,EACH,CAAC,cAGNhS,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpQ,IAAA,OAAImQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC9ElQ,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpQ,IAAA,UACEsQ,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,8BAA8B,CAC1CrC,KAAK,CAAElM,eAAe,CAAC+B,aAAa,EAAI,EAAG,CAC3CyM,QAAQ,CAAGlB,CAAC,EAAKrN,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7D,aAAa,CAAEuL,CAAC,CAACf,MAAM,CAACL,KAAK,EAAG,CAAE,CAC1FiE,UAAU,CAAG7C,CAAC,EAAK,KAAAkD,qBAAA,CACjB,GAAIlD,CAAC,CAAC8C,GAAG,GAAK,OAAO,GAAAI,qBAAA,CAAIxQ,eAAe,CAAC+B,aAAa,UAAAyO,qBAAA,WAA7BA,qBAAA,CAA+BlK,IAAI,CAAC,CAAC,CAAE,KAAAmK,sBAAA,CAC9DnD,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,GAAAkD,sBAAA,CAACzQ,eAAe,CAAC8B,SAAS,UAAA2O,sBAAA,WAAzBA,sBAAA,CAA2B3J,QAAQ,CAAC9G,eAAe,CAAC+B,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,EAAE,CAC9ErG,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP9D,SAAS,CAAE,CAAC,IAAI8D,IAAI,CAAC9D,SAAS,EAAI,EAAE,CAAC,CAAE8D,IAAI,CAAC7D,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CACjEvE,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CACF,CAAE,CACFoM,SAAS,CAAC,mJAAmJ,CAC9J,CAAC,cACFnQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,KAAAqC,sBAAA,CAAAC,sBAAA,CACb,GAAI,CAAAD,sBAAA,CAAA1Q,eAAe,CAAC+B,aAAa,UAAA2O,sBAAA,WAA7BA,sBAAA,CAA+BpK,IAAI,CAAC,CAAC,EAAI,GAAAqK,sBAAA,CAAC3Q,eAAe,CAAC8B,SAAS,UAAA6O,sBAAA,WAAzBA,sBAAA,CAA2B7J,QAAQ,CAAC9G,eAAe,CAAC+B,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,EAAE,CACvHrG,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP9D,SAAS,CAAE,CAAC,IAAI8D,IAAI,CAAC9D,SAAS,EAAI,EAAE,CAAC,CAAE8D,IAAI,CAAC7D,aAAa,CAACuE,IAAI,CAAC,CAAC,CAAC,CACjEvE,aAAa,CAAE,EAAE,EACjB,CAAC,CACL,CACF,CAAE,CACFoM,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CACxG,aAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGLpO,eAAe,CAAC8B,SAAS,EAAI9B,eAAe,CAAC8B,SAAS,CAACmE,MAAM,CAAG,CAAC,eAChE/H,KAAA,QAAKiQ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlQ,KAAA,OAAIiQ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,oBAErD,cAAApQ,IAAA,SAAMmQ,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CACxFpO,eAAe,CAAC8B,SAAS,CAACmE,MAAM,CAC7B,CAAC,EACL,CAAC,cACLjI,IAAA,QAAKmQ,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClCpO,eAAe,CAAC8B,SAAS,CAACqB,GAAG,CAAC,CAAC+M,OAAO,CAAErD,KAAK,gBAC5C3O,KAAA,SAEEiQ,SAAS,CAAC,+FAA+F,CAAAC,QAAA,EAExG8B,OAAO,cACRlS,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CACbpO,kBAAkB,CAAC2F,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP9D,SAAS,CAAE,CAAC8D,IAAI,CAAC9D,SAAS,EAAI,EAAE,EAAE0E,MAAM,CAAC,CAAC3B,CAAC,CAAEiI,CAAC,GAAKA,CAAC,GAAKD,KAAK,CAAC,EAC/D,CAAC,CACL,CAAE,CACFsB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cAEnEpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,GAjBJwF,KAkBD,CACP,CAAC,CACX,CAAC,EACH,CACN,EACc,CAAC,EACH,CAAC,cAGN7O,IAAA,QAAKmQ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvElQ,KAAA,QAAKiQ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEA,CAAA,GAAM,CAAEtO,gBAAgB,CAAC,KAAK,CAAC,CAAEE,kBAAkB,CAAC,IAAI,CAAC,CAAE,CAAE,CACtEkO,SAAS,CAAC,iHAAiH,CAAAC,QAAA,CAC5H,QAED,CAAQ,CAAC,cACTpQ,IAAA,WACEsQ,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,oGAAoG,CAAAC,QAAA,CAC/G,cAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CACN,CAGAlO,gBAAgB,EAAIE,eAAe,eAClCpC,IAAA,QAAKmQ,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FlQ,KAAA,QAAKiQ,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAE5FpQ,IAAA,QAAKmQ,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrFlQ,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,OAAImQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEhO,eAAe,CAACM,YAAY,CAAK,CAAC,cACpF1C,IAAA,MAAGmQ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,gCAA8B,CAAG,CAAC,EACjE,CAAC,cACNpQ,IAAA,WACEqQ,OAAO,CAAEA,CAAA,GAAM,CAAElO,mBAAmB,CAAC,KAAK,CAAC,CAAEE,kBAAkB,CAAC,IAAI,CAAC,CAAE,CAAE,CACzE8N,SAAS,CAAC,sFAAsF,CAAAC,QAAA,cAElGpQ,IAAA,QAAKmQ,SAAS,CAAC,SAAS,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC5EpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACJ,CAAC,CACH,CAAC,cAENnJ,KAAA,QAAKiQ,SAAS,CAAC,KAAK,CAAAC,QAAA,eAElBlQ,KAAA,QAAKiQ,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eAEzDlQ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBpQ,IAAA,QACE+Q,GAAG,CAAE3O,eAAe,CAACuE,KAAM,CAC3BqK,GAAG,CAAE5O,eAAe,CAACM,YAAa,CAClCyN,SAAS,CAAC,uEAAuE,CAClF,CAAC,cACFnQ,IAAA,QAAKmQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCpQ,IAAA,SAAMmQ,SAAS,+CAAAlE,MAAA,CAAgDV,mBAAmB,CAACnJ,eAAe,CAAC0D,MAAM,CAAC,CAAG,CAAAsK,QAAA,CAC1GhO,eAAe,CAAC0D,MAAM,CAAC8M,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,CACnD,CAAC,CACV,CAAC,EACG,CAAC,cAGN3S,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClQ,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,QAAKmQ,SAAS,CAAC,kCAAkC,CAAM,CAAC,cACxDnQ,IAAA,SAAMmQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEhO,eAAe,CAACU,YAAY,EAAI,UAAU,CAAO,CAAC,EACtG,CAAC,cACJ5C,KAAA,QAAKiQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpQ,IAAA,QAAKmQ,SAAS,CAAC,uBAAuB,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC1FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,2IAA2I,CAAE,CAAC,CAChN,CAAC,cACNrJ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhO,eAAe,CAACmD,WAAW,CAAO,CAAC,EAC3E,CAAC,EACH,CAAC,EACD,CAAC,cAGNrF,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBlQ,KAAA,QAAKiQ,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxElQ,KAAA,QAAKiQ,SAAS,CAAC,4BAA4B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,eAC/FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,oFAAoF,CAAE,CAAC,cAC5JrJ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,kCAAkC,CAAE,CAAC,EACvG,CAAC,WAER,EAAI,CAAC,cACLrJ,IAAA,MAAGmQ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEhO,eAAe,CAACQ,OAAO,CAAI,CAAC,cAC1D1C,KAAA,MAAGiQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAEhO,eAAe,CAACsK,IAAI,CAAC,IAAE,CAACtK,eAAe,CAACuK,QAAQ,EAAI,CAAC,EACjG,CAAC,cAGFzM,KAAA,QAAKiQ,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxEpQ,IAAA,QAAKmQ,SAAS,CAAC,4BAA4B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC/FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,8EAA8E,CAAE,CAAC,CACnJ,CAAC,gBAER,EAAI,CAAC,CACJjH,eAAe,CAAC0D,MAAM,GAAK,kBAAkB,cAC5C5F,KAAA,SAAMiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAChD9D,mBAAmB,CAAClK,eAAe,CAACO,SAAS,CAAC,CAAC,qBAClD,EAAM,CAAC,cAEPzC,KAAA,MACEoR,IAAI,CAAE9F,eAAe,CAACpJ,eAAe,CAACO,SAAS,CAAE,CACjD4L,MAAM,CAAC,QAAQ,CACfgD,GAAG,CAAC,qBAAqB,CACzBpB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,EAEhE9D,mBAAmB,CAAClK,eAAe,CAACO,SAAS,CAAC,CAAC,SAClD,EAAG,CACJ,EACJ,CAAC,cAGAzC,KAAA,QAAKiQ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrClQ,KAAA,QAAKiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACzEpQ,IAAA,QAAKmQ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEhO,eAAe,CAACS,UAAU,CAAM,CAAC,cACpF7C,IAAA,QAAKmQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,EAC1D,CAAC,cACNlQ,KAAA,QAAKiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACzEpQ,IAAA,QAAKmQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEhO,eAAe,CAACwD,aAAa,EAAI,CAAC,CAAM,CAAC,cAC7F5F,IAAA,QAAKmQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,EACvD,CAAC,cACNlQ,KAAA,QAAKiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACzEpQ,IAAA,QAAKmQ,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAEhO,eAAe,CAACyD,WAAW,EAAI,CAAC,CAAM,CAAC,cAC5F7F,IAAA,QAAKmQ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAK,CAAC,EACrD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKiQ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDlQ,KAAA,QAAKiQ,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAC5ElQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxEpQ,IAAA,QAAKmQ,SAAS,CAAC,6BAA6B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAChGpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,2IAA2I,CAAE,CAAC,CAChN,CAAC,oBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,cAC9DpQ,IAAA,SAAMmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEtF,cAAc,CAAC1I,eAAe,CAACiE,cAAc,CAAC,CAAO,CAAC,EAClG,CAAC,cACNnG,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,cAC3DpQ,IAAA,SAAMmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEtF,cAAc,CAAC1I,eAAe,CAAC6B,WAAW,CAAC,CAAO,CAAC,EAC/F,CAAC,cACN/D,KAAA,QAAKiQ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACzDpQ,IAAA,SAAMmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEhO,eAAe,CAAC8B,UAAU,EAAI,eAAe,CAAO,CAAC,EACjG,CAAC,EACH,CAAC,EACH,CAAC,cAGNhE,KAAA,QAAKiQ,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1ElQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxEpQ,IAAA,QAAKmQ,SAAS,CAAC,4BAA4B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cAC/FpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,qEAAqE,CAAE,CAAC,CAC1I,CAAC,sBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC9BlQ,KAAA,QAAAkQ,QAAA,eACQpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,cAC7DpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEhO,eAAe,CAACc,aAAa,CAAI,CAAC,EACjF,CAAC,cACNhD,KAAA,QAAAkQ,QAAA,eACQpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAM,CAAC,cACpDpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEhO,eAAe,CAACgB,YAAY,CAAI,CAAC,EAChF,CAAC,cACAlD,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAM,CAAC,cACpDpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEhO,eAAe,CAACiB,YAAY,CAAI,CAAC,EAC1E,CAAC,EACH,CAAC,EACH,CAAC,cAGNnD,KAAA,QAAKiQ,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1ElQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxEpQ,IAAA,QAAKmQ,SAAS,CAAC,8BAA8B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjGpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,6CAA6C,CAAE,CAAC,CAClH,CAAC,oBAER,EAAI,CAAC,cACLnJ,KAAA,QAAKiQ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlQ,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACzDpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAE7F,UAAU,CAACnI,eAAe,CAAC4D,gBAAgB,CAAC,CAAI,CAAC,EAC1F,CAAC,cACN9F,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cACvDpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAE7F,UAAU,CAACnI,eAAe,CAAC8D,YAAY,CAAC,EAAI,kBAAkB,CAAI,CAAC,EAC5G,CAAC,cACNhG,KAAA,QAAAkQ,QAAA,eACEpQ,IAAA,SAAMmQ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,cAC3DpQ,IAAA,MAAGmQ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAE7F,UAAU,CAACnI,eAAe,CAAC+D,WAAW,CAAC,CAAI,CAAC,EACrF,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAGL/D,eAAe,CAAC0B,SAAS,EAAI1B,eAAe,CAAC0B,SAAS,CAACmE,MAAM,CAAG,CAAC,eAChE/H,KAAA,QAAKiQ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlQ,KAAA,OAAIiQ,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxEpQ,IAAA,QAAKmQ,SAAS,CAAC,8BAA8B,CAACM,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAP,QAAA,cACjGpQ,IAAA,SAAM4Q,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACzH,CAAC,CAAC,0GAA0G,CAAE,CAAC,CAC/K,CAAC,YAER,EAAI,CAAC,cACLrJ,IAAA,QAAKmQ,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClChO,eAAe,CAAC0B,SAAS,CAACqB,GAAG,CAAC,CAAC+M,OAAO,CAAErD,KAAK,gBAC5C7O,IAAA,SAEEmQ,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAE5G8B,OAAO,EAHHrD,KAID,CACP,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApO,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}