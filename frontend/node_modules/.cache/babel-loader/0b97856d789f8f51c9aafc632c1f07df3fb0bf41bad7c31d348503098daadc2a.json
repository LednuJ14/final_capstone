{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from'react';import api from'../../services/api';// Props:\n// - onClose(): close modal\n// - initialChat: { id?, managerName, property, unitId, propertyId }\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Inquiries=_ref=>{var _selectedChat$message;let{onClose,initialChat=null}=_ref;const[message,setMessage]=useState('');const[chats,setChats]=useState([]);// [{id, managerName, property, avatar, status, messages: [{id, sender, text, time}]}]\nconst[selectedChatId,setSelectedChatId]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const hydratedRef=useRef(false);// Load inquiries from backend API\nconst loadInquiries=async()=>{try{setLoading(true);setError(null);const response=await api.getTenantInquiries();if(response&&response.inquiries){// Helper: explode concatenated text (tenant + manager) into chronological bubbles with embedded timestamps\nconst toMessages=inq=>{const regex=/\\n\\n--- New Message(?: \\[(\\d{10,})\\])? ---\\n/g;const chunks=[];let lastIndex=0;let match;while((match=regex.exec(String(inq.message||'')))!==null){const ts=match[1]?Number(match[1]):null;const text=String(inq.message||'').slice(lastIndex,match.index);if(text)chunks.push({text,ts:null});lastIndex=match.index+match[0].length;// next text will carry ts via subsequent slice\nchunks.push({text:null,ts});}const tail=String(inq.message||'').slice(lastIndex);if(tail)chunks.push({text:tail,ts:null});// Merge markers (ts) with following text blocks\nconst parts=[];let pendingTs=null;for(const c of chunks){if(c.text===null&&c.ts){pendingTs=c.ts;}else if(c.text){parts.push({text:c.text,ts:pendingTs});pendingTs=null;}}const msgs=parts.map((p,idx)=>({id:\"\".concat(inq.id,\"-t-\").concat(idx),sender:'tenant',text:p.text,time:new Date(p.ts||Date.now()).toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})}));// Also explode manager replies stored in response_message using timestamped delimiters\nif(inq.response_message){const mSep=/\\n\\n--- Manager Reply \\[(\\d{10,})\\] ---\\n/g;const mSrc=String(inq.response_message||'');const mParts=[];let mLast=0;let mm;while((mm=mSep.exec(mSrc))!==null){const txt=mSrc.slice(mLast,mm.index);if(txt)mParts.push({text:txt,ts:null});mParts.push({text:null,ts:mm[1]?Number(mm[1]):null});mLast=mm.index+mm[0].length;}const mTail=mSrc.slice(mLast);if(mTail)mParts.push({text:mTail,ts:null});let mPending=null;const now=Date.now();for(const part of mParts){if(part.text===null){mPending=part.ts;continue;}msgs.push({id:\"\".concat(inq.id,\"-m-\").concat(msgs.length),sender:'manager',text:part.text,time:new Date(mPending||now).toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})});mPending=null;}}return msgs;};// Map and de-duplicate by propertyId\nconst mapped=response.inquiries.map(inquiry=>{var _inquiry$property_man,_inquiry$property_man2,_inquiry$property,_inquiry$property2;return{id:inquiry.id,managerName:(((_inquiry$property_man=inquiry.property_manager)===null||_inquiry$property_man===void 0?void 0:_inquiry$property_man.first_name)||'Property')+' '+(((_inquiry$property_man2=inquiry.property_manager)===null||_inquiry$property_man2===void 0?void 0:_inquiry$property_man2.last_name)||'Manager'),property:((_inquiry$property=inquiry.property)===null||_inquiry$property===void 0?void 0:_inquiry$property.title)||((_inquiry$property2=inquiry.property)===null||_inquiry$property2===void 0?void 0:_inquiry$property2.building_name)||'Property',propertyId:inquiry.property_id,unitId:inquiry.property_id,avatar:'ðŸ¢',status:inquiry.status,messages:toMessages(inquiry),inquiry};});const dedup=[];const seen=new Set();for(const c of mapped){const key=String(c.propertyId);if(seen.has(key))continue;seen.add(key);dedup.push(c);}setChats(dedup);}}catch(err){console.error('Failed to load inquiries:',err);setError('Failed to load inquiries. Please try again.');}finally{setLoading(false);}};// Load inquiries on mount\nuseEffect(()=>{loadInquiries();hydratedRef.current=true;},[]);// Persist chats and selection whenever they change\nuseEffect(()=>{if(!hydratedRef.current)return;// avoid wiping storage with initial empty state\ntry{if(Array.isArray(chats))localStorage.setItem('tenant_chats',JSON.stringify(chats));if(selectedChatId){localStorage.setItem('tenant_selected_chat_id',selectedChatId);}}catch(_){// storage may be unavailable\n}},[chats,selectedChatId]);// Create or reuse inquiry when opened from \"INQUIRE NOW\"\nuseEffect(()=>{if(!initialChat||!initialChat.propertyId)return;const ensureInquiry=async()=>{try{setLoading(true);// 1) Load current inquiries to avoid duplicates\nlet existing=chats;if(!Array.isArray(existing)||existing.length===0){try{const res=await api.getTenantInquiries();if(res&&Array.isArray(res.inquiries)){// Reuse the same parser as in main load\nconst parser=inq=>{const regex=/\\n\\n--- New Message(?: \\[(\\d{10,})\\])? ---\\n/g;const chunks=[];let last=0;let m;while((m=regex.exec(String(inq.message||'')))!==null){const txt=String(inq.message||'').slice(last,m.index);if(txt)chunks.push({text:txt,ts:null});chunks.push({text:null,ts:m[1]?Number(m[1]):null});last=m.index+m[0].length;}const tail=String(inq.message||'').slice(last);if(tail)chunks.push({text:tail,ts:null});const out=[];let pending=null;const now=Date.now();for(const c of chunks){if(c.text===null){pending=c.ts;continue;}out.push({id:\"\".concat(inq.id,\"-t-\").concat(out.length),sender:'tenant',text:c.text,time:new Date(pending||now).toLocaleTimeString()});pending=null;}if(inq.response_message)out.push({id:\"\".concat(inq.id,\"-m\"),sender:'manager',text:inq.response_message,time:new Date(inq.responded_at||now).toLocaleTimeString()});return out;};const mapped=res.inquiries.map(inquiry=>{var _inquiry$property_man3,_inquiry$property_man4,_inquiry$property3,_inquiry$property4;return{id:inquiry.id,managerName:(((_inquiry$property_man3=inquiry.property_manager)===null||_inquiry$property_man3===void 0?void 0:_inquiry$property_man3.first_name)||'Property')+' '+(((_inquiry$property_man4=inquiry.property_manager)===null||_inquiry$property_man4===void 0?void 0:_inquiry$property_man4.last_name)||'Manager'),property:((_inquiry$property3=inquiry.property)===null||_inquiry$property3===void 0?void 0:_inquiry$property3.title)||((_inquiry$property4=inquiry.property)===null||_inquiry$property4===void 0?void 0:_inquiry$property4.building_name)||'Property',propertyId:inquiry.property_id,unitId:inquiry.property_id,avatar:'ðŸ¢',status:inquiry.status,messages:parser(inquiry),inquiry};});existing=mapped;setChats(mapped);}}catch(_){/* ignore load errors here */}}// 2) If an inquiry for this property already exists, just select it\nconst match=(existing||[]).find(c=>Number(c.propertyId)===Number(initialChat.propertyId));if(match){setSelectedChatId(match.id);return;}// 3) Otherwise, create one\nconst response=await api.startTenantInquiry(initialChat.propertyId,\"I'm interested in \".concat(initialChat.property,\". Please provide more information about availability and viewing options.\"));if(response&&response.inquiry){var _response$inquiry$pro,_response$inquiry$pro2,_response$inquiry$pro3,_response$inquiry$pro4;const newChat={id:response.inquiry.id,managerName:(((_response$inquiry$pro=response.inquiry.property_manager)===null||_response$inquiry$pro===void 0?void 0:_response$inquiry$pro.first_name)||'Property')+' '+(((_response$inquiry$pro2=response.inquiry.property_manager)===null||_response$inquiry$pro2===void 0?void 0:_response$inquiry$pro2.last_name)||'Manager'),property:((_response$inquiry$pro3=response.inquiry.property)===null||_response$inquiry$pro3===void 0?void 0:_response$inquiry$pro3.title)||((_response$inquiry$pro4=response.inquiry.property)===null||_response$inquiry$pro4===void 0?void 0:_response$inquiry$pro4.building_name)||'Property',propertyId:response.inquiry.property_id,unitId:response.inquiry.property_id,avatar:'ðŸ¢',status:response.inquiry.status,messages:function(){const inq=response.inquiry;const parts=String(inq.message||'').split(/\\n\\n--- New Message ---\\n/g).filter(Boolean);const nowMs=Date.now();const startMs=nowMs-Math.max(0,parts.length-1)*60000;return parts.map((t,idx)=>({id:\"\".concat(inq.id,\"-t-\").concat(idx),sender:'tenant',text:t,time:new Date(startMs+idx*60000).toLocaleTimeString()}));}(),inquiry:response.inquiry};setChats(prev=>[...prev,newChat]);setSelectedChatId(newChat.id);}else if(response&&response.message==='Inquiry already exists'&&response.inquiry){var _response$inquiry$pro5,_response$inquiry$pro6,_response$inquiry$pro7,_response$inquiry$pro8;// Select the existing inquiry\nconst existingChat={id:response.inquiry.id,managerName:(((_response$inquiry$pro5=response.inquiry.property_manager)===null||_response$inquiry$pro5===void 0?void 0:_response$inquiry$pro5.first_name)||'Property')+' '+(((_response$inquiry$pro6=response.inquiry.property_manager)===null||_response$inquiry$pro6===void 0?void 0:_response$inquiry$pro6.last_name)||'Manager'),property:((_response$inquiry$pro7=response.inquiry.property)===null||_response$inquiry$pro7===void 0?void 0:_response$inquiry$pro7.title)||((_response$inquiry$pro8=response.inquiry.property)===null||_response$inquiry$pro8===void 0?void 0:_response$inquiry$pro8.building_name)||'Property',propertyId:response.inquiry.property_id,unitId:response.inquiry.property_id,avatar:'ðŸ¢',status:response.inquiry.status,messages:function(){const inq=response.inquiry;const parts=String(inq.message||'').split(/\\n\\n--- New Message ---\\n/g).filter(Boolean);const nowMs=Date.now();const startMs=nowMs-Math.max(0,parts.length-1)*60000;return parts.map((t,idx)=>({id:\"\".concat(inq.id,\"-t-\").concat(idx),sender:'tenant',text:t,time:new Date(startMs+idx*60000).toLocaleTimeString()}));}(),inquiry:response.inquiry};setChats(prev=>[...prev.filter(c=>Number(c.propertyId)!==Number(existingChat.propertyId)),existingChat]);setSelectedChatId(existingChat.id);}}catch(err){console.error('Failed to create inquiry:',err);setError('Failed to create inquiry. Please try again.');}finally{setLoading(false);}};ensureInquiry();},[initialChat]);const selectedChat=useMemo(()=>chats.find(c=>c.id===selectedChatId)||null,[chats,selectedChatId]);const handleSendMessage=async()=>{if(!message.trim()||!selectedChat)return;try{setLoading(true);const response=await api.sendTenantMessage(selectedChat.id,message.trim());if(response&&response.success){// Add the message to the chat\nsetChats(prev=>prev.map(c=>c.id===selectedChat.id?_objectSpread(_objectSpread({},c),{},{messages:[...c.messages,{id:Date.now(),sender:'tenant',text:message.trim(),time:new Date().toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})}]}):c));setMessage('');}else{setError('Failed to send message. Please try again.');}}catch(err){console.error('Failed to send message:',err);setError('Failed to send message. Please try again.');}finally{setLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter')handleSendMessage();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-black text-black\",children:\"My Property Inquiries\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Chat with property managers about available properties\"})]})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-400 p-4 mx-4 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"text-xs text-red-600 underline mt-1\",children:\"Dismiss\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(90vh-72px)]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 border-r border-gray-200 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{},className:\"flex-1 py-3 px-4 text-sm font-medium transition-colors \".concat('bg-white text-black border-b-2 border-black'),children:\"Active Chats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{},className:\"flex-1 py-3 px-4 text-sm font-medium transition-colors \".concat('text-gray-600 hover:text-black hover:bg-gray-100'),children:\"New Properties\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search chats...\",className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-sm\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:loading&&chats.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Loading inquiries...\"})]}):/*#__PURE__*//* Active Chats */_jsx(\"div\",{className:\"space-y-1 px-2\",children:chats.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-sm text-gray-500\",children:\"No conversations yet. Start an inquiry from a unit to chat with a manager.\"}):chats.map(chat=>{var _chat$messages,_chat$messages2;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelectedChatId(chat.id),className:\"p-3 rounded-lg cursor-pointer transition-colors \".concat(selectedChatId===chat.id?'bg-gray-200':'hover:bg-gray-100'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-600\",children:chat.avatar})}),chat.status==='online'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:chat.managerName}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:(_chat$messages=chat.messages[chat.messages.length-1])===null||_chat$messages===void 0?void 0:_chat$messages.time})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 truncate\",children:chat.property}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 truncate\",children:String(((_chat$messages2=chat.messages[chat.messages.length-1])===null||_chat$messages2===void 0?void 0:_chat$messages2.text)||'').replace(/---\\s*Manager Reply\\s*\\[\\d{10,}\\]\\s*---/g,'').replace(/---\\s*New Message\\s*(?:\\[\\d{10,}\\])?\\s*---/g,'')})]})]})},chat.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-600\",children:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.avatar)||'PM'})}),(selectedChat===null||selectedChat===void 0?void 0:selectedChat.status)==='online'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900\",children:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.managerName)||'Property Manager'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.property)||'Property'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:selectedChat===null||selectedChat===void 0?void 0:(_selectedChat$message=selectedChat.messages)===null||_selectedChat$message===void 0?void 0:_selectedChat$message.map(msg=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(msg.sender==='tenant'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-lg \".concat(msg.sender==='tenant'?'bg-black text-white':'bg-gray-200 text-gray-900'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:msg.text}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(msg.sender==='tenant'?'text-gray-300':'text-gray-500'),children:msg.time})]})},msg.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Type your message to the property manager...\",className:\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black placeholder-gray-400\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:loading||!message.trim(),className:\"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2 text-center\",children:[\"You're chatting with the property manager about \",(selectedChat===null||selectedChat===void 0?void 0:selectedChat.property)||'this property']})]})]})]})]})});};export default Inquiries;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","api","jsx","_jsx","jsxs","_jsxs","Inquiries","_ref","_selectedChat$message","onClose","initialChat","message","setMessage","chats","setChats","selectedChatId","setSelectedChatId","loading","setLoading","error","setError","hydratedRef","loadInquiries","response","getTenantInquiries","inquiries","toMessages","inq","regex","chunks","lastIndex","match","exec","String","ts","Number","text","slice","index","push","length","tail","parts","pendingTs","c","msgs","map","p","idx","id","concat","sender","time","Date","now","toLocaleTimeString","hour","minute","response_message","mSep","mSrc","mParts","mLast","mm","txt","mTail","mPending","part","mapped","inquiry","_inquiry$property_man","_inquiry$property_man2","_inquiry$property","_inquiry$property2","managerName","property_manager","first_name","last_name","property","title","building_name","propertyId","property_id","unitId","avatar","status","messages","dedup","seen","Set","key","has","add","err","console","current","Array","isArray","localStorage","setItem","JSON","stringify","_","ensureInquiry","existing","res","parser","last","m","out","pending","responded_at","_inquiry$property_man3","_inquiry$property_man4","_inquiry$property3","_inquiry$property4","find","startTenantInquiry","_response$inquiry$pro","_response$inquiry$pro2","_response$inquiry$pro3","_response$inquiry$pro4","newChat","split","filter","Boolean","nowMs","startMs","Math","max","t","prev","_response$inquiry$pro5","_response$inquiry$pro6","_response$inquiry$pro7","_response$inquiry$pro8","existingChat","selectedChat","handleSendMessage","trim","sendTenantMessage","success","_objectSpread","handleKeyPress","e","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","chat","_chat$messages","_chat$messages2","replace","msg","value","onChange","target","onKeyPress","disabled"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/components/Tenants/Inquiries.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport api from '../../services/api';\n\n// Props:\n// - onClose(): close modal\n// - initialChat: { id?, managerName, property, unitId, propertyId }\nconst Inquiries = ({ onClose, initialChat = null }) => {\n  const [message, setMessage] = useState('');\n  const [chats, setChats] = useState([]); // [{id, managerName, property, avatar, status, messages: [{id, sender, text, time}]}]\n  const [selectedChatId, setSelectedChatId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const hydratedRef = useRef(false);\n\n  // Load inquiries from backend API\n  const loadInquiries = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await api.getTenantInquiries();\n      if (response && response.inquiries) {\n        // Helper: explode concatenated text (tenant + manager) into chronological bubbles with embedded timestamps\n        const toMessages = (inq) => {\n          const regex = /\\n\\n--- New Message(?: \\[(\\d{10,})\\])? ---\\n/g;\n          const chunks = [];\n          let lastIndex = 0;\n          let match;\n          while ((match = regex.exec(String(inq.message || ''))) !== null) {\n            const ts = match[1] ? Number(match[1]) : null;\n            const text = String(inq.message || '').slice(lastIndex, match.index);\n            if (text) chunks.push({ text, ts: null });\n            lastIndex = match.index + match[0].length;\n            // next text will carry ts via subsequent slice\n            chunks.push({ text: null, ts });\n          }\n          const tail = String(inq.message || '').slice(lastIndex);\n          if (tail) chunks.push({ text: tail, ts: null });\n\n          // Merge markers (ts) with following text blocks\n          const parts = [];\n          let pendingTs = null;\n          for (const c of chunks) {\n            if (c.text === null && c.ts) {\n              pendingTs = c.ts;\n            } else if (c.text) {\n              parts.push({ text: c.text, ts: pendingTs });\n              pendingTs = null;\n            }\n          }\n\n          const msgs = parts.map((p, idx) => ({\n            id: `${inq.id}-t-${idx}`,\n            sender: 'tenant',\n            text: p.text,\n            time: new Date(p.ts || Date.now()).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' })\n          }));\n\n          // Also explode manager replies stored in response_message using timestamped delimiters\n          if (inq.response_message) {\n            const mSep = /\\n\\n--- Manager Reply \\[(\\d{10,})\\] ---\\n/g;\n            const mSrc = String(inq.response_message || '');\n            const mParts = []; let mLast = 0; let mm;\n            while ((mm = mSep.exec(mSrc)) !== null) {\n              const txt = mSrc.slice(mLast, mm.index);\n              if (txt) mParts.push({ text: txt, ts: null });\n              mParts.push({ text: null, ts: mm[1] ? Number(mm[1]) : null });\n              mLast = mm.index + mm[0].length;\n            }\n            const mTail = mSrc.slice(mLast); if (mTail) mParts.push({ text: mTail, ts: null });\n            let mPending = null; const now = Date.now();\n            for (const part of mParts) {\n              if (part.text === null) { mPending = part.ts; continue; }\n              msgs.push({ id: `${inq.id}-m-${msgs.length}`, sender: 'manager', text: part.text, time: new Date(mPending || now).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' }) });\n              mPending = null;\n            }\n          }\n          return msgs;\n        };\n\n        // Map and de-duplicate by propertyId\n        const mapped = response.inquiries.map(inquiry => ({\n          id: inquiry.id,\n          managerName: (inquiry.property_manager?.first_name || 'Property') + ' ' + (inquiry.property_manager?.last_name || 'Manager'),\n          property: inquiry.property?.title || inquiry.property?.building_name || 'Property',\n          propertyId: inquiry.property_id,\n          unitId: inquiry.property_id,\n          avatar: 'ðŸ¢',\n          status: inquiry.status,\n          messages: toMessages(inquiry),\n          inquiry\n        }));\n        const dedup = [];\n        const seen = new Set();\n        for (const c of mapped) {\n          const key = String(c.propertyId);\n          if (seen.has(key)) continue;\n          seen.add(key);\n          dedup.push(c);\n        }\n        setChats(dedup);\n      }\n    } catch (err) {\n      console.error('Failed to load inquiries:', err);\n      setError('Failed to load inquiries. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load inquiries on mount\n  useEffect(() => {\n    loadInquiries();\n      hydratedRef.current = true;\n  }, []);\n\n  // Persist chats and selection whenever they change\n  useEffect(() => {\n    if (!hydratedRef.current) return; // avoid wiping storage with initial empty state\n    try {\n      if (Array.isArray(chats)) localStorage.setItem('tenant_chats', JSON.stringify(chats));\n      if (selectedChatId) {\n        localStorage.setItem('tenant_selected_chat_id', selectedChatId);\n      }\n    } catch (_) {\n      // storage may be unavailable\n    }\n  }, [chats, selectedChatId]);\n\n  // Create or reuse inquiry when opened from \"INQUIRE NOW\"\n  useEffect(() => {\n    if (!initialChat || !initialChat.propertyId) return;\n\n    const ensureInquiry = async () => {\n      try {\n        setLoading(true);\n        // 1) Load current inquiries to avoid duplicates\n        let existing = chats;\n        if (!Array.isArray(existing) || existing.length === 0) {\n          try {\n            const res = await api.getTenantInquiries();\n            if (res && Array.isArray(res.inquiries)) {\n              // Reuse the same parser as in main load\n              const parser = (inq) => {\n                const regex = /\\n\\n--- New Message(?: \\[(\\d{10,})\\])? ---\\n/g;\n                const chunks = []; let last = 0; let m;\n                while ((m = regex.exec(String(inq.message || ''))) !== null) {\n                  const txt = String(inq.message || '').slice(last, m.index);\n                  if (txt) chunks.push({ text: txt, ts: null });\n                  chunks.push({ text: null, ts: m[1] ? Number(m[1]) : null });\n                  last = m.index + m[0].length;\n                }\n                const tail = String(inq.message || '').slice(last);\n                if (tail) chunks.push({ text: tail, ts: null });\n                const out = []; let pending = null; const now = Date.now();\n                for (const c of chunks) {\n                  if (c.text === null) { pending = c.ts; continue; }\n                  out.push({ id: `${inq.id}-t-${out.length}`, sender: 'tenant', text: c.text, time: new Date(pending || now).toLocaleTimeString() });\n                  pending = null;\n                }\n                if (inq.response_message) out.push({ id: `${inq.id}-m`, sender: 'manager', text: inq.response_message, time: new Date(inq.responded_at || now).toLocaleTimeString() });\n                return out;\n              };\n\n              const mapped = res.inquiries.map(inquiry => ({\n                id: inquiry.id,\n                managerName: (inquiry.property_manager?.first_name || 'Property') + ' ' + (inquiry.property_manager?.last_name || 'Manager'),\n                property: inquiry.property?.title || inquiry.property?.building_name || 'Property',\n                propertyId: inquiry.property_id,\n                unitId: inquiry.property_id,\n                avatar: 'ðŸ¢',\n                status: inquiry.status,\n                messages: parser(inquiry),\n                inquiry\n              }));\n              existing = mapped;\n              setChats(mapped);\n            }\n          } catch (_) { /* ignore load errors here */ }\n        }\n\n        // 2) If an inquiry for this property already exists, just select it\n        const match = (existing || []).find(c => Number(c.propertyId) === Number(initialChat.propertyId));\n        if (match) {\n          setSelectedChatId(match.id);\n          return;\n        }\n\n        // 3) Otherwise, create one\n        const response = await api.startTenantInquiry(\n          initialChat.propertyId,\n          `I'm interested in ${initialChat.property}. Please provide more information about availability and viewing options.`\n        );\n\n        if (response && response.inquiry) {\n      const newChat = {\n            id: response.inquiry.id,\n            managerName: (response.inquiry.property_manager?.first_name || 'Property') + ' ' + (response.inquiry.property_manager?.last_name || 'Manager'),\n            property: response.inquiry.property?.title || response.inquiry.property?.building_name || 'Property',\n            propertyId: response.inquiry.property_id,\n            unitId: response.inquiry.property_id,\n            avatar: 'ðŸ¢',\n            status: response.inquiry.status,\n            messages: (function(){\n              const inq = response.inquiry;\n              const parts = String(inq.message || '').split(/\\n\\n--- New Message ---\\n/g).filter(Boolean);\n              const nowMs = Date.now();\n              const startMs = nowMs - (Math.max(0, parts.length - 1) * 60000);\n              return parts.map((t, idx) => ({\n                id: `${inq.id}-t-${idx}`,\n                sender: 'tenant',\n                text: t,\n                time: new Date(startMs + idx * 60000).toLocaleTimeString()\n              }));\n            })(),\n            inquiry: response.inquiry\n          };\n          setChats(prev => [...prev, newChat]);\n          setSelectedChatId(newChat.id);\n        }\n        else if (response && response.message === 'Inquiry already exists' && response.inquiry) {\n          // Select the existing inquiry\n          const existingChat = {\n            id: response.inquiry.id,\n            managerName: (response.inquiry.property_manager?.first_name || 'Property') + ' ' + (response.inquiry.property_manager?.last_name || 'Manager'),\n            property: response.inquiry.property?.title || response.inquiry.property?.building_name || 'Property',\n            propertyId: response.inquiry.property_id,\n            unitId: response.inquiry.property_id,\n            avatar: 'ðŸ¢',\n            status: response.inquiry.status,\n            messages: (function(){\n              const inq = response.inquiry;\n              const parts = String(inq.message || '').split(/\\n\\n--- New Message ---\\n/g).filter(Boolean);\n              const nowMs = Date.now();\n              const startMs = nowMs - (Math.max(0, parts.length - 1) * 60000);\n              return parts.map((t, idx) => ({\n                id: `${inq.id}-t-${idx}`,\n                sender: 'tenant',\n                text: t,\n                time: new Date(startMs + idx * 60000).toLocaleTimeString()\n              }));\n            })(),\n            inquiry: response.inquiry\n          };\n          setChats(prev => [...prev.filter(c => Number(c.propertyId) !== Number(existingChat.propertyId)), existingChat]);\n          setSelectedChatId(existingChat.id);\n        }\n      } catch (err) {\n        console.error('Failed to create inquiry:', err);\n        setError('Failed to create inquiry. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    ensureInquiry();\n  }, [initialChat]);\n\n  const selectedChat = useMemo(() => chats.find(c => c.id === selectedChatId) || null, [chats, selectedChatId]);\n\n  const handleSendMessage = async () => {\n    if (!message.trim() || !selectedChat) return;\n    \n    try {\n      setLoading(true);\n      const response = await api.sendTenantMessage(selectedChat.id, message.trim());\n      \n      if (response && response.success) {\n        // Add the message to the chat\n    setChats(prev => prev.map(c => c.id === selectedChat.id ? {\n      ...c,\n          messages: [...c.messages, { \n            id: Date.now(), \n            sender: 'tenant', \n            text: message.trim(), \n            time: new Date().toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' }) \n          }]\n    } : c));\n    setMessage('');\n      } else {\n        setError('Failed to send message. Please try again.');\n      }\n    } catch (err) {\n      console.error('Failed to send message:', err);\n      setError('Failed to send message. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') handleSendMessage();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50\">\n      <div className=\"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] shadow-2xl overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\n          <div className=\"flex items-center space-x-3\">\n            <button\n              onClick={onClose}\n              className=\"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\"\n            >\n              <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n            <div>\n              <h1 className=\"text-lg font-black text-black\">My Property Inquiries</h1>\n              <p className=\"text-xs text-gray-500\">Chat with property managers about available properties</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mx-4 mt-2\">\n            <div className=\"flex\">\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-700\">{error}</p>\n                <button \n                  onClick={() => setError(null)}\n                  className=\"text-xs text-red-600 underline mt-1\"\n                >\n                  Dismiss\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Content */}\n        <div className=\"flex h-[calc(90vh-72px)]\">\n          {/* Left Panel - Chat List */}\n          <div className=\"w-80 border-r border-gray-200 bg-gray-50\">\n            {/* Tabs */}\n            <div className=\"flex border-b border-gray-200\">\n              <button\n                onClick={() => {}}\n                className={`flex-1 py-3 px-4 text-sm font-medium transition-colors ${\n                  'bg-white text-black border-b-2 border-black'\n                }`}\n              >\n                Active Chats\n              </button>\n              <button\n                onClick={() => {}}\n                className={`flex-1 py-3 px-4 text-sm font-medium transition-colors ${\n                  'text-gray-600 hover:text-black hover:bg-gray-100'\n                }`}\n              >\n                New Properties\n              </button>\n            </div>\n\n            {/* Search */}\n            <div className=\"p-4\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search chats...\"\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-sm\"\n                />\n              </div>\n            </div>\n\n            {/* Chat/Property List */}\n            <div className=\"flex-1 overflow-y-auto\">\n              {/* Loading State */}\n              {loading && chats.length === 0 ? (\n                <div className=\"p-4 text-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto\"></div>\n                  <p className=\"text-sm text-gray-500 mt-2\">Loading inquiries...</p>\n                </div>\n              ) : (\n                /* Active Chats */\n              <div className=\"space-y-1 px-2\">\n                {chats.length === 0 ? (\n                  <div className=\"p-4 text-sm text-gray-500\">No conversations yet. Start an inquiry from a unit to chat with a manager.</div>\n                ) : (\n                  chats.map((chat) => (\n                    <div\n                      key={chat.id}\n                      onClick={() => setSelectedChatId(chat.id)}\n                      className={`p-3 rounded-lg cursor-pointer transition-colors ${\n                        selectedChatId === chat.id ? 'bg-gray-200' : 'hover:bg-gray-100'\n                      }`}\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"relative\">\n                          <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-blue-600\">{chat.avatar}</span>\n                          </div>\n                          {chat.status === 'online' && (\n                            <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center justify-between\">\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">{chat.managerName}</p>\n                            <span className=\"text-xs text-gray-500\">{chat.messages[chat.messages.length - 1]?.time}</span>\n                          </div>\n                          <p className=\"text-xs text-gray-600 truncate\">{chat.property}</p>\n                          <p className=\"text-xs text-gray-500 truncate\">{\n                            String(chat.messages[chat.messages.length - 1]?.text || '')\n                              .replace(/---\\s*Manager Reply\\s*\\[\\d{10,}\\]\\s*---/g, '')\n                              .replace(/---\\s*New Message\\s*(?:\\[\\d{10,}\\])?\\s*---/g, '')\n                          }</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right Panel - Chat Conversation */}\n          <div className=\"flex-1 flex flex-col bg-white\">\n            {/* Chat Header */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"relative\">\n                  <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-sm font-medium text-blue-600\">\n                      {selectedChat?.avatar || 'PM'}\n                    </span>\n                  </div>\n                    {selectedChat?.status === 'online' && (\n                    <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                  )}\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-900\">\n                    {selectedChat?.managerName || 'Property Manager'}\n                  </h3>\n                  <p className=\"text-xs text-gray-500\">\n                    {selectedChat?.property || 'Property'}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button className=\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                  </svg>\n                </button>\n                <button className=\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {selectedChat?.messages?.map((msg) => (\n                <div\n                  key={msg.id}\n                  className={`flex ${msg.sender === 'tenant' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div\n                    className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                      msg.sender === 'tenant'\n                        ? 'bg-black text-white'\n                        : 'bg-gray-200 text-gray-900'\n                    }`}\n                  >\n                    <p className=\"text-sm\">{msg.text}</p>\n                    <p className={`text-xs mt-1 ${\n                      msg.sender === 'tenant' ? 'text-gray-300' : 'text-gray-500'\n                    }`}>\n                      {msg.time}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Message Input */}\n            <div className=\"p-4 border-t border-gray-200\">\n              <div className=\"flex items-center space-x-3\">\n                <button className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\">\n                  <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                  </svg>\n                </button>\n                <input\n                  type=\"text\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"Type your message to the property manager...\"\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-black placeholder-gray-400\"\n                />\n                <button\n                  onClick={handleSendMessage}\n                  disabled={loading || !message.trim()}\n                  className=\"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {loading ? (\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  ) : (\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n                  </svg>\n                  )}\n                </button>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-2 text-center\">\n                You're chatting with the property manager about {selectedChat?.property || 'this property'}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Inquiries;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}