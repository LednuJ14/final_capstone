{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{API_ENDPOINTS}from'../config/api';class ApiService{constructor(){// Backward compatibility: support legacy 'token' key as well\nthis.accessToken=localStorage.getItem('access_token')||localStorage.getItem('token');this.refreshToken=localStorage.getItem('refresh_token');}setAccessToken(token){this.accessToken=token;if(token){localStorage.setItem('access_token',token);// Also write legacy key for compatibility with older code paths\nlocalStorage.setItem('token',token);}else{localStorage.removeItem('access_token');localStorage.removeItem('token');}}setRefreshToken(token){this.refreshToken=token;if(token)localStorage.setItem('refresh_token',token);}getHeaders(){let{isFormData=false,noAuth=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const headers={};if(!isFormData)headers['Content-Type']='application/json';if(this.accessToken&&!noAuth)headers['Authorization']=\"Bearer \".concat(this.accessToken);// For subdomain requests, we need to handle the host properly\nconst hostname=window.location.hostname;if(hostname.includes('.localhost')){// For subdomain requests, we'll rely on CORS instead of host headers\n// since we can't set host headers from browser JavaScript\n}return headers;}async request(url){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const headers=_objectSpread(_objectSpread({},this.getHeaders(options)),options.headers||{});console.log('API Service - request called:',{url,headers:_objectSpread(_objectSpread({},headers),{},{Authorization:headers.Authorization?'Bearer [REDACTED]':'None'})});const res=await fetch(url,_objectSpread(_objectSpread({},options),{},{headers}));const text=await res.text();let data=null;try{data=text?JSON.parse(text):null;}catch(_unused){data=null;}console.log('API Service - response received:',{status:res.status,ok:res.ok,data:data?data.properties?\"\".concat(data.properties.length,\" properties\"):'No properties key':'No data',fullData:data});if(!res.ok){// Attempt refresh on 401 only for protected endpoints (not public auth routes)\nconst isAuthPublic=url.includes('/auth/login')||url.includes('/auth/register')||url.includes('/auth/verify-2fa');const canTryRefresh=res.status===401&&this.refreshToken&&!url.includes('/refresh')&&!isAuthPublic&&!options._retried;if(canTryRefresh){const refreshed=await this.refresh();if(refreshed){return this.request(url,_objectSpread(_objectSpread({},options),{},{_retried:true}));}}// Extract error message from response\nconst message=data&&(data.message||data.error)||res.statusText;const error=new Error(message||'API error');error.status=res.status;error.data=data;throw error;}return data;}catch(error){// Handle network errors\nif(!error.status){const networkError=new Error('Network error - unable to connect to server');networkError.isNetworkError=true;throw networkError;}throw error;}}async refresh(){try{const res=await fetch(API_ENDPOINTS.AUTH.REFRESH,{method:'POST',headers:{'Authorization':\"Bearer \".concat(this.refreshToken),'Content-Type':'application/json'}});const data=await res.json();if(res.ok&&data.access_token){this.setAccessToken(data.access_token);return true;}}catch(_){}this.logout();return false;}logout(){this.setAccessToken(null);this.setRefreshToken(null);localStorage.removeItem('user_role');localStorage.removeItem('user_id');}// Auth\nasync login(email,password){const data=await this.request(API_ENDPOINTS.AUTH.LOGIN,{method:'POST',body:JSON.stringify({email,password}),noAuth:true});if(data!==null&&data!==void 0&&data.access_token)this.setAccessToken(data.access_token);if(data!==null&&data!==void 0&&data.refresh_token)this.setRefreshToken(data.refresh_token);return data;}async verify2FA(email,code){const data=await this.request(API_ENDPOINTS.AUTH.VERIFY_2FA,{method:'POST',body:JSON.stringify({email,code}),noAuth:true});if(data!==null&&data!==void 0&&data.access_token)this.setAccessToken(data.access_token);if(data!==null&&data!==void 0&&data.refresh_token)this.setRefreshToken(data.refresh_token);return data;}async register(userData){const data=await this.request(API_ENDPOINTS.AUTH.REGISTER,{method:'POST',body:JSON.stringify(userData),noAuth:true});return data;}async me(){return this.request(API_ENDPOINTS.AUTH.ME);}async forgotPassword(email){return this.request(API_ENDPOINTS.AUTH.FORGOT_PASSWORD,{method:'POST',body:JSON.stringify({email})});}async resetPassword(token,email,newPassword){return this.request(API_ENDPOINTS.AUTH.RESET_PASSWORD,{method:'POST',body:JSON.stringify({token,email,new_password:newPassword})});}async healthCheck(){return this.request(API_ENDPOINTS.AUTH.HEALTH);}// Properties\nasync getProperties(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.PROPERTIES.LIST,\"?\").concat(qs):API_ENDPOINTS.PROPERTIES.LIST;return this.request(url);}async getProperty(id){return this.request(API_ENDPOINTS.PROPERTIES.DETAIL(id));}async createProperty(payload){return this.request(API_ENDPOINTS.PROPERTIES.CREATE,{method:'POST',body:JSON.stringify(payload)});}async getMyProperties(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();// Use legacy manager route for compatibility with current backend\nconst base=API_ENDPOINTS.MANAGER.MY_PROPERTIES;const url=qs?\"\".concat(base,\"?\").concat(qs):base;return this.request(url);}// Managed Properties (company/building)\nasync listCompanies(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.MANAGER.MY_PROPERTIES,\"?\").concat(qs):API_ENDPOINTS.MANAGER.MY_PROPERTIES;return this.request(url);}// Units/Spaces for ManagedProperty\nasync listUnits(propertyId){// New manager endpoint returns { units: [...] }\nreturn this.request(\"\".concat(API_ENDPOINTS.MANAGER.INQUIRIES,\"units/\").concat(propertyId));}async createUnit(managedPropertyId,payload){return this.request(\"\".concat(API_ENDPOINTS.MANAGER.INQUIRIES,\"units/\").concat(managedPropertyId),{method:'POST',body:JSON.stringify(payload)});}async updateUnit(unitId,payload){return this.request(\"\".concat(API_ENDPOINTS.MANAGER.INQUIRIES,\"units/\").concat(unitId),{method:'PUT',body:JSON.stringify(payload)});}async deleteUnit(unitId){return this.request(\"\".concat(API_ENDPOINTS.MANAGER.INQUIRIES,\"units/\").concat(unitId),{method:'DELETE'});}// Admin\nasync adminDashboard(){return this.request(API_ENDPOINTS.ADMIN.DASHBOARD);}async adminAnalytics(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.ADMIN.ANALYTICS,\"?\").concat(qs):API_ENDPOINTS.ADMIN.ANALYTICS;return this.request(url);}async adminAllProperties(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.ADMIN.ALL_PROPERTIES,\"?\").concat(qs):API_ENDPOINTS.ADMIN.ALL_PROPERTIES;return this.request(url);}async getPendingProperties(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.ADMIN.PENDING_PROPERTIES,\"?\").concat(qs):API_ENDPOINTS.ADMIN.PENDING_PROPERTIES;console.log('API Service - getPendingProperties called with:',{params,url});return this.request(url);}async approveProperty(propertyId,payload){return this.request(API_ENDPOINTS.ADMIN.APPROVE_PROPERTY(propertyId),{method:'POST',body:JSON.stringify(payload)});}async rejectProperty(propertyId,payload){return this.request(API_ENDPOINTS.ADMIN.REJECT_PROPERTY(propertyId),{method:'POST',body:JSON.stringify(payload)});}async getAllPortals(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.ADMIN.ALL_PORTALS,\"?\").concat(qs):API_ENDPOINTS.ADMIN.ALL_PORTALS;return this.request(url);}async togglePortal(propertyId){return this.request(API_ENDPOINTS.ADMIN.TOGGLE_PORTAL(propertyId),{method:'POST'});}async getPortalAnalytics(){return this.request(API_ENDPOINTS.ADMIN.PORTAL_ANALYTICS);}// Tenant specific methods\nasync getTenantInquiries(){return this.request(API_ENDPOINTS.TENANT.INQUIRIES);}async sendTenantMessage(inquiryId,message){return this.request(API_ENDPOINTS.TENANT.SEND_MESSAGE,{method:'POST',body:JSON.stringify({inquiry_id:inquiryId,message})});}async startTenantInquiry(propertyId,message){return this.request(API_ENDPOINTS.TENANT.START_INQUIRY,{method:'POST',body:JSON.stringify({property_id:propertyId,message})});}// Manager inquiry methods\nasync getManagerInquiries(){return this.request(API_ENDPOINTS.MANAGER.INQUIRIES);}async sendManagerMessage(inquiryId,message){return this.request(API_ENDPOINTS.MANAGER.INQUIRIES+'send-message',{method:'POST',body:JSON.stringify({inquiry_id:inquiryId,message})});}async assignTenantToProperty(inquiryId,propertyId){return this.request(API_ENDPOINTS.MANAGER.INQUIRIES+'assign-tenant',{method:'POST',body:JSON.stringify({inquiry_id:inquiryId,property_id:propertyId})});}async getActiveProperties(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};// Sanitize params: drop empty strings/undefined/null to avoid backend 500s\nconst clean=Object.entries(params||{}).reduce((acc,_ref)=>{let[k,v]=_ref;if(v===undefined||v===null)return acc;if(typeof v==='string'&&v.trim()==='')return acc;acc[k]=v;return acc;},{});const qs=new URLSearchParams(clean).toString();// Use the new units API that serves managed units data\nconst url=qs?\"\".concat(API_ENDPOINTS.UNITS.ACTIVE,\"?\").concat(qs):API_ENDPOINTS.UNITS.ACTIVE;return this.request(url);}async getTenantProfile(){return this.request(API_ENDPOINTS.TENANT.PROFILE);}async updateTenantProfile(profileData){return this.request(API_ENDPOINTS.TENANT.PROFILE,{method:'PUT',body:JSON.stringify(profileData)});}async uploadTenantProfileImage(file){const form=new FormData();form.append('image',file);return this.request(API_ENDPOINTS.TENANT.PROFILE_UPLOAD_IMAGE,{method:'POST',body:form,// Let browser set Content-Type boundary\nisFormData:true});}async changeTenantPassword(currentPassword,newPassword,confirmPassword){return this.request(API_ENDPOINTS.TENANT.CHANGE_PASSWORD,{method:'POST',body:JSON.stringify({current_password:currentPassword,new_password:newPassword,confirm_password:confirmPassword})});}async twofaSetup(){return this.request(API_ENDPOINTS.TENANT.TWOFA_SETUP,{method:'POST'});}async twofaEnable(code){return this.request(API_ENDPOINTS.TENANT.TWOFA_ENABLE,{method:'POST',body:JSON.stringify({code})});}async twofaDisable(){return this.request(API_ENDPOINTS.TENANT.TWOFA_DISABLE,{method:'POST'});}async twofaEmailEnable(){return this.request(API_ENDPOINTS.TENANT.TWOFA_EMAIL_ENABLE,{method:'POST'});}async twofaEmailDisable(){return this.request(API_ENDPOINTS.TENANT.TWOFA_EMAIL_DISABLE,{method:'POST'});}async getManagerProfile(){return this.request(API_ENDPOINTS.MANAGER.PROFILE);}async managerAnalytics(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams(params).toString();const url=qs?\"\".concat(API_ENDPOINTS.MANAGER.ANALYTICS,\"?\").concat(qs):API_ENDPOINTS.MANAGER.ANALYTICS;return this.request(url);}async updateManagerProfile(profileData){return this.request(API_ENDPOINTS.MANAGER.PROFILE,{method:'PUT',body:JSON.stringify(profileData)});}async changeManagerPassword(currentPassword,newPassword,confirmPassword){return this.request(API_ENDPOINTS.MANAGER.CHANGE_PASSWORD,{method:'POST',body:JSON.stringify({current_password:currentPassword,new_password:newPassword,confirm_password:confirmPassword})});}async managerTwofaEmailEnable(){return this.request(API_ENDPOINTS.MANAGER.TWOFA_EMAIL_ENABLE,{method:'POST'});}async managerTwofaEmailDisable(){return this.request(API_ENDPOINTS.MANAGER.TWOFA_EMAIL_DISABLE,{method:'POST'});}}const apiService=new ApiService();export default apiService;","map":{"version":3,"names":["API_ENDPOINTS","ApiService","constructor","accessToken","localStorage","getItem","refreshToken","setAccessToken","token","setItem","removeItem","setRefreshToken","getHeaders","isFormData","noAuth","arguments","length","undefined","headers","concat","hostname","window","location","includes","request","url","options","_objectSpread","console","log","Authorization","res","fetch","text","data","JSON","parse","_unused","status","ok","properties","fullData","isAuthPublic","canTryRefresh","_retried","refreshed","refresh","message","error","statusText","Error","networkError","isNetworkError","AUTH","REFRESH","method","json","access_token","_","logout","login","email","password","LOGIN","body","stringify","refresh_token","verify2FA","code","VERIFY_2FA","register","userData","REGISTER","me","ME","forgotPassword","FORGOT_PASSWORD","resetPassword","newPassword","RESET_PASSWORD","new_password","healthCheck","HEALTH","getProperties","params","qs","URLSearchParams","toString","PROPERTIES","LIST","getProperty","id","DETAIL","createProperty","payload","CREATE","getMyProperties","base","MANAGER","MY_PROPERTIES","listCompanies","listUnits","propertyId","INQUIRIES","createUnit","managedPropertyId","updateUnit","unitId","deleteUnit","adminDashboard","ADMIN","DASHBOARD","adminAnalytics","ANALYTICS","adminAllProperties","ALL_PROPERTIES","getPendingProperties","PENDING_PROPERTIES","approveProperty","APPROVE_PROPERTY","rejectProperty","REJECT_PROPERTY","getAllPortals","ALL_PORTALS","togglePortal","TOGGLE_PORTAL","getPortalAnalytics","PORTAL_ANALYTICS","getTenantInquiries","TENANT","sendTenantMessage","inquiryId","SEND_MESSAGE","inquiry_id","startTenantInquiry","START_INQUIRY","property_id","getManagerInquiries","sendManagerMessage","assignTenantToProperty","getActiveProperties","clean","Object","entries","reduce","acc","_ref","k","v","trim","UNITS","ACTIVE","getTenantProfile","PROFILE","updateTenantProfile","profileData","uploadTenantProfileImage","file","form","FormData","append","PROFILE_UPLOAD_IMAGE","changeTenantPassword","currentPassword","confirmPassword","CHANGE_PASSWORD","current_password","confirm_password","twofaSetup","TWOFA_SETUP","twofaEnable","TWOFA_ENABLE","twofaDisable","TWOFA_DISABLE","twofaEmailEnable","TWOFA_EMAIL_ENABLE","twofaEmailDisable","TWOFA_EMAIL_DISABLE","getManagerProfile","managerAnalytics","updateManagerProfile","changeManagerPassword","managerTwofaEmailEnable","managerTwofaEmailDisable","apiService"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/services/api.js"],"sourcesContent":["import { API_ENDPOINTS } from '../config/api';\n\nclass ApiService {\n  constructor() {\n    // Backward compatibility: support legacy 'token' key as well\n    this.accessToken = localStorage.getItem('access_token') || localStorage.getItem('token');\n    this.refreshToken = localStorage.getItem('refresh_token');\n  }\n\n  setAccessToken(token) {\n    this.accessToken = token;\n    if (token) {\n      localStorage.setItem('access_token', token);\n      // Also write legacy key for compatibility with older code paths\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('token');\n    }\n  }\n\n  setRefreshToken(token) {\n    this.refreshToken = token;\n    if (token) localStorage.setItem('refresh_token', token);\n  }\n\n  getHeaders({ isFormData = false, noAuth = false } = {}) {\n    const headers = {};\n    if (!isFormData) headers['Content-Type'] = 'application/json';\n    if (this.accessToken && !noAuth) headers['Authorization'] = `Bearer ${this.accessToken}`;\n    \n    // For subdomain requests, we need to handle the host properly\n    const hostname = window.location.hostname;\n    if (hostname.includes('.localhost')) {\n      // For subdomain requests, we'll rely on CORS instead of host headers\n      // since we can't set host headers from browser JavaScript\n    }\n    \n    return headers;\n  }\n\n  async request(url, options = {}) {\n    try {\n      const headers = { ...this.getHeaders(options), ...(options.headers || {}) };\n      console.log('API Service - request called:', { url, headers: { ...headers, Authorization: headers.Authorization ? 'Bearer [REDACTED]' : 'None' } });\n      \n      const res = await fetch(url, {\n        ...options,\n        headers,\n      });\n      \n      const text = await res.text();\n      let data = null;\n      try { \n        data = text ? JSON.parse(text) : null; \n      } catch { \n        data = null; \n      }\n\n      console.log('API Service - response received:', { \n        status: res.status, \n        ok: res.ok, \n        data: data ? (data.properties ? `${data.properties.length} properties` : 'No properties key') : 'No data',\n        fullData: data\n      });\n\n      if (!res.ok) {\n        // Attempt refresh on 401 only for protected endpoints (not public auth routes)\n        const isAuthPublic = url.includes('/auth/login') || url.includes('/auth/register') || url.includes('/auth/verify-2fa');\n        const canTryRefresh = res.status === 401 && this.refreshToken && !url.includes('/refresh') && !isAuthPublic && !options._retried;\n        if (canTryRefresh) {\n          const refreshed = await this.refresh();\n          if (refreshed) {\n            return this.request(url, { ...options, _retried: true });\n          }\n        }\n        \n        // Extract error message from response\n        const message = (data && (data.message || data.error)) || res.statusText;\n        const error = new Error(message || 'API error');\n        error.status = res.status;\n        error.data = data;\n        throw error;\n      }\n      \n      return data;\n    } catch (error) {\n      // Handle network errors\n      if (!error.status) {\n        const networkError = new Error('Network error - unable to connect to server');\n        networkError.isNetworkError = true;\n        throw networkError;\n      }\n      throw error;\n    }\n  }\n\n  async refresh() {\n    try {\n      const res = await fetch(API_ENDPOINTS.AUTH.REFRESH, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${this.refreshToken}`, 'Content-Type': 'application/json' },\n      });\n      const data = await res.json();\n      if (res.ok && data.access_token) {\n        this.setAccessToken(data.access_token);\n        return true;\n      }\n    } catch (_) {}\n    this.logout();\n    return false;\n  }\n\n  logout() {\n    this.setAccessToken(null);\n    this.setRefreshToken(null);\n    localStorage.removeItem('user_role');\n    localStorage.removeItem('user_id');\n  }\n\n  // Auth\n  async login(email, password) {\n    const data = await this.request(API_ENDPOINTS.AUTH.LOGIN, {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n      noAuth: true\n    });\n    if (data?.access_token) this.setAccessToken(data.access_token);\n    if (data?.refresh_token) this.setRefreshToken(data.refresh_token);\n    return data;\n  }\n\n  async verify2FA(email, code) {\n    const data = await this.request(API_ENDPOINTS.AUTH.VERIFY_2FA, {\n      method: 'POST',\n      body: JSON.stringify({ email, code }),\n      noAuth: true\n    });\n    if (data?.access_token) this.setAccessToken(data.access_token);\n    if (data?.refresh_token) this.setRefreshToken(data.refresh_token);\n    return data;\n  }\n\n  async register(userData) {\n    const data = await this.request(API_ENDPOINTS.AUTH.REGISTER, {\n      method: 'POST',\n      body: JSON.stringify(userData),\n      noAuth: true\n    });\n    return data;\n  }\n\n  async me() {\n    return this.request(API_ENDPOINTS.AUTH.ME);\n  }\n\n  async forgotPassword(email) {\n    return this.request(API_ENDPOINTS.AUTH.FORGOT_PASSWORD, {\n      method: 'POST',\n      body: JSON.stringify({ email })\n    });\n  }\n\n  async resetPassword(token, email, newPassword) {\n    return this.request(API_ENDPOINTS.AUTH.RESET_PASSWORD, {\n      method: 'POST',\n      body: JSON.stringify({ token, email, new_password: newPassword })\n    });\n  }\n\n  async healthCheck() {\n    return this.request(API_ENDPOINTS.AUTH.HEALTH);\n  }\n\n  // Properties\n  async getProperties(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.PROPERTIES.LIST}?${qs}` : API_ENDPOINTS.PROPERTIES.LIST;\n    return this.request(url);\n  }\n\n  async getProperty(id) {\n    return this.request(API_ENDPOINTS.PROPERTIES.DETAIL(id));\n  }\n\n  async createProperty(payload) {\n    return this.request(API_ENDPOINTS.PROPERTIES.CREATE, { method: 'POST', body: JSON.stringify(payload) });\n  }\n\n  async getMyProperties(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    // Use legacy manager route for compatibility with current backend\n    const base = API_ENDPOINTS.MANAGER.MY_PROPERTIES;\n    const url = qs ? `${base}?${qs}` : base;\n    return this.request(url);\n  }\n\n  // Managed Properties (company/building)\n  async listCompanies(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.MANAGER.MY_PROPERTIES}?${qs}` : API_ENDPOINTS.MANAGER.MY_PROPERTIES;\n    return this.request(url);\n  }\n\n  // Units/Spaces for ManagedProperty\n  async listUnits(propertyId) {\n    // New manager endpoint returns { units: [...] }\n    return this.request(`${API_ENDPOINTS.MANAGER.INQUIRIES}units/${propertyId}`);\n  }\n\n  async createUnit(managedPropertyId, payload) {\n    return this.request(`${API_ENDPOINTS.MANAGER.INQUIRIES}units/${managedPropertyId}`, { method: 'POST', body: JSON.stringify(payload) });\n  }\n\n  async updateUnit(unitId, payload) {\n    return this.request(`${API_ENDPOINTS.MANAGER.INQUIRIES}units/${unitId}`, { method: 'PUT', body: JSON.stringify(payload) });\n  }\n\n  async deleteUnit(unitId) {\n    return this.request(`${API_ENDPOINTS.MANAGER.INQUIRIES}units/${unitId}`, { method: 'DELETE' });\n  }\n\n\n  // Admin\n  async adminDashboard() {\n    return this.request(API_ENDPOINTS.ADMIN.DASHBOARD);\n  }\n\n  async adminAnalytics(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.ADMIN.ANALYTICS}?${qs}` : API_ENDPOINTS.ADMIN.ANALYTICS;\n    return this.request(url);\n  }\n\n  async adminAllProperties(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.ADMIN.ALL_PROPERTIES}?${qs}` : API_ENDPOINTS.ADMIN.ALL_PROPERTIES;\n    return this.request(url);\n  }\n\n  async getPendingProperties(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.ADMIN.PENDING_PROPERTIES}?${qs}` : API_ENDPOINTS.ADMIN.PENDING_PROPERTIES;\n    console.log('API Service - getPendingProperties called with:', { params, url });\n    return this.request(url);\n  }\n\n  async approveProperty(propertyId, payload) {\n    return this.request(API_ENDPOINTS.ADMIN.APPROVE_PROPERTY(propertyId), {\n      method: 'POST',\n      body: JSON.stringify(payload)\n    });\n  }\n\n  async rejectProperty(propertyId, payload) {\n    return this.request(API_ENDPOINTS.ADMIN.REJECT_PROPERTY(propertyId), {\n      method: 'POST',\n      body: JSON.stringify(payload)\n    });\n  }\n\n  async getAllPortals(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.ADMIN.ALL_PORTALS}?${qs}` : API_ENDPOINTS.ADMIN.ALL_PORTALS;\n    return this.request(url);\n  }\n\n  async togglePortal(propertyId) {\n    return this.request(API_ENDPOINTS.ADMIN.TOGGLE_PORTAL(propertyId), {\n      method: 'POST'\n    });\n  }\n\n  async getPortalAnalytics() {\n    return this.request(API_ENDPOINTS.ADMIN.PORTAL_ANALYTICS);\n  }\n\n  // Tenant specific methods\n  async getTenantInquiries() {\n    return this.request(API_ENDPOINTS.TENANT.INQUIRIES);\n  }\n\n  async sendTenantMessage(inquiryId, message) {\n    return this.request(API_ENDPOINTS.TENANT.SEND_MESSAGE, {\n      method: 'POST',\n      body: JSON.stringify({ inquiry_id: inquiryId, message })\n    });\n  }\n\n  async startTenantInquiry(propertyId, message) {\n    return this.request(API_ENDPOINTS.TENANT.START_INQUIRY, {\n      method: 'POST',\n      body: JSON.stringify({ property_id: propertyId, message })\n    });\n  }\n\n  // Manager inquiry methods\n  async getManagerInquiries() {\n    return this.request(API_ENDPOINTS.MANAGER.INQUIRIES);\n  }\n\n  async sendManagerMessage(inquiryId, message) {\n    return this.request(API_ENDPOINTS.MANAGER.INQUIRIES + 'send-message', {\n      method: 'POST',\n      body: JSON.stringify({ inquiry_id: inquiryId, message })\n    });\n  }\n\n  async assignTenantToProperty(inquiryId, propertyId) {\n    return this.request(API_ENDPOINTS.MANAGER.INQUIRIES + 'assign-tenant', {\n      method: 'POST',\n      body: JSON.stringify({ inquiry_id: inquiryId, property_id: propertyId })\n    });\n  }\n\n  async getActiveProperties(params = {}) {\n    // Sanitize params: drop empty strings/undefined/null to avoid backend 500s\n    const clean = Object.entries(params || {}).reduce((acc, [k, v]) => {\n      if (v === undefined || v === null) return acc;\n      if (typeof v === 'string' && v.trim() === '') return acc;\n      acc[k] = v;\n      return acc;\n    }, {});\n    const qs = new URLSearchParams(clean).toString();\n    // Use the new units API that serves managed units data\n    const url = qs ? `${API_ENDPOINTS.UNITS.ACTIVE}?${qs}` : API_ENDPOINTS.UNITS.ACTIVE;\n    return this.request(url);\n  }\n\n  async getTenantProfile() {\n    return this.request(API_ENDPOINTS.TENANT.PROFILE);\n  }\n\n  async updateTenantProfile(profileData) {\n    return this.request(API_ENDPOINTS.TENANT.PROFILE, {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  }\n\n  async uploadTenantProfileImage(file) {\n    const form = new FormData();\n    form.append('image', file);\n    return this.request(API_ENDPOINTS.TENANT.PROFILE_UPLOAD_IMAGE, {\n      method: 'POST',\n      body: form,\n      // Let browser set Content-Type boundary\n      isFormData: true\n    });\n  }\n\n  async changeTenantPassword(currentPassword, newPassword, confirmPassword) {\n    return this.request(API_ENDPOINTS.TENANT.CHANGE_PASSWORD, {\n      method: 'POST',\n      body: JSON.stringify({\n        current_password: currentPassword,\n        new_password: newPassword,\n        confirm_password: confirmPassword\n      })\n    });\n  }\n\n  async twofaSetup() {\n    return this.request(API_ENDPOINTS.TENANT.TWOFA_SETUP, { method: 'POST' });\n  }\n\n  async twofaEnable(code) {\n    return this.request(API_ENDPOINTS.TENANT.TWOFA_ENABLE, {\n      method: 'POST',\n      body: JSON.stringify({ code })\n    });\n  }\n\n  async twofaDisable() {\n    return this.request(API_ENDPOINTS.TENANT.TWOFA_DISABLE, { method: 'POST' });\n  }\n\n  async twofaEmailEnable() {\n    return this.request(API_ENDPOINTS.TENANT.TWOFA_EMAIL_ENABLE, { method: 'POST' });\n  }\n\n  async twofaEmailDisable() {\n    return this.request(API_ENDPOINTS.TENANT.TWOFA_EMAIL_DISABLE, { method: 'POST' });\n  }\n\n  async getManagerProfile() {\n    return this.request(API_ENDPOINTS.MANAGER.PROFILE);\n  }\n\n  async managerAnalytics(params = {}) {\n    const qs = new URLSearchParams(params).toString();\n    const url = qs ? `${API_ENDPOINTS.MANAGER.ANALYTICS}?${qs}` : API_ENDPOINTS.MANAGER.ANALYTICS;\n    return this.request(url);\n  }\n\n  async updateManagerProfile(profileData) {\n    return this.request(API_ENDPOINTS.MANAGER.PROFILE, {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  }\n\n  async changeManagerPassword(currentPassword, newPassword, confirmPassword) {\n    return this.request(API_ENDPOINTS.MANAGER.CHANGE_PASSWORD, {\n      method: 'POST',\n      body: JSON.stringify({\n        current_password: currentPassword,\n        new_password: newPassword,\n        confirm_password: confirmPassword\n      })\n    });\n  }\n\n  async managerTwofaEmailEnable() {\n    return this.request(API_ENDPOINTS.MANAGER.TWOFA_EMAIL_ENABLE, { method: 'POST' });\n  }\n\n  async managerTwofaEmailDisable() {\n    return this.request(API_ENDPOINTS.MANAGER.TWOFA_EMAIL_DISABLE, { method: 'POST' });\n  }\n}\n\nconst apiService = new ApiService();\nexport default apiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}