{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./components/Header';import LandingDashboard from'./components/LandingDashboard';import SearchSection from'./components/Tenants/SearchSection';import PropertyGrid from'./components/Tenants/PropertyGrid';import Footer from'./components/Footer';import Login from'./components/Login';import SignUp from'./components/SignUp';import ForgotPassword from'./components/ForgotPassword';import ResetPassword from'./components/ResetPassword';import EmailVerification from'./components/EmailVerification';import EmailVerificationPending from'./components/EmailVerificationPending';import ManagerRentSpace from'./components/PropertyManager/RentSpace';import AnalyticsReports from'./components/PropertyManager/AnalyticsReports';import ManageProperty from'./components/PropertyManager/ManageProperty';import AboutContact from'./components/AboutContact';import AdminDashboard from'./components/Admin/Dashboard';import AdminProfile from'./components/Admin/Profile';import AdminSettings from'./components/Admin/Settings';import AdminPropertyReview from'./components/Admin/PropertyReview';import AdminAnalytics from'./components/Admin/Analytics';import AdminSubscriptionManagement from'./components/Admin/SubscriptionManagement';import ManagerDashboard from'./components/PropertyManager/Dashboard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[currentPage,setCurrentPage]=useState('dashboard');const[isAuthenticated,setIsAuthenticated]=useState(false);const[userRole,setUserRole]=useState('tenant');// 'tenant' | 'manager' | 'admin'\nconst[isLoadingSession,setIsLoadingSession]=useState(true);const[pendingVerificationEmail,setPendingVerificationEmail]=useState('');// Check for reset password and email verification URLs on app load\nuseEffect(()=>{const urlParams=new URLSearchParams(window.location.search);const token=urlParams.get('token');const email=urlParams.get('email');if(token&&email&&window.location.pathname==='/reset-password'){setCurrentPage('reset-password');}else if(token&&email&&window.location.pathname==='/verify-email'){setCurrentPage('verify-email');}},[]);// Check for existing session on app load\nuseEffect(()=>{const checkExistingSession=()=>{try{const token=localStorage.getItem('access_token');const savedRole=localStorage.getItem('user_role');const userId=localStorage.getItem('user_id');if(token&&savedRole&&userId){// Restore authentication state\nsetIsAuthenticated(true);setUserRole(savedRole.toLowerCase());// Set appropriate landing page based on role\nif(savedRole.toLowerCase()==='admin'){setCurrentPage('admin-dashboard');}else if(savedRole.toLowerCase()==='manager'){setCurrentPage('dashboard');}else{setCurrentPage('dashboard');}console.log('Session restored:',{role:savedRole,userId});}else{console.log('No existing session found');}}catch(error){console.error('Error checking session:',error);// Clear any corrupted session data\nlocalStorage.removeItem('access_token');localStorage.removeItem('user_role');localStorage.removeItem('user_id');}finally{setIsLoadingSession(false);}};checkExistingSession();},[]);const handlePageChange=nextPage=>{if(nextPage==='logout'){// Clear all session data\nlocalStorage.removeItem('access_token');localStorage.removeItem('user_role');localStorage.removeItem('user_id');setIsAuthenticated(false);setCurrentPage('dashboard');setUserRole('tenant');console.log('User logged out, session cleared');return;}setCurrentPage(nextPage);};const[propertyFilters,setPropertyFilters]=useState({city:'',type:'',min_price:'',max_price:'',bedrooms:''});const renderContent=()=>{// Handle Admin specific pages\nif(userRole==='admin'&&isAuthenticated){switch(currentPage){case'admin-dashboard':return/*#__PURE__*/_jsx(AdminDashboard,{});case'admin-profile':return/*#__PURE__*/_jsx(AdminProfile,{});case'admin-settings':return/*#__PURE__*/_jsx(AdminSettings,{});case'admin-property-review':return/*#__PURE__*/_jsx(AdminPropertyReview,{});case'admin-analytics':return/*#__PURE__*/_jsx(AdminAnalytics,{});case'admin-subscription-management':return/*#__PURE__*/_jsx(AdminSubscriptionManagement,{});case'admin-property-approval':return/*#__PURE__*/_jsx(AdminPropertyReview,{});case'about-contact':return/*#__PURE__*/_jsx(AboutContact,{});default:return/*#__PURE__*/_jsx(AdminDashboard,{});}}// Handle Property Manager specific pages\nif(userRole==='manager'&&isAuthenticated){switch(currentPage){case'rent-space':return/*#__PURE__*/_jsx(ManagerRentSpace,{onPageChange:handlePageChange});case'analyticsReports':return/*#__PURE__*/_jsx(AnalyticsReports,{});case'manageProperty':return/*#__PURE__*/_jsx(ManageProperty,{onOpenManageUnits:()=>handlePageChange('rent-space')});case'about-contact':return/*#__PURE__*/_jsx(AboutContact,{});default:return/*#__PURE__*/_jsx(ManagerDashboard,{onPageChange:handlePageChange});}}// Handle Tenant and public pages\nswitch(currentPage){case'dashboard':return/*#__PURE__*/_jsx(LandingDashboard,{});case'rent-space':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"mb-6 md:mb-8 bg-gradient-to-r from-black to-gray-800 text-white rounded-xl p-4 md:p-6 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl md:text-2xl font-black\",children:\"Find Your Next Home\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm text-gray-300 mt-1\",children:\"Search and filter rental spaces that match your needs\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 md:mb-8\",children:/*#__PURE__*/_jsx(SearchSection,{filters:propertyFilters,onChange:setPropertyFilters})}),/*#__PURE__*/_jsx(PropertyGrid,{filters:propertyFilters})]});case'about-contact':return/*#__PURE__*/_jsx(AboutContact,{});default:return/*#__PURE__*/_jsx(LandingDashboard,{});}};// Show loading screen while checking session\nif(isLoadingSession){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Checking session...\"})]})});}if(currentPage==='login'){return/*#__PURE__*/_jsx(Login,{onLoginSuccess:_ref=>{let{role}=_ref;setIsAuthenticated(true);if(role==='admin'){setUserRole('admin');setCurrentPage('admin-dashboard');}else if(role==='manager'){setUserRole('manager');setCurrentPage('dashboard');}else{setUserRole('tenant');setCurrentPage('dashboard');}},onBackToMain:()=>setCurrentPage('dashboard'),onSignUpClick:()=>setCurrentPage('signup'),onForgotPasswordClick:()=>setCurrentPage('forgot-password')});}if(currentPage==='signup'){return/*#__PURE__*/_jsx(SignUp,{onSignUpSuccess:_ref2=>{let{role,email}=_ref2;// For tenants and managers, redirect to email verification pending page\nif(role&&(role.toLowerCase()==='tenant'||role.toLowerCase()==='manager')){setPendingVerificationEmail(email);setCurrentPage('email-verification-pending');}else{// For admins, redirect to login (no email verification required)\nsetCurrentPage('login');}},onBackToLogin:()=>setCurrentPage('login')});}if(currentPage==='forgot-password'){return/*#__PURE__*/_jsx(ForgotPassword,{onBackToLogin:()=>setCurrentPage('login')});}if(currentPage==='reset-password'){return/*#__PURE__*/_jsx(ResetPassword,{onResetSuccess:()=>setCurrentPage('login'),onBackToLogin:()=>setCurrentPage('login')});}if(currentPage==='verify-email'){return/*#__PURE__*/_jsx(EmailVerification,{onVerificationComplete:user=>{// Auto-login the user after successful verification\nsetIsAuthenticated(true);const userRole=user.role?user.role.toLowerCase():'tenant';setUserRole(userRole);localStorage.setItem('user_role',user.role||'tenant');localStorage.setItem('user_id',user.id);// Route to appropriate dashboard based on role\nif(userRole==='manager'){setCurrentPage('dashboard');// Manager dashboard\n}else{setCurrentPage('dashboard');// Tenant dashboard\n}},onBack:()=>setCurrentPage('login')});}if(currentPage==='email-verification-pending'){return/*#__PURE__*/_jsx(EmailVerificationPending,{email:pendingVerificationEmail,onResendEmail:()=>{// Optional: Show success message or update UI\n},onBackToLogin:()=>setCurrentPage('login')});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white flex flex-col\",children:[/*#__PURE__*/_jsx(Header,{currentPage:currentPage,onPageChange:handlePageChange,isAuthenticated:isAuthenticated,userRole:userRole}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 container mx-auto px-4 py-6 max-w-7xl\",children:renderContent()}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","LandingDashboard","SearchSection","PropertyGrid","Footer","Login","SignUp","ForgotPassword","ResetPassword","EmailVerification","EmailVerificationPending","ManagerRentSpace","AnalyticsReports","ManageProperty","AboutContact","AdminDashboard","AdminProfile","AdminSettings","AdminPropertyReview","AdminAnalytics","AdminSubscriptionManagement","ManagerDashboard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","currentPage","setCurrentPage","isAuthenticated","setIsAuthenticated","userRole","setUserRole","isLoadingSession","setIsLoadingSession","pendingVerificationEmail","setPendingVerificationEmail","urlParams","URLSearchParams","window","location","search","token","get","email","pathname","checkExistingSession","localStorage","getItem","savedRole","userId","toLowerCase","console","log","role","error","removeItem","handlePageChange","nextPage","propertyFilters","setPropertyFilters","city","type","min_price","max_price","bedrooms","renderContent","onPageChange","onOpenManageUnits","children","className","filters","onChange","onLoginSuccess","_ref","onBackToMain","onSignUpClick","onForgotPasswordClick","onSignUpSuccess","_ref2","onBackToLogin","onResetSuccess","onVerificationComplete","user","setItem","id","onBack","onResendEmail"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport LandingDashboard from './components/LandingDashboard';\r\nimport SearchSection from './components/Tenants/SearchSection';\r\nimport PropertyGrid from './components/Tenants/PropertyGrid';\r\nimport Footer from './components/Footer';\r\nimport Login from './components/Login';\r\nimport SignUp from './components/SignUp';\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport ResetPassword from './components/ResetPassword';\r\nimport EmailVerification from './components/EmailVerification';\r\nimport EmailVerificationPending from './components/EmailVerificationPending';\r\nimport ManagerRentSpace from './components/PropertyManager/RentSpace';\r\nimport AnalyticsReports from './components/PropertyManager/AnalyticsReports';\r\nimport ManageProperty from './components/PropertyManager/ManageProperty';\r\nimport AboutContact from './components/AboutContact';\r\nimport AdminDashboard from './components/Admin/Dashboard';\r\nimport AdminProfile from './components/Admin/Profile';\r\nimport AdminSettings from './components/Admin/Settings';\r\nimport AdminPropertyReview from './components/Admin/PropertyReview';\r\nimport AdminAnalytics from './components/Admin/Analytics';\r\nimport AdminSubscriptionManagement from './components/Admin/SubscriptionManagement';\r\nimport ManagerDashboard from './components/PropertyManager/Dashboard';\r\n  \r\nfunction App() {\r\n  const [currentPage, setCurrentPage] = useState('dashboard');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [userRole, setUserRole] = useState('tenant'); // 'tenant' | 'manager' | 'admin'\r\n  const [isLoadingSession, setIsLoadingSession] = useState(true);\r\n  const [pendingVerificationEmail, setPendingVerificationEmail] = useState('');\r\n\r\n  // Check for reset password and email verification URLs on app load\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const token = urlParams.get('token');\r\n    const email = urlParams.get('email');\r\n    \r\n    if (token && email && window.location.pathname === '/reset-password') {\r\n      setCurrentPage('reset-password');\r\n    } else if (token && email && window.location.pathname === '/verify-email') {\r\n      setCurrentPage('verify-email');\r\n    }\r\n  }, []);\r\n\r\n  // Check for existing session on app load\r\n  useEffect(() => {\r\n    const checkExistingSession = () => {\r\n      try {\r\n        const token = localStorage.getItem('access_token');\r\n        const savedRole = localStorage.getItem('user_role');\r\n        const userId = localStorage.getItem('user_id');\r\n\r\n        if (token && savedRole && userId) {\r\n          // Restore authentication state\r\n          setIsAuthenticated(true);\r\n          setUserRole(savedRole.toLowerCase());\r\n          \r\n          // Set appropriate landing page based on role\r\n          if (savedRole.toLowerCase() === 'admin') {\r\n            setCurrentPage('admin-dashboard');\r\n          } else if (savedRole.toLowerCase() === 'manager') {\r\n            setCurrentPage('dashboard');\r\n          } else {\r\n            setCurrentPage('dashboard');\r\n          }\r\n          \r\n          console.log('Session restored:', { role: savedRole, userId });\r\n        } else {\r\n          console.log('No existing session found');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error checking session:', error);\r\n        // Clear any corrupted session data\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('user_role');\r\n        localStorage.removeItem('user_id');\r\n      } finally {\r\n        setIsLoadingSession(false);\r\n      }\r\n    };\r\n\r\n    checkExistingSession();\r\n  }, []);\r\n\r\n  const handlePageChange = (nextPage) => {\r\n    if (nextPage === 'logout') {\r\n      // Clear all session data\r\n      localStorage.removeItem('access_token');\r\n      localStorage.removeItem('user_role');\r\n      localStorage.removeItem('user_id');\r\n      \r\n      setIsAuthenticated(false);\r\n      setCurrentPage('dashboard');\r\n      setUserRole('tenant');\r\n      \r\n      console.log('User logged out, session cleared');\r\n      return;\r\n    }\r\n    setCurrentPage(nextPage);\r\n  };\r\n\r\n  const [propertyFilters, setPropertyFilters] = useState({ city: '', type: '', min_price: '', max_price: '', bedrooms: '' });\r\n\r\n  const renderContent = () => {\r\n    // Handle Admin specific pages\r\n    if (userRole === 'admin' && isAuthenticated) {\r\n      switch (currentPage) {\r\n        case 'admin-dashboard':\r\n          return <AdminDashboard />;\r\n        case 'admin-profile':\r\n          return <AdminProfile />;\r\n        case 'admin-settings':\r\n          return <AdminSettings />;\r\n        case 'admin-property-review':\r\n          return <AdminPropertyReview />;\r\n        case 'admin-analytics':\r\n          return <AdminAnalytics />;\r\n        case 'admin-subscription-management':\r\n          return <AdminSubscriptionManagement />;\r\n        case 'admin-property-approval':\r\n          return <AdminPropertyReview />;\r\n        case 'about-contact':\r\n          return <AboutContact />;\r\n        default:\r\n          return <AdminDashboard />;\r\n      }\r\n    }\r\n    \r\n    // Handle Property Manager specific pages\r\n    if (userRole === 'manager' && isAuthenticated) {\r\n      switch (currentPage) {\r\n        case 'rent-space':\r\n          return <ManagerRentSpace onPageChange={handlePageChange} />;\r\n        case 'analyticsReports':\r\n          return <AnalyticsReports />;\r\n        case 'manageProperty':\r\n          return <ManageProperty onOpenManageUnits={() => handlePageChange('rent-space')} />;\r\n        case 'about-contact':\r\n          return <AboutContact />;\r\n        default:\r\n          return <ManagerDashboard onPageChange={handlePageChange} />;\r\n      }\r\n    }\r\n    \r\n    // Handle Tenant and public pages\r\n    switch (currentPage) {\r\n      case 'dashboard':\r\n        return <LandingDashboard />;\r\n      case 'rent-space':\r\n        return (\r\n          <>\r\n            <section className=\"mb-6 md:mb-8 bg-gradient-to-r from-black to-gray-800 text-white rounded-xl p-4 md:p-6 shadow-lg\">\r\n              <h1 className=\"text-xl md:text-2xl font-black\">Find Your Next Home</h1>\r\n              <p className=\"text-xs md:text-sm text-gray-300 mt-1\">Search and filter rental spaces that match your needs</p>\r\n            </section>\r\n            <div className=\"mb-6 md:mb-8\">\r\n              <SearchSection \r\n                filters={propertyFilters}\r\n                onChange={setPropertyFilters}\r\n              />\r\n            </div>\r\n            <PropertyGrid filters={propertyFilters} />\r\n          </>\r\n        );\r\n      case 'about-contact':\r\n        return <AboutContact />;\r\n      default:\r\n        return <LandingDashboard />;\r\n    }\r\n  };\r\n\r\n  // Show loading screen while checking session\r\n  if (isLoadingSession) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Checking session...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'login') {\r\n    return (\r\n      <Login\r\n        onLoginSuccess={({ role }) => {\r\n          setIsAuthenticated(true);\r\n          if (role === 'admin') {\r\n            setUserRole('admin');\r\n            setCurrentPage('admin-dashboard');\r\n          } else if (role === 'manager') {\r\n            setUserRole('manager');\r\n            setCurrentPage('dashboard');\r\n          } else {\r\n            setUserRole('tenant');\r\n            setCurrentPage('dashboard');\r\n          }\r\n        }}\r\n        onBackToMain={() => setCurrentPage('dashboard')}\r\n        onSignUpClick={() => setCurrentPage('signup')}\r\n        onForgotPasswordClick={() => setCurrentPage('forgot-password')}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'signup') {\r\n    return (\r\n      <SignUp\r\n        onSignUpSuccess={({ role, email }) => {\r\n          // For tenants and managers, redirect to email verification pending page\r\n          if (role && (role.toLowerCase() === 'tenant' || role.toLowerCase() === 'manager')) {\r\n            setPendingVerificationEmail(email);\r\n            setCurrentPage('email-verification-pending');\r\n          } else {\r\n            // For admins, redirect to login (no email verification required)\r\n            setCurrentPage('login');\r\n          }\r\n        }}\r\n        onBackToLogin={() => setCurrentPage('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'forgot-password') {\r\n    return (\r\n      <ForgotPassword\r\n        onBackToLogin={() => setCurrentPage('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'reset-password') {\r\n    return (\r\n      <ResetPassword\r\n        onResetSuccess={() => setCurrentPage('login')}\r\n        onBackToLogin={() => setCurrentPage('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'verify-email') {\r\n    return (\r\n      <EmailVerification\r\n        onVerificationComplete={(user) => {\r\n          // Auto-login the user after successful verification\r\n          setIsAuthenticated(true);\r\n          const userRole = user.role ? user.role.toLowerCase() : 'tenant';\r\n          setUserRole(userRole);\r\n          localStorage.setItem('user_role', user.role || 'tenant');\r\n          localStorage.setItem('user_id', user.id);\r\n          \r\n          // Route to appropriate dashboard based on role\r\n          if (userRole === 'manager') {\r\n            setCurrentPage('dashboard'); // Manager dashboard\r\n          } else {\r\n            setCurrentPage('dashboard'); // Tenant dashboard\r\n          }\r\n        }}\r\n        onBack={() => setCurrentPage('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (currentPage === 'email-verification-pending') {\r\n    return (\r\n      <EmailVerificationPending\r\n        email={pendingVerificationEmail}\r\n        onResendEmail={() => {\r\n          // Optional: Show success message or update UI\r\n        }}\r\n        onBackToLogin={() => setCurrentPage('login')}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white flex flex-col\">\r\n      <Header\r\n        currentPage={currentPage}\r\n        onPageChange={handlePageChange}\r\n        isAuthenticated={isAuthenticated}\r\n        userRole={userRole}\r\n      />\r\n      <main className=\"flex-1 container mx-auto px-4 py-6 max-w-7xl\">\r\n        {renderContent()}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}