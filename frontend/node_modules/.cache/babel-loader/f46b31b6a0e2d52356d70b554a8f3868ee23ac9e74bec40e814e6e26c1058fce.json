{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Capstone-Project\\\\main-domain\\\\frontend\\\\src\\\\components\\\\Tenants\\\\Inquiries.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport api from '../../services/api';\n\n// Props:\n// - onClose(): close modal\n// - initialChat: { id?, managerName, property, unitId, propertyId }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Inquiries = ({\n  onClose,\n  initialChat = null\n}) => {\n  _s();\n  var _selectedChat$message;\n  const [message, setMessage] = useState('');\n  const [chats, setChats] = useState([]); // [{id, managerName, property, avatar, status, messages: [{id, sender, text, time}]}]\n  const [selectedChatId, setSelectedChatId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const hydratedRef = useRef(false);\n\n  // Load inquiries from backend API\n  const loadInquiries = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await api.getTenantInquiries();\n      if (response && response.inquiries) {\n        // Map and de-duplicate by propertyId\n        const mapped = response.inquiries.map(inquiry => {\n          var _inquiry$property_man, _inquiry$property_man2, _inquiry$property, _inquiry$property2;\n          return {\n            id: inquiry.id,\n            managerName: (((_inquiry$property_man = inquiry.property_manager) === null || _inquiry$property_man === void 0 ? void 0 : _inquiry$property_man.first_name) || 'Property') + ' ' + (((_inquiry$property_man2 = inquiry.property_manager) === null || _inquiry$property_man2 === void 0 ? void 0 : _inquiry$property_man2.last_name) || 'Manager'),\n            property: ((_inquiry$property = inquiry.property) === null || _inquiry$property === void 0 ? void 0 : _inquiry$property.title) || ((_inquiry$property2 = inquiry.property) === null || _inquiry$property2 === void 0 ? void 0 : _inquiry$property2.building_name) || 'Property',\n            propertyId: inquiry.property_id,\n            unitId: inquiry.property_id,\n            avatar: 'ğŸ¢',\n            status: inquiry.status,\n            messages: [{\n              id: 1,\n              sender: 'tenant',\n              text: inquiry.message,\n              time: new Date(inquiry.created_at).toLocaleTimeString()\n            }, ...(inquiry.response_message ? [{\n              id: 2,\n              sender: 'manager',\n              text: inquiry.response_message,\n              time: new Date(inquiry.responded_at).toLocaleTimeString()\n            }] : [])],\n            inquiry: inquiry\n          };\n        });\n        const dedup = [];\n        const seen = new Set();\n        for (const c of mapped) {\n          const key = String(c.propertyId);\n          if (seen.has(key)) continue;\n          seen.add(key);\n          dedup.push(c);\n        }\n        setChats(dedup);\n      }\n    } catch (err) {\n      console.error('Failed to load inquiries:', err);\n      setError('Failed to load inquiries. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load inquiries on mount\n  useEffect(() => {\n    loadInquiries();\n    hydratedRef.current = true;\n  }, []);\n\n  // Persist chats and selection whenever they change\n  useEffect(() => {\n    if (!hydratedRef.current) return; // avoid wiping storage with initial empty state\n    try {\n      if (Array.isArray(chats)) localStorage.setItem('tenant_chats', JSON.stringify(chats));\n      if (selectedChatId) {\n        localStorage.setItem('tenant_selected_chat_id', selectedChatId);\n      }\n    } catch (_) {\n      // storage may be unavailable\n    }\n  }, [chats, selectedChatId]);\n\n  // Create or reuse inquiry when opened from \"INQUIRE NOW\"\n  useEffect(() => {\n    if (!initialChat || !initialChat.propertyId) return;\n    const ensureInquiry = async () => {\n      try {\n        setLoading(true);\n        // 1) Load current inquiries to avoid duplicates\n        let existing = chats;\n        if (!Array.isArray(existing) || existing.length === 0) {\n          try {\n            const res = await api.getTenantInquiries();\n            if (res && Array.isArray(res.inquiries)) {\n              const mapped = res.inquiries.map(inquiry => {\n                var _inquiry$property_man3, _inquiry$property_man4, _inquiry$property3, _inquiry$property4;\n                return {\n                  id: inquiry.id,\n                  managerName: (((_inquiry$property_man3 = inquiry.property_manager) === null || _inquiry$property_man3 === void 0 ? void 0 : _inquiry$property_man3.first_name) || 'Property') + ' ' + (((_inquiry$property_man4 = inquiry.property_manager) === null || _inquiry$property_man4 === void 0 ? void 0 : _inquiry$property_man4.last_name) || 'Manager'),\n                  property: ((_inquiry$property3 = inquiry.property) === null || _inquiry$property3 === void 0 ? void 0 : _inquiry$property3.title) || ((_inquiry$property4 = inquiry.property) === null || _inquiry$property4 === void 0 ? void 0 : _inquiry$property4.building_name) || 'Property',\n                  propertyId: inquiry.property_id,\n                  unitId: inquiry.property_id,\n                  avatar: 'ğŸ¢',\n                  status: inquiry.status,\n                  messages: [{\n                    id: 1,\n                    sender: 'tenant',\n                    text: inquiry.message,\n                    time: new Date(inquiry.created_at || Date.now()).toLocaleTimeString()\n                  }],\n                  inquiry\n                };\n              });\n              existing = mapped;\n              setChats(mapped);\n            }\n          } catch (_) {/* ignore load errors here */}\n        }\n\n        // 2) If an inquiry for this property already exists, just select it\n        const match = (existing || []).find(c => Number(c.propertyId) === Number(initialChat.propertyId));\n        if (match) {\n          setSelectedChatId(match.id);\n          return;\n        }\n\n        // 3) Otherwise, create one\n        const response = await api.startTenantInquiry(initialChat.propertyId, `I'm interested in ${initialChat.property}. Please provide more information about availability and viewing options.`);\n        if (response && response.inquiry) {\n          var _response$inquiry$pro, _response$inquiry$pro2, _response$inquiry$pro3, _response$inquiry$pro4;\n          const newChat = {\n            id: response.inquiry.id,\n            managerName: (((_response$inquiry$pro = response.inquiry.property_manager) === null || _response$inquiry$pro === void 0 ? void 0 : _response$inquiry$pro.first_name) || 'Property') + ' ' + (((_response$inquiry$pro2 = response.inquiry.property_manager) === null || _response$inquiry$pro2 === void 0 ? void 0 : _response$inquiry$pro2.last_name) || 'Manager'),\n            property: ((_response$inquiry$pro3 = response.inquiry.property) === null || _response$inquiry$pro3 === void 0 ? void 0 : _response$inquiry$pro3.title) || ((_response$inquiry$pro4 = response.inquiry.property) === null || _response$inquiry$pro4 === void 0 ? void 0 : _response$inquiry$pro4.building_name) || 'Property',\n            propertyId: response.inquiry.property_id,\n            unitId: response.inquiry.property_id,\n            avatar: 'ğŸ¢',\n            status: response.inquiry.status,\n            messages: [{\n              id: 1,\n              sender: 'tenant',\n              text: response.inquiry.message,\n              time: new Date(response.inquiry.created_at).toLocaleTimeString()\n            }],\n            inquiry: response.inquiry\n          };\n          setChats(prev => [...prev, newChat]);\n          setSelectedChatId(newChat.id);\n        } else if (response && response.message === 'Inquiry already exists' && response.inquiry) {\n          var _response$inquiry$pro5, _response$inquiry$pro6, _response$inquiry$pro7, _response$inquiry$pro8;\n          // Select the existing inquiry\n          const existingChat = {\n            id: response.inquiry.id,\n            managerName: (((_response$inquiry$pro5 = response.inquiry.property_manager) === null || _response$inquiry$pro5 === void 0 ? void 0 : _response$inquiry$pro5.first_name) || 'Property') + ' ' + (((_response$inquiry$pro6 = response.inquiry.property_manager) === null || _response$inquiry$pro6 === void 0 ? void 0 : _response$inquiry$pro6.last_name) || 'Manager'),\n            property: ((_response$inquiry$pro7 = response.inquiry.property) === null || _response$inquiry$pro7 === void 0 ? void 0 : _response$inquiry$pro7.title) || ((_response$inquiry$pro8 = response.inquiry.property) === null || _response$inquiry$pro8 === void 0 ? void 0 : _response$inquiry$pro8.building_name) || 'Property',\n            propertyId: response.inquiry.property_id,\n            unitId: response.inquiry.property_id,\n            avatar: 'ğŸ¢',\n            status: response.inquiry.status,\n            messages: [{\n              id: 1,\n              sender: 'tenant',\n              text: response.inquiry.message,\n              time: new Date(response.inquiry.created_at || Date.now()).toLocaleTimeString()\n            }],\n            inquiry: response.inquiry\n          };\n          setChats(prev => [...prev.filter(c => Number(c.propertyId) !== Number(existingChat.propertyId)), existingChat]);\n          setSelectedChatId(existingChat.id);\n        }\n      } catch (err) {\n        console.error('Failed to create inquiry:', err);\n        setError('Failed to create inquiry. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    ensureInquiry();\n  }, [initialChat]);\n  const selectedChat = useMemo(() => chats.find(c => c.id === selectedChatId) || null, [chats, selectedChatId]);\n  const handleSendMessage = async () => {\n    if (!message.trim() || !selectedChat) return;\n    try {\n      setLoading(true);\n      const response = await api.sendTenantMessage(selectedChat.id, message.trim());\n      if (response && response.success) {\n        // Add the message to the chat\n        setChats(prev => prev.map(c => c.id === selectedChat.id ? {\n          ...c,\n          messages: [...c.messages, {\n            id: Date.now(),\n            sender: 'tenant',\n            text: message.trim(),\n            time: new Date().toLocaleTimeString()\n          }]\n        } : c));\n        setMessage('');\n      } else {\n        setError('Failed to send message. Please try again.');\n      }\n    } catch (err) {\n      console.error('Failed to send message:', err);\n      setError('Failed to send message. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') handleSendMessage();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] shadow-2xl overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 text-white\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M15 19l-7-7 7-7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-lg font-black text-black\",\n              children: \"My Property Inquiries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Chat with property managers about available properties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border-l-4 border-red-400 p-4 mx-4 mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-700\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setError(null),\n              className: \"text-xs text-red-600 underline mt-1\",\n              children: \"Dismiss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex h-[calc(90vh-72px)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 border-r border-gray-200 bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex border-b border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {},\n              className: `flex-1 py-3 px-4 text-sm font-medium transition-colors ${'bg-white text-black border-b-2 border-black'}`,\n              children: \"Active Chats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {},\n              className: `flex-1 py-3 px-4 text-sm font-medium transition-colors ${'text-gray-600 hover:text-black hover:bg-gray-100'}`,\n              children: \"New Properties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-4 w-4 text-gray-400\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search chats...\",\n                className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto\",\n            children: loading && chats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 mt-2\",\n                children: \"Loading inquiries...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this) :\n            /*#__PURE__*/\n            /* Active Chats */\n            _jsxDEV(\"div\", {\n              className: \"space-y-1 px-2\",\n              children: chats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 text-sm text-gray-500\",\n                children: \"No conversations yet. Start an inquiry from a unit to chat with a manager.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this) : chats.map(chat => {\n                var _chat$messages, _chat$messages2;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => setSelectedChatId(chat.id),\n                  className: `p-3 rounded-lg cursor-pointer transition-colors ${selectedChatId === chat.id ? 'bg-gray-200' : 'hover:bg-gray-100'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm font-medium text-blue-600\",\n                          children: chat.avatar\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 323,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 27\n                      }, this), chat.status === 'online' && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 min-w-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-medium text-gray-900 truncate\",\n                          children: chat.managerName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 331,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-gray-500\",\n                          children: (_chat$messages = chat.messages[chat.messages.length - 1]) === null || _chat$messages === void 0 ? void 0 : _chat$messages.time\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 332,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-600 truncate\",\n                        children: chat.property\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 truncate\",\n                        children: (_chat$messages2 = chat.messages[chat.messages.length - 1]) === null || _chat$messages2 === void 0 ? void 0 : _chat$messages2.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this)\n                }, chat.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-4 border-b border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium text-blue-600\",\n                    children: (selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.avatar) || 'PM'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), (selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.status) === 'online' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: (selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.managerName) || 'Property Manager'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: (selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.property) || 'Property'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n            children: selectedChat === null || selectedChat === void 0 ? void 0 : (_selectedChat$message = selectedChat.messages) === null || _selectedChat$message === void 0 ? void 0 : _selectedChat$message.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex ${msg.sender === 'tenant' ? 'justify-end' : 'justify-start'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${msg.sender === 'tenant' ? 'bg-black text-white' : 'bg-gray-200 text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: msg.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-xs mt-1 ${msg.sender === 'tenant' ? 'text-gray-300' : 'text-gray-500'}`,\n                  children: msg.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)\n            }, msg.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5 text-gray-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: message,\n                onChange: e => setMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                placeholder: \"Type your message to the property manager...\",\n                className: \"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSendMessage,\n                disabled: loading || !message.trim(),\n                className: \"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5 text-white\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-2 text-center\",\n              children: [\"You're chatting with the property manager about \", (selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.property) || 'this property']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n_s(Inquiries, \"SMMGrVbFVI5+CMgzULkUFWoMwhg=\");\n_c = Inquiries;\nexport default Inquiries;\nvar _c;\n$RefreshReg$(_c, \"Inquiries\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","api","jsxDEV","_jsxDEV","Inquiries","onClose","initialChat","_s","_selectedChat$message","message","setMessage","chats","setChats","selectedChatId","setSelectedChatId","loading","setLoading","error","setError","hydratedRef","loadInquiries","response","getTenantInquiries","inquiries","mapped","map","inquiry","_inquiry$property_man","_inquiry$property_man2","_inquiry$property","_inquiry$property2","id","managerName","property_manager","first_name","last_name","property","title","building_name","propertyId","property_id","unitId","avatar","status","messages","sender","text","time","Date","created_at","toLocaleTimeString","response_message","responded_at","dedup","seen","Set","c","key","String","has","add","push","err","console","current","Array","isArray","localStorage","setItem","JSON","stringify","_","ensureInquiry","existing","length","res","_inquiry$property_man3","_inquiry$property_man4","_inquiry$property3","_inquiry$property4","now","match","find","Number","startTenantInquiry","_response$inquiry$pro","_response$inquiry$pro2","_response$inquiry$pro3","_response$inquiry$pro4","newChat","prev","_response$inquiry$pro5","_response$inquiry$pro6","_response$inquiry$pro7","_response$inquiry$pro8","existingChat","filter","selectedChat","handleSendMessage","trim","sendTenantMessage","success","handleKeyPress","e","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","chat","_chat$messages","_chat$messages2","msg","value","onChange","target","onKeyPress","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/Capstone-Project/main-domain/frontend/src/components/Tenants/Inquiries.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport api from '../../services/api';\r\n\r\n// Props:\r\n// - onClose(): close modal\r\n// - initialChat: { id?, managerName, property, unitId, propertyId }\r\nconst Inquiries = ({ onClose, initialChat = null }) => {\r\n  const [message, setMessage] = useState('');\r\n  const [chats, setChats] = useState([]); // [{id, managerName, property, avatar, status, messages: [{id, sender, text, time}]}]\r\n  const [selectedChatId, setSelectedChatId] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const hydratedRef = useRef(false);\r\n\r\n  // Load inquiries from backend API\r\n  const loadInquiries = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await api.getTenantInquiries();\r\n      if (response && response.inquiries) {\r\n        // Map and de-duplicate by propertyId\r\n        const mapped = response.inquiries.map(inquiry => ({\r\n          id: inquiry.id,\r\n          managerName: (inquiry.property_manager?.first_name || 'Property') + ' ' + (inquiry.property_manager?.last_name || 'Manager'),\r\n          property: inquiry.property?.title || inquiry.property?.building_name || 'Property',\r\n          propertyId: inquiry.property_id,\r\n          unitId: inquiry.property_id,\r\n          avatar: 'ğŸ¢',\r\n          status: inquiry.status,\r\n          messages: [\r\n            {\r\n              id: 1,\r\n              sender: 'tenant',\r\n              text: inquiry.message,\r\n              time: new Date(inquiry.created_at).toLocaleTimeString()\r\n            },\r\n            ...(inquiry.response_message ? [{\r\n              id: 2,\r\n              sender: 'manager',\r\n              text: inquiry.response_message,\r\n              time: new Date(inquiry.responded_at).toLocaleTimeString()\r\n            }] : [])\r\n          ],\r\n          inquiry: inquiry\r\n        }));\r\n        const dedup = [];\r\n        const seen = new Set();\r\n        for (const c of mapped) {\r\n          const key = String(c.propertyId);\r\n          if (seen.has(key)) continue;\r\n          seen.add(key);\r\n          dedup.push(c);\r\n        }\r\n        setChats(dedup);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load inquiries:', err);\r\n      setError('Failed to load inquiries. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load inquiries on mount\r\n  useEffect(() => {\r\n    loadInquiries();\r\n    hydratedRef.current = true;\r\n  }, []);\r\n\r\n  // Persist chats and selection whenever they change\r\n  useEffect(() => {\r\n    if (!hydratedRef.current) return; // avoid wiping storage with initial empty state\r\n    try {\r\n      if (Array.isArray(chats)) localStorage.setItem('tenant_chats', JSON.stringify(chats));\r\n      if (selectedChatId) {\r\n        localStorage.setItem('tenant_selected_chat_id', selectedChatId);\r\n      }\r\n    } catch (_) {\r\n      // storage may be unavailable\r\n    }\r\n  }, [chats, selectedChatId]);\r\n\r\n  // Create or reuse inquiry when opened from \"INQUIRE NOW\"\r\n  useEffect(() => {\r\n    if (!initialChat || !initialChat.propertyId) return;\r\n\r\n    const ensureInquiry = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // 1) Load current inquiries to avoid duplicates\r\n        let existing = chats;\r\n        if (!Array.isArray(existing) || existing.length === 0) {\r\n          try {\r\n            const res = await api.getTenantInquiries();\r\n            if (res && Array.isArray(res.inquiries)) {\r\n              const mapped = res.inquiries.map(inquiry => ({\r\n                id: inquiry.id,\r\n                managerName: (inquiry.property_manager?.first_name || 'Property') + ' ' + (inquiry.property_manager?.last_name || 'Manager'),\r\n                property: inquiry.property?.title || inquiry.property?.building_name || 'Property',\r\n                propertyId: inquiry.property_id,\r\n                unitId: inquiry.property_id,\r\n                avatar: 'ğŸ¢',\r\n                status: inquiry.status,\r\n                messages: [{\r\n                  id: 1,\r\n                  sender: 'tenant',\r\n                  text: inquiry.message,\r\n                  time: new Date(inquiry.created_at || Date.now()).toLocaleTimeString()\r\n                }],\r\n                inquiry\r\n              }));\r\n              existing = mapped;\r\n              setChats(mapped);\r\n            }\r\n          } catch (_) { /* ignore load errors here */ }\r\n        }\r\n\r\n        // 2) If an inquiry for this property already exists, just select it\r\n        const match = (existing || []).find(c => Number(c.propertyId) === Number(initialChat.propertyId));\r\n        if (match) {\r\n          setSelectedChatId(match.id);\r\n          return;\r\n        }\r\n\r\n        // 3) Otherwise, create one\r\n        const response = await api.startTenantInquiry(\r\n          initialChat.propertyId,\r\n          `I'm interested in ${initialChat.property}. Please provide more information about availability and viewing options.`\r\n        );\r\n\r\n        if (response && response.inquiry) {\r\n          const newChat = {\r\n            id: response.inquiry.id,\r\n            managerName: (response.inquiry.property_manager?.first_name || 'Property') + ' ' + (response.inquiry.property_manager?.last_name || 'Manager'),\r\n            property: response.inquiry.property?.title || response.inquiry.property?.building_name || 'Property',\r\n            propertyId: response.inquiry.property_id,\r\n            unitId: response.inquiry.property_id,\r\n            avatar: 'ğŸ¢',\r\n            status: response.inquiry.status,\r\n            messages: [{\r\n              id: 1,\r\n              sender: 'tenant',\r\n              text: response.inquiry.message,\r\n              time: new Date(response.inquiry.created_at).toLocaleTimeString()\r\n            }],\r\n            inquiry: response.inquiry\r\n          };\r\n          setChats(prev => [...prev, newChat]);\r\n          setSelectedChatId(newChat.id);\r\n        }\r\n        else if (response && response.message === 'Inquiry already exists' && response.inquiry) {\r\n          // Select the existing inquiry\r\n          const existingChat = {\r\n            id: response.inquiry.id,\r\n            managerName: (response.inquiry.property_manager?.first_name || 'Property') + ' ' + (response.inquiry.property_manager?.last_name || 'Manager'),\r\n            property: response.inquiry.property?.title || response.inquiry.property?.building_name || 'Property',\r\n            propertyId: response.inquiry.property_id,\r\n            unitId: response.inquiry.property_id,\r\n            avatar: 'ğŸ¢',\r\n            status: response.inquiry.status,\r\n            messages: [{\r\n              id: 1,\r\n              sender: 'tenant',\r\n              text: response.inquiry.message,\r\n              time: new Date(response.inquiry.created_at || Date.now()).toLocaleTimeString()\r\n            }],\r\n            inquiry: response.inquiry\r\n          };\r\n          setChats(prev => [...prev.filter(c => Number(c.propertyId) !== Number(existingChat.propertyId)), existingChat]);\r\n          setSelectedChatId(existingChat.id);\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to create inquiry:', err);\r\n        setError('Failed to create inquiry. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    ensureInquiry();\r\n  }, [initialChat]);\r\n\r\n  const selectedChat = useMemo(() => chats.find(c => c.id === selectedChatId) || null, [chats, selectedChatId]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!message.trim() || !selectedChat) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      const response = await api.sendTenantMessage(selectedChat.id, message.trim());\r\n      \r\n      if (response && response.success) {\r\n        // Add the message to the chat\r\n        setChats(prev => prev.map(c => c.id === selectedChat.id ? {\r\n          ...c,\r\n          messages: [...c.messages, { \r\n            id: Date.now(), \r\n            sender: 'tenant', \r\n            text: message.trim(), \r\n            time: new Date().toLocaleTimeString() \r\n          }]\r\n        } : c));\r\n        setMessage('');\r\n      } else {\r\n        setError('Failed to send message. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to send message:', err);\r\n      setError('Failed to send message. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') handleSendMessage();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-3 z-50\">\r\n      <div className=\"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] shadow-2xl overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"w-9 h-9 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all duration-300 shadow-lg\"\r\n            >\r\n              <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <div>\r\n              <h1 className=\"text-lg font-black text-black\">My Property Inquiries</h1>\r\n              <p className=\"text-xs text-gray-500\">Chat with property managers about available properties</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mx-4 mt-2\">\r\n            <div className=\"flex\">\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-red-700\">{error}</p>\r\n                <button \r\n                  onClick={() => setError(null)}\r\n                  className=\"text-xs text-red-600 underline mt-1\"\r\n                >\r\n                  Dismiss\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex h-[calc(90vh-72px)]\">\r\n          {/* Left Panel - Chat List */}\r\n          <div className=\"w-80 border-r border-gray-200 bg-gray-50\">\r\n            {/* Tabs */}\r\n            <div className=\"flex border-b border-gray-200\">\r\n              <button\r\n                onClick={() => {}}\r\n                className={`flex-1 py-3 px-4 text-sm font-medium transition-colors ${\r\n                  'bg-white text-black border-b-2 border-black'\r\n                }`}\r\n              >\r\n                Active Chats\r\n              </button>\r\n              <button\r\n                onClick={() => {}}\r\n                className={`flex-1 py-3 px-4 text-sm font-medium transition-colors ${\r\n                  'text-gray-600 hover:text-black hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                New Properties\r\n              </button>\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <div className=\"p-4\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search chats...\"\r\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent text-sm\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Chat/Property List */}\r\n            <div className=\"flex-1 overflow-y-auto\">\r\n              {/* Loading State */}\r\n              {loading && chats.length === 0 ? (\r\n                <div className=\"p-4 text-center\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto\"></div>\r\n                  <p className=\"text-sm text-gray-500 mt-2\">Loading inquiries...</p>\r\n                </div>\r\n              ) : (\r\n                /* Active Chats */\r\n                <div className=\"space-y-1 px-2\">\r\n                  {chats.length === 0 ? (\r\n                    <div className=\"p-4 text-sm text-gray-500\">No conversations yet. Start an inquiry from a unit to chat with a manager.</div>\r\n                  ) : (\r\n                  chats.map((chat) => (\r\n                    <div\r\n                      key={chat.id}\r\n                      onClick={() => setSelectedChatId(chat.id)}\r\n                      className={`p-3 rounded-lg cursor-pointer transition-colors ${\r\n                        selectedChatId === chat.id ? 'bg-gray-200' : 'hover:bg-gray-100'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"relative\">\r\n                          <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                            <span className=\"text-sm font-medium text-blue-600\">{chat.avatar}</span>\r\n                          </div>\r\n                          {chat.status === 'online' && (\r\n                            <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">{chat.managerName}</p>\r\n                            <span className=\"text-xs text-gray-500\">{chat.messages[chat.messages.length - 1]?.time}</span>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-600 truncate\">{chat.property}</p>\r\n                          <p className=\"text-xs text-gray-500 truncate\">{chat.messages[chat.messages.length - 1]?.text}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Panel - Chat Conversation */}\r\n          <div className=\"flex-1 flex flex-col bg-white\">\r\n            {/* Chat Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"relative\">\r\n                  <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-sm font-medium text-blue-600\">\r\n                      {selectedChat?.avatar || 'PM'}\r\n                    </span>\r\n                  </div>\r\n                    {selectedChat?.status === 'online' && (\r\n                    <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-900\">\r\n                    {selectedChat?.managerName || 'Property Manager'}\r\n                  </h3>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {selectedChat?.property || 'Property'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button className=\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\">\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n                  </svg>\r\n                </button>\r\n                <button className=\"p-2 text-gray-500 hover:text-black hover:bg-gray-100 rounded-lg transition-colors\">\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n              {selectedChat?.messages?.map((msg) => (\r\n                <div\r\n                  key={msg.id}\r\n                  className={`flex ${msg.sender === 'tenant' ? 'justify-end' : 'justify-start'}`}\r\n                >\r\n                  <div\r\n                    className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                      msg.sender === 'tenant'\r\n                        ? 'bg-black text-white'\r\n                        : 'bg-gray-200 text-gray-900'\r\n                    }`}\r\n                  >\r\n                    <p className=\"text-sm\">{msg.text}</p>\r\n                    <p className={`text-xs mt-1 ${\r\n                      msg.sender === 'tenant' ? 'text-gray-300' : 'text-gray-500'\r\n                    }`}>\r\n                      {msg.time}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Message Input */}\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <button className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                  <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n                  </svg>\r\n                </button>\r\n                <input\r\n                  type=\"text\"\r\n                  value={message}\r\n                  onChange={(e) => setMessage(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  placeholder=\"Type your message to the property manager...\"\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\r\n                />\r\n                <button\r\n                  onClick={handleSendMessage}\r\n                  disabled={loading || !message.trim()}\r\n                  className=\"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {loading ? (\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                  ) : (\r\n                    <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-2 text-center\">\r\n                You're chatting with the property manager about {selectedChat?.property || 'this property'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inquiries;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,OAAOC,GAAG,MAAM,oBAAoB;;AAEpC;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAGA,CAAC;EAAEC,OAAO;EAAEC,WAAW,GAAG;AAAK,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACrD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACxC,MAAM,CAACa,cAAc,EAAEC,iBAAiB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMmB,WAAW,GAAGpB,MAAM,CAAC,KAAK,CAAC;;EAEjC;EACA,MAAMqB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACFJ,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMG,QAAQ,GAAG,MAAMpB,GAAG,CAACqB,kBAAkB,CAAC,CAAC;MAC/C,IAAID,QAAQ,IAAIA,QAAQ,CAACE,SAAS,EAAE;QAClC;QACA,MAAMC,MAAM,GAAGH,QAAQ,CAACE,SAAS,CAACE,GAAG,CAACC,OAAO;UAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,iBAAA,EAAAC,kBAAA;UAAA,OAAK;YAChDC,EAAE,EAAEL,OAAO,CAACK,EAAE;YACdC,WAAW,EAAE,CAAC,EAAAL,qBAAA,GAAAD,OAAO,CAACO,gBAAgB,cAAAN,qBAAA,uBAAxBA,qBAAA,CAA0BO,UAAU,KAAI,UAAU,IAAI,GAAG,IAAI,EAAAN,sBAAA,GAAAF,OAAO,CAACO,gBAAgB,cAAAL,sBAAA,uBAAxBA,sBAAA,CAA0BO,SAAS,KAAI,SAAS,CAAC;YAC5HC,QAAQ,EAAE,EAAAP,iBAAA,GAAAH,OAAO,CAACU,QAAQ,cAAAP,iBAAA,uBAAhBA,iBAAA,CAAkBQ,KAAK,OAAAP,kBAAA,GAAIJ,OAAO,CAACU,QAAQ,cAAAN,kBAAA,uBAAhBA,kBAAA,CAAkBQ,aAAa,KAAI,UAAU;YAClFC,UAAU,EAAEb,OAAO,CAACc,WAAW;YAC/BC,MAAM,EAAEf,OAAO,CAACc,WAAW;YAC3BE,MAAM,EAAE,IAAI;YACZC,MAAM,EAAEjB,OAAO,CAACiB,MAAM;YACtBC,QAAQ,EAAE,CACR;cACEb,EAAE,EAAE,CAAC;cACLc,MAAM,EAAE,QAAQ;cAChBC,IAAI,EAAEpB,OAAO,CAACjB,OAAO;cACrBsC,IAAI,EAAE,IAAIC,IAAI,CAACtB,OAAO,CAACuB,UAAU,CAAC,CAACC,kBAAkB,CAAC;YACxD,CAAC,EACD,IAAIxB,OAAO,CAACyB,gBAAgB,GAAG,CAAC;cAC9BpB,EAAE,EAAE,CAAC;cACLc,MAAM,EAAE,SAAS;cACjBC,IAAI,EAAEpB,OAAO,CAACyB,gBAAgB;cAC9BJ,IAAI,EAAE,IAAIC,IAAI,CAACtB,OAAO,CAAC0B,YAAY,CAAC,CAACF,kBAAkB,CAAC;YAC1D,CAAC,CAAC,GAAG,EAAE,CAAC,CACT;YACDxB,OAAO,EAAEA;UACX,CAAC;QAAA,CAAC,CAAC;QACH,MAAM2B,KAAK,GAAG,EAAE;QAChB,MAAMC,IAAI,GAAG,IAAIC,GAAG,CAAC,CAAC;QACtB,KAAK,MAAMC,CAAC,IAAIhC,MAAM,EAAE;UACtB,MAAMiC,GAAG,GAAGC,MAAM,CAACF,CAAC,CAACjB,UAAU,CAAC;UAChC,IAAIe,IAAI,CAACK,GAAG,CAACF,GAAG,CAAC,EAAE;UACnBH,IAAI,CAACM,GAAG,CAACH,GAAG,CAAC;UACbJ,KAAK,CAACQ,IAAI,CAACL,CAAC,CAAC;QACf;QACA5C,QAAQ,CAACyC,KAAK,CAAC;MACjB;IACF,CAAC,CAAC,OAAOS,GAAG,EAAE;MACZC,OAAO,CAAC9C,KAAK,CAAC,2BAA2B,EAAE6C,GAAG,CAAC;MAC/C5C,QAAQ,CAAC,6CAA6C,CAAC;IACzD,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACAnB,SAAS,CAAC,MAAM;IACduB,aAAa,CAAC,CAAC;IACfD,WAAW,CAAC6C,OAAO,GAAG,IAAI;EAC5B,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAnE,SAAS,CAAC,MAAM;IACd,IAAI,CAACsB,WAAW,CAAC6C,OAAO,EAAE,OAAO,CAAC;IAClC,IAAI;MACF,IAAIC,KAAK,CAACC,OAAO,CAACvD,KAAK,CAAC,EAAEwD,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC3D,KAAK,CAAC,CAAC;MACrF,IAAIE,cAAc,EAAE;QAClBsD,YAAY,CAACC,OAAO,CAAC,yBAAyB,EAAEvD,cAAc,CAAC;MACjE;IACF,CAAC,CAAC,OAAO0D,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC,EAAE,CAAC5D,KAAK,EAAEE,cAAc,CAAC,CAAC;;EAE3B;EACAhB,SAAS,CAAC,MAAM;IACd,IAAI,CAACS,WAAW,IAAI,CAACA,WAAW,CAACiC,UAAU,EAAE;IAE7C,MAAMiC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFxD,UAAU,CAAC,IAAI,CAAC;QAChB;QACA,IAAIyD,QAAQ,GAAG9D,KAAK;QACpB,IAAI,CAACsD,KAAK,CAACC,OAAO,CAACO,QAAQ,CAAC,IAAIA,QAAQ,CAACC,MAAM,KAAK,CAAC,EAAE;UACrD,IAAI;YACF,MAAMC,GAAG,GAAG,MAAM1E,GAAG,CAACqB,kBAAkB,CAAC,CAAC;YAC1C,IAAIqD,GAAG,IAAIV,KAAK,CAACC,OAAO,CAACS,GAAG,CAACpD,SAAS,CAAC,EAAE;cACvC,MAAMC,MAAM,GAAGmD,GAAG,CAACpD,SAAS,CAACE,GAAG,CAACC,OAAO;gBAAA,IAAAkD,sBAAA,EAAAC,sBAAA,EAAAC,kBAAA,EAAAC,kBAAA;gBAAA,OAAK;kBAC3ChD,EAAE,EAAEL,OAAO,CAACK,EAAE;kBACdC,WAAW,EAAE,CAAC,EAAA4C,sBAAA,GAAAlD,OAAO,CAACO,gBAAgB,cAAA2C,sBAAA,uBAAxBA,sBAAA,CAA0B1C,UAAU,KAAI,UAAU,IAAI,GAAG,IAAI,EAAA2C,sBAAA,GAAAnD,OAAO,CAACO,gBAAgB,cAAA4C,sBAAA,uBAAxBA,sBAAA,CAA0B1C,SAAS,KAAI,SAAS,CAAC;kBAC5HC,QAAQ,EAAE,EAAA0C,kBAAA,GAAApD,OAAO,CAACU,QAAQ,cAAA0C,kBAAA,uBAAhBA,kBAAA,CAAkBzC,KAAK,OAAA0C,kBAAA,GAAIrD,OAAO,CAACU,QAAQ,cAAA2C,kBAAA,uBAAhBA,kBAAA,CAAkBzC,aAAa,KAAI,UAAU;kBAClFC,UAAU,EAAEb,OAAO,CAACc,WAAW;kBAC/BC,MAAM,EAAEf,OAAO,CAACc,WAAW;kBAC3BE,MAAM,EAAE,IAAI;kBACZC,MAAM,EAAEjB,OAAO,CAACiB,MAAM;kBACtBC,QAAQ,EAAE,CAAC;oBACTb,EAAE,EAAE,CAAC;oBACLc,MAAM,EAAE,QAAQ;oBAChBC,IAAI,EAAEpB,OAAO,CAACjB,OAAO;oBACrBsC,IAAI,EAAE,IAAIC,IAAI,CAACtB,OAAO,CAACuB,UAAU,IAAID,IAAI,CAACgC,GAAG,CAAC,CAAC,CAAC,CAAC9B,kBAAkB,CAAC;kBACtE,CAAC,CAAC;kBACFxB;gBACF,CAAC;cAAA,CAAC,CAAC;cACH+C,QAAQ,GAAGjD,MAAM;cACjBZ,QAAQ,CAACY,MAAM,CAAC;YAClB;UACF,CAAC,CAAC,OAAO+C,CAAC,EAAE,CAAE;QAChB;;QAEA;QACA,MAAMU,KAAK,GAAG,CAACR,QAAQ,IAAI,EAAE,EAAES,IAAI,CAAC1B,CAAC,IAAI2B,MAAM,CAAC3B,CAAC,CAACjB,UAAU,CAAC,KAAK4C,MAAM,CAAC7E,WAAW,CAACiC,UAAU,CAAC,CAAC;QACjG,IAAI0C,KAAK,EAAE;UACTnE,iBAAiB,CAACmE,KAAK,CAAClD,EAAE,CAAC;UAC3B;QACF;;QAEA;QACA,MAAMV,QAAQ,GAAG,MAAMpB,GAAG,CAACmF,kBAAkB,CAC3C9E,WAAW,CAACiC,UAAU,EACtB,qBAAqBjC,WAAW,CAAC8B,QAAQ,2EAC3C,CAAC;QAED,IAAIf,QAAQ,IAAIA,QAAQ,CAACK,OAAO,EAAE;UAAA,IAAA2D,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;UAChC,MAAMC,OAAO,GAAG;YACd1D,EAAE,EAAEV,QAAQ,CAACK,OAAO,CAACK,EAAE;YACvBC,WAAW,EAAE,CAAC,EAAAqD,qBAAA,GAAAhE,QAAQ,CAACK,OAAO,CAACO,gBAAgB,cAAAoD,qBAAA,uBAAjCA,qBAAA,CAAmCnD,UAAU,KAAI,UAAU,IAAI,GAAG,IAAI,EAAAoD,sBAAA,GAAAjE,QAAQ,CAACK,OAAO,CAACO,gBAAgB,cAAAqD,sBAAA,uBAAjCA,sBAAA,CAAmCnD,SAAS,KAAI,SAAS,CAAC;YAC9IC,QAAQ,EAAE,EAAAmD,sBAAA,GAAAlE,QAAQ,CAACK,OAAO,CAACU,QAAQ,cAAAmD,sBAAA,uBAAzBA,sBAAA,CAA2BlD,KAAK,OAAAmD,sBAAA,GAAInE,QAAQ,CAACK,OAAO,CAACU,QAAQ,cAAAoD,sBAAA,uBAAzBA,sBAAA,CAA2BlD,aAAa,KAAI,UAAU;YACpGC,UAAU,EAAElB,QAAQ,CAACK,OAAO,CAACc,WAAW;YACxCC,MAAM,EAAEpB,QAAQ,CAACK,OAAO,CAACc,WAAW;YACpCE,MAAM,EAAE,IAAI;YACZC,MAAM,EAAEtB,QAAQ,CAACK,OAAO,CAACiB,MAAM;YAC/BC,QAAQ,EAAE,CAAC;cACTb,EAAE,EAAE,CAAC;cACLc,MAAM,EAAE,QAAQ;cAChBC,IAAI,EAAEzB,QAAQ,CAACK,OAAO,CAACjB,OAAO;cAC9BsC,IAAI,EAAE,IAAIC,IAAI,CAAC3B,QAAQ,CAACK,OAAO,CAACuB,UAAU,CAAC,CAACC,kBAAkB,CAAC;YACjE,CAAC,CAAC;YACFxB,OAAO,EAAEL,QAAQ,CAACK;UACpB,CAAC;UACDd,QAAQ,CAAC8E,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,OAAO,CAAC,CAAC;UACpC3E,iBAAiB,CAAC2E,OAAO,CAAC1D,EAAE,CAAC;QAC/B,CAAC,MACI,IAAIV,QAAQ,IAAIA,QAAQ,CAACZ,OAAO,KAAK,wBAAwB,IAAIY,QAAQ,CAACK,OAAO,EAAE;UAAA,IAAAiE,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;UACtF;UACA,MAAMC,YAAY,GAAG;YACnBhE,EAAE,EAAEV,QAAQ,CAACK,OAAO,CAACK,EAAE;YACvBC,WAAW,EAAE,CAAC,EAAA2D,sBAAA,GAAAtE,QAAQ,CAACK,OAAO,CAACO,gBAAgB,cAAA0D,sBAAA,uBAAjCA,sBAAA,CAAmCzD,UAAU,KAAI,UAAU,IAAI,GAAG,IAAI,EAAA0D,sBAAA,GAAAvE,QAAQ,CAACK,OAAO,CAACO,gBAAgB,cAAA2D,sBAAA,uBAAjCA,sBAAA,CAAmCzD,SAAS,KAAI,SAAS,CAAC;YAC9IC,QAAQ,EAAE,EAAAyD,sBAAA,GAAAxE,QAAQ,CAACK,OAAO,CAACU,QAAQ,cAAAyD,sBAAA,uBAAzBA,sBAAA,CAA2BxD,KAAK,OAAAyD,sBAAA,GAAIzE,QAAQ,CAACK,OAAO,CAACU,QAAQ,cAAA0D,sBAAA,uBAAzBA,sBAAA,CAA2BxD,aAAa,KAAI,UAAU;YACpGC,UAAU,EAAElB,QAAQ,CAACK,OAAO,CAACc,WAAW;YACxCC,MAAM,EAAEpB,QAAQ,CAACK,OAAO,CAACc,WAAW;YACpCE,MAAM,EAAE,IAAI;YACZC,MAAM,EAAEtB,QAAQ,CAACK,OAAO,CAACiB,MAAM;YAC/BC,QAAQ,EAAE,CAAC;cACTb,EAAE,EAAE,CAAC;cACLc,MAAM,EAAE,QAAQ;cAChBC,IAAI,EAAEzB,QAAQ,CAACK,OAAO,CAACjB,OAAO;cAC9BsC,IAAI,EAAE,IAAIC,IAAI,CAAC3B,QAAQ,CAACK,OAAO,CAACuB,UAAU,IAAID,IAAI,CAACgC,GAAG,CAAC,CAAC,CAAC,CAAC9B,kBAAkB,CAAC;YAC/E,CAAC,CAAC;YACFxB,OAAO,EAAEL,QAAQ,CAACK;UACpB,CAAC;UACDd,QAAQ,CAAC8E,IAAI,IAAI,CAAC,GAAGA,IAAI,CAACM,MAAM,CAACxC,CAAC,IAAI2B,MAAM,CAAC3B,CAAC,CAACjB,UAAU,CAAC,KAAK4C,MAAM,CAACY,YAAY,CAACxD,UAAU,CAAC,CAAC,EAAEwD,YAAY,CAAC,CAAC;UAC/GjF,iBAAiB,CAACiF,YAAY,CAAChE,EAAE,CAAC;QACpC;MACF,CAAC,CAAC,OAAO+B,GAAG,EAAE;QACZC,OAAO,CAAC9C,KAAK,CAAC,2BAA2B,EAAE6C,GAAG,CAAC;QAC/C5C,QAAQ,CAAC,6CAA6C,CAAC;MACzD,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDwD,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAClE,WAAW,CAAC,CAAC;EAEjB,MAAM2F,YAAY,GAAGnG,OAAO,CAAC,MAAMa,KAAK,CAACuE,IAAI,CAAC1B,CAAC,IAAIA,CAAC,CAACzB,EAAE,KAAKlB,cAAc,CAAC,IAAI,IAAI,EAAE,CAACF,KAAK,EAAEE,cAAc,CAAC,CAAC;EAE7G,MAAMqF,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAACzF,OAAO,CAAC0F,IAAI,CAAC,CAAC,IAAI,CAACF,YAAY,EAAE;IAEtC,IAAI;MACFjF,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMK,QAAQ,GAAG,MAAMpB,GAAG,CAACmG,iBAAiB,CAACH,YAAY,CAAClE,EAAE,EAAEtB,OAAO,CAAC0F,IAAI,CAAC,CAAC,CAAC;MAE7E,IAAI9E,QAAQ,IAAIA,QAAQ,CAACgF,OAAO,EAAE;QAChC;QACAzF,QAAQ,CAAC8E,IAAI,IAAIA,IAAI,CAACjE,GAAG,CAAC+B,CAAC,IAAIA,CAAC,CAACzB,EAAE,KAAKkE,YAAY,CAAClE,EAAE,GAAG;UACxD,GAAGyB,CAAC;UACJZ,QAAQ,EAAE,CAAC,GAAGY,CAAC,CAACZ,QAAQ,EAAE;YACxBb,EAAE,EAAEiB,IAAI,CAACgC,GAAG,CAAC,CAAC;YACdnC,MAAM,EAAE,QAAQ;YAChBC,IAAI,EAAErC,OAAO,CAAC0F,IAAI,CAAC,CAAC;YACpBpD,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACE,kBAAkB,CAAC;UACtC,CAAC;QACH,CAAC,GAAGM,CAAC,CAAC,CAAC;QACP9C,UAAU,CAAC,EAAE,CAAC;MAChB,CAAC,MAAM;QACLQ,QAAQ,CAAC,2CAA2C,CAAC;MACvD;IACF,CAAC,CAAC,OAAO4C,GAAG,EAAE;MACZC,OAAO,CAAC9C,KAAK,CAAC,yBAAyB,EAAE6C,GAAG,CAAC;MAC7C5C,QAAQ,CAAC,2CAA2C,CAAC;IACvD,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMsF,cAAc,GAAIC,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAAC9C,GAAG,KAAK,OAAO,EAAEyC,iBAAiB,CAAC,CAAC;EAC5C,CAAC;EAED,oBACE/F,OAAA;IAAKqG,SAAS,EAAC,mFAAmF;IAAAC,QAAA,eAChGtG,OAAA;MAAKqG,SAAS,EAAC,8EAA8E;MAAAC,QAAA,gBAE3FtG,OAAA;QAAKqG,SAAS,EAAC,uGAAuG;QAAAC,QAAA,eACpHtG,OAAA;UAAKqG,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CtG,OAAA;YACEuG,OAAO,EAAErG,OAAQ;YACjBmG,SAAS,EAAC,wHAAwH;YAAAC,QAAA,eAElItG,OAAA;cAAKqG,SAAS,EAAC,oBAAoB;cAACG,IAAI,EAAC,MAAM;cAACC,MAAM,EAAC,cAAc;cAACC,OAAO,EAAC,WAAW;cAAAJ,QAAA,eACvFtG,OAAA;gBAAM2G,aAAa,EAAC,OAAO;gBAACC,cAAc,EAAC,OAAO;gBAACC,WAAW,EAAE,CAAE;gBAACC,CAAC,EAAC;cAAiB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACTlH,OAAA;YAAAsG,QAAA,gBACEtG,OAAA;cAAIqG,SAAS,EAAC,+BAA+B;cAAAC,QAAA,EAAC;YAAqB;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxElH,OAAA;cAAGqG,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAsD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLpG,KAAK,iBACJd,OAAA;QAAKqG,SAAS,EAAC,mDAAmD;QAAAC,QAAA,eAChEtG,OAAA;UAAKqG,SAAS,EAAC,MAAM;UAAAC,QAAA,eACnBtG,OAAA;YAAKqG,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBtG,OAAA;cAAGqG,SAAS,EAAC,sBAAsB;cAAAC,QAAA,EAAExF;YAAK;cAAAiG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/ClH,OAAA;cACEuG,OAAO,EAAEA,CAAA,KAAMxF,QAAQ,CAAC,IAAI,CAAE;cAC9BsF,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAChD;YAED;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAGDlH,OAAA;QAAKqG,SAAS,EAAC,0BAA0B;QAAAC,QAAA,gBAEvCtG,OAAA;UAAKqG,SAAS,EAAC,0CAA0C;UAAAC,QAAA,gBAEvDtG,OAAA;YAAKqG,SAAS,EAAC,+BAA+B;YAAAC,QAAA,gBAC5CtG,OAAA;cACEuG,OAAO,EAAEA,CAAA,KAAM,CAAC,CAAE;cAClBF,SAAS,EAAE,0DACT,6CAA6C,EAC5C;cAAAC,QAAA,EACJ;YAED;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTlH,OAAA;cACEuG,OAAO,EAAEA,CAAA,KAAM,CAAC,CAAE;cAClBF,SAAS,EAAE,0DACT,kDAAkD,EACjD;cAAAC,QAAA,EACJ;YAED;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAGNlH,OAAA;YAAKqG,SAAS,EAAC,KAAK;YAAAC,QAAA,eAClBtG,OAAA;cAAKqG,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBtG,OAAA;gBAAKqG,SAAS,EAAC,sEAAsE;gBAAAC,QAAA,eACnFtG,OAAA;kBAAKqG,SAAS,EAAC,uBAAuB;kBAACG,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAAJ,QAAA,eAC1FtG,OAAA;oBAAM2G,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAA6C;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACNlH,OAAA;gBACEmH,IAAI,EAAC,MAAM;gBACXC,WAAW,EAAC,iBAAiB;gBAC7Bf,SAAS,EAAC;cAAkJ;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7J,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNlH,OAAA;YAAKqG,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAEpC1F,OAAO,IAAIJ,KAAK,CAAC+D,MAAM,KAAK,CAAC,gBAC5BvE,OAAA;cAAKqG,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9BtG,OAAA;gBAAKqG,SAAS,EAAC;cAAmE;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACzFlH,OAAA;gBAAGqG,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,EAAC;cAAoB;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC;YAAA;YAEN;YACAlH,OAAA;cAAKqG,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC5B9F,KAAK,CAAC+D,MAAM,KAAK,CAAC,gBACjBvE,OAAA;gBAAKqG,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAC;cAA0E;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,GAE7H1G,KAAK,CAACc,GAAG,CAAE+F,IAAI;gBAAA,IAAAC,cAAA,EAAAC,eAAA;gBAAA,oBACbvH,OAAA;kBAEEuG,OAAO,EAAEA,CAAA,KAAM5F,iBAAiB,CAAC0G,IAAI,CAACzF,EAAE,CAAE;kBAC1CyE,SAAS,EAAE,mDACT3F,cAAc,KAAK2G,IAAI,CAACzF,EAAE,GAAG,aAAa,GAAG,mBAAmB,EAC/D;kBAAA0E,QAAA,eAEHtG,OAAA;oBAAKqG,SAAS,EAAC,6BAA6B;oBAAAC,QAAA,gBAC1CtG,OAAA;sBAAKqG,SAAS,EAAC,UAAU;sBAAAC,QAAA,gBACvBtG,OAAA;wBAAKqG,SAAS,EAAC,qEAAqE;wBAAAC,QAAA,eAClFtG,OAAA;0BAAMqG,SAAS,EAAC,mCAAmC;0BAAAC,QAAA,EAAEe,IAAI,CAAC9E;wBAAM;0BAAAwE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACrE,CAAC,EACLG,IAAI,CAAC7E,MAAM,KAAK,QAAQ,iBACvBxC,OAAA;wBAAKqG,SAAS,EAAC;sBAAqF;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAC3G;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC,eACNlH,OAAA;sBAAKqG,SAAS,EAAC,gBAAgB;sBAAAC,QAAA,gBAC7BtG,OAAA;wBAAKqG,SAAS,EAAC,mCAAmC;wBAAAC,QAAA,gBAChDtG,OAAA;0BAAGqG,SAAS,EAAC,4CAA4C;0BAAAC,QAAA,EAAEe,IAAI,CAACxF;wBAAW;0BAAAkF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAI,CAAC,eAChFlH,OAAA;0BAAMqG,SAAS,EAAC,uBAAuB;0BAAAC,QAAA,GAAAgB,cAAA,GAAED,IAAI,CAAC5E,QAAQ,CAAC4E,IAAI,CAAC5E,QAAQ,CAAC8B,MAAM,GAAG,CAAC,CAAC,cAAA+C,cAAA,uBAAvCA,cAAA,CAAyC1E;wBAAI;0BAAAmE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC3F,CAAC,eACNlH,OAAA;wBAAGqG,SAAS,EAAC,gCAAgC;wBAAAC,QAAA,EAAEe,IAAI,CAACpF;sBAAQ;wBAAA8E,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACjElH,OAAA;wBAAGqG,SAAS,EAAC,gCAAgC;wBAAAC,QAAA,GAAAiB,eAAA,GAAEF,IAAI,CAAC5E,QAAQ,CAAC4E,IAAI,CAAC5E,QAAQ,CAAC8B,MAAM,GAAG,CAAC,CAAC,cAAAgD,eAAA,uBAAvCA,eAAA,CAAyC5E;sBAAI;wBAAAoE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC9F,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH;gBAAC,GAvBDG,IAAI,CAACzF,EAAE;kBAAAmF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAwBT,CAAC;cAAA,CACP;YACA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNlH,OAAA;UAAKqG,SAAS,EAAC,+BAA+B;UAAAC,QAAA,gBAE5CtG,OAAA;YAAKqG,SAAS,EAAC,gEAAgE;YAAAC,QAAA,gBAC7EtG,OAAA;cAAKqG,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CtG,OAAA;gBAAKqG,SAAS,EAAC,UAAU;gBAAAC,QAAA,gBACvBtG,OAAA;kBAAKqG,SAAS,EAAC,qEAAqE;kBAAAC,QAAA,eAClFtG,OAAA;oBAAMqG,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,EAChD,CAAAR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEvD,MAAM,KAAI;kBAAI;oBAAAwE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzB;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,EACH,CAAApB,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEtD,MAAM,MAAK,QAAQ,iBAClCxC,OAAA;kBAAKqG,SAAS,EAAC;gBAAqF;kBAAAU,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAC3G;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACNlH,OAAA;gBAAAsG,QAAA,gBACEtG,OAAA;kBAAIqG,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,EAC9C,CAAAR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEjE,WAAW,KAAI;gBAAkB;kBAAAkF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9C,CAAC,eACLlH,OAAA;kBAAGqG,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EACjC,CAAAR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE7D,QAAQ,KAAI;gBAAU;kBAAA8E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNlH,OAAA;cAAKqG,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CtG,OAAA;gBAAQqG,SAAS,EAAC,mFAAmF;gBAAAC,QAAA,eACnGtG,OAAA;kBAAKqG,SAAS,EAAC,SAAS;kBAACG,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAAJ,QAAA,eAC5EtG,OAAA;oBAAM2G,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAAuN;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5R;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACTlH,OAAA;gBAAQqG,SAAS,EAAC,mFAAmF;gBAAAC,QAAA,eACnGtG,OAAA;kBAAKqG,SAAS,EAAC,SAAS;kBAACG,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAAJ,QAAA,eAC5EtG,OAAA;oBAAM2G,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAAoI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNlH,OAAA;YAAKqG,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EAClDR,YAAY,aAAZA,YAAY,wBAAAzF,qBAAA,GAAZyF,YAAY,CAAErD,QAAQ,cAAApC,qBAAA,uBAAtBA,qBAAA,CAAwBiB,GAAG,CAAEkG,GAAG,iBAC/BxH,OAAA;cAEEqG,SAAS,EAAE,QAAQmB,GAAG,CAAC9E,MAAM,KAAK,QAAQ,GAAG,aAAa,GAAG,eAAe,EAAG;cAAA4D,QAAA,eAE/EtG,OAAA;gBACEqG,SAAS,EAAE,6CACTmB,GAAG,CAAC9E,MAAM,KAAK,QAAQ,GACnB,qBAAqB,GACrB,2BAA2B,EAC9B;gBAAA4D,QAAA,gBAEHtG,OAAA;kBAAGqG,SAAS,EAAC,SAAS;kBAAAC,QAAA,EAAEkB,GAAG,CAAC7E;gBAAI;kBAAAoE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrClH,OAAA;kBAAGqG,SAAS,EAAE,gBACZmB,GAAG,CAAC9E,MAAM,KAAK,QAAQ,GAAG,eAAe,GAAG,eAAe,EAC1D;kBAAA4D,QAAA,EACAkB,GAAG,CAAC5E;gBAAI;kBAAAmE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC,GAhBDM,GAAG,CAAC5F,EAAE;cAAAmF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAiBR,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNlH,OAAA;YAAKqG,SAAS,EAAC,8BAA8B;YAAAC,QAAA,gBAC3CtG,OAAA;cAAKqG,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CtG,OAAA;gBAAQqG,SAAS,EAAC,yGAAyG;gBAAAC,QAAA,eACzHtG,OAAA;kBAAKqG,SAAS,EAAC,uBAAuB;kBAACG,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAAJ,QAAA,eAC1FtG,OAAA;oBAAM2G,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAA4B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjG;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACTlH,OAAA;gBACEmH,IAAI,EAAC,MAAM;gBACXM,KAAK,EAAEnH,OAAQ;gBACfoH,QAAQ,EAAGtB,CAAC,IAAK7F,UAAU,CAAC6F,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE;gBAC5CG,UAAU,EAAEzB,cAAe;gBAC3BiB,WAAW,EAAC,8CAA8C;gBAC1Df,SAAS,EAAC;cAAgI;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3I,CAAC,eACFlH,OAAA;gBACEuG,OAAO,EAAER,iBAAkB;gBAC3B8B,QAAQ,EAAEjH,OAAO,IAAI,CAACN,OAAO,CAAC0F,IAAI,CAAC,CAAE;gBACrCK,SAAS,EAAC,sJAAsJ;gBAAAC,QAAA,EAE/J1F,OAAO,gBACNZ,OAAA;kBAAKqG,SAAS,EAAC;gBAA2D;kBAAAU,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,gBAEjFlH,OAAA;kBAAKqG,SAAS,EAAC,oBAAoB;kBAACG,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAAJ,QAAA,eACvFtG,OAAA;oBAAM2G,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAAkC;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvG;cACN;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNlH,OAAA;cAAGqG,SAAS,EAAC,wCAAwC;cAAAC,QAAA,GAAC,kDACJ,EAAC,CAAAR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE7D,QAAQ,KAAI,eAAe;YAAA;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9G,EAAA,CAzbIH,SAAS;AAAA6H,EAAA,GAAT7H,SAAS;AA2bf,eAAeA,SAAS;AAAC,IAAA6H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}